!function(){function t(e,n,i){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(e,n,i||e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=t[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(s){o=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{k2fN:function(n,o,l){"use strict";l.r(o),l.d(o,"AdminModule",(function(){return Fo}));var d=l("SVse"),p=l("IheW"),b=l("iInd"),f=l("3vOV"),h=l("s7LF"),m=l("BNhx"),C=l("8Y7J"),x=l("VRyK"),O=l("xgIS"),y=l("IzEk"),M=function(t){return t[t.NOT_SELECT=0]="NOT_SELECT",t[t.SET_START=1]="SET_START",t[t.SET_END=2]="SET_END",t}({}),_=function(t){return t.ALL="ALL",t.DAY="DATE_FILTER_DAY",t.WEEK="DATE_FILTER_WEEK",t.MONTH="DATE_FILTER_MONTH",t.YEAR="DATE_FILTER_YEAR",t.CUSTOM="custom",t}({}),P=function(t){return t.PURPOSE_ALL="ALL",t.ADMIN_ACCOUNT="ADMIN",t.SYSTEM_ACCOUNT="REGISTERED",t}({}),v={type:"date",setDayEnd:function(t){return t.setHours(23,59,59,999),t},bindConst:function(t,e){var n={startDate:new Date,endDate:new Date};switch(n.startDate.setHours(0,0,0,0),this.setDayEnd(n.endDate),e){case _.DAY:t[this.type].data=n;break;case _.MONTH:n.startDate.setMonth(n.startDate.getMonth()-1),t[this.type].data=n;break;case _.WEEK:n.startDate.setDate(n.startDate.getDate()-7),t[this.type].data=n;break;case _.YEAR:n.startDate.setFullYear(n.startDate.getFullYear()-1),t[this.type].data=n}return t}};function k(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",2),C.Zb("click",(function(){return C.uc(n),C.dc().popupChange()})),C.Sb(1,"i",3),C.Zb("click",(function(t){return C.uc(n),C.dc().refresh(t)})),C.Rb(),C.Sb(2,"span"),C.Fc(3),C.ec(4,"translate"),C.Rb(),C.Rb()}if(2&t){var i=C.dc();C.Ab("color",i.isSelected||i.isExistFilter?"primary":"white")("size",i.btSize),C.zb(1),C.jc("ngClass",i.iconStyle),C.zb(2),C.Gc(C.fc(4,4,i.isExistFilter?"FILTERED":"FILTER"))}}function S(t,e){if(1&t&&(C.Sb(0,"label"),C.Fc(1),C.Rb()),2&t){var n=C.dc().$implicit;C.zb(1),C.Gc(n.label)}}function D(t,e){if(1&t){var n=C.Tb();C.Sb(0,"sd-date-dropdown",13),C.Zb("dateChange",(function(t){C.uc(n);var e=C.dc().$implicit;return C.dc(2).customDate(t,e.item[0].value)})),C.Rb()}if(2&t){var i=C.dc().$implicit,o=C.dc(2);C.Db("label-box ",i.type," ",o.formSize,""),C.Eb("selected",o.isActiveFilter("date",i.item[0].value)),C.jc("activeFilter",o.activeFilter)("datePickerDirection",o.datePickerDirection)("startDate",null==o.activeFilter||null==o.activeFilter.date||null==o.activeFilter.date.data?null:o.activeFilter.date.data.startDate)("endDate",null==o.activeFilter||null==o.activeFilter.date||null==o.activeFilter.date.data?null:o.activeFilter.date.data.endDate)("disableNext",!0)("dateFormat",(null==i.options?null:i.options.dateFormat)||"yyyy.MM.dd")}}function w(t,e){1&t&&C.Nb(0,"div")}function E(t,e){if(1&t){var n=C.Tb();C.Sb(0,"pu-dropdown",14),C.Zb("ngModelChange",(function(t){C.uc(n);var e=C.dc().$implicit;return C.dc(2).selectDropdown(e,t)})),C.Rb()}if(2&t){var i=C.dc().$implicit,o=C.dc(2);C.jc("size",o.formSize)("options",i.item)("ngModel",o.currentDropdown(i))("ngStyle",null==i.options?null:i.options.style)}}function T(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",16),C.Zb("click",(function(){C.uc(n);var t=e.$implicit,i=C.dc(2).$implicit;return C.dc(2).active(i.type,t.value)})),C.Fc(1),C.ec(2,"translate"),C.Rb()}if(2&t){var i=e.$implicit,o=C.dc(2).$implicit,a=C.dc(2);C.Cb("ep-button ",i.value,""),C.Ab("color",a.isActiveFilter(o.type,i.value)?"primary":a.btColor)("size",a.formSize),C.zb(1),C.Gc(C.fc(2,6,i.label))}}function I(t,e){if(1&t&&(C.Sb(0,"div"),C.Dc(1,T,3,8,"button",15),C.Rb()),2&t){var n=C.dc().$implicit;C.Cb("selectable-list ",n.type,""),C.zb(1),C.jc("ngForOf",n.item)}}function R(t,e){if(1&t&&(C.Sb(0,"div",7),C.Dc(1,S,2,1,"label",8),C.Dc(2,D,1,12,"sd-date-dropdown",9),C.Dc(3,w,1,0,"div",10),C.Dc(4,E,1,4,"pu-dropdown",11),C.Dc(5,I,2,4,"div",12),C.Rb()),2&t){var n=e.$implicit,i=C.dc(2);C.Cb("field ",n.type,""),C.jc("ngSwitch",n.type),C.zb(1),C.jc("ngIf",!i.elClassList.contains("no-label")&&!!n.label),C.zb(1),C.jc("ngSwitchCase","custom-date"),C.zb(1),C.jc("ngSwitchCase","vr"),C.zb(1),C.jc("ngSwitchCase","dropdown")}}function N(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",17),C.Zb("click",(function(){return C.uc(n),C.dc(2).popupChange()})),C.Fc(1),C.ec(2,"translate"),C.Rb()}if(2&t){var i=C.dc(2);C.Ab("size",i.btSize||"tiny"),C.zb(1),C.Gc(C.fc(2,2,"CLOSE"))}}function A(t,e){if(1&t&&(C.Sb(0,"div",4),C.Dc(1,R,6,8,"div",5),C.Dc(2,N,3,4,"button",6),C.Rb()),2&t){var n=C.dc();C.zb(1),C.jc("ngForOf",n.filterMenus),C.zb(1),C.jc("ngIf",!n.dock)}}var z,L,F=((z=function(){function t(e,n,i,o){u(this,t),this.ngControl=e,this.changeDetectorRef=n,this.elRef=i,this.fb=o,this.filterMenus=[],this.deactive=!0,this.activeFilter={},this.datePickerDirection="left",this.activeFilterChange=new C.n,this.isSelected=!1,this.menuSubs=[],this.btColor="grey",this.dock=!1,this.btSize="small",this.formSize="small",this.visibleYearSelector=!1,this.yearDesc="",this.avcChanger=function(t){return t},this.ngControl&&(this.ngControl.valueAccessor=this)}return g(t,[{key:"hostMouseDown",value:function(t){t.stopImmediatePropagation(),t.stopPropagation()}},{key:"ngOnInit",value:function(){var t=this,e=this.elRef.nativeElement.classList;this.elClassList=e,this.dock=e.contains("dock"),this.isSelected=this.dock;var n=this.filterMenus.filter((function(t){return t.defaultValues}));n.length>0&&n.forEach((function(e){e.defaultValues.forEach((function(n){t.active(e.type,n)}))})),e.contains("button-color-dflt")&&(this.btColor="white"),e.contains("small")&&(this.btSize="small"),e.contains("form-small")&&(this.formSize="small")}},{key:"ngOnChanges",value:function(t){var e,n;(null===(e=t.activeFilter)||void 0===e?void 0:e.currentValue.date)?this.buildConstDateFilter(t.activeFilter.currentValue.date.value[0]):(null===(n=t.activeFilter)||void 0===n?void 0:n.currentValue.status)&&this.emit()}},{key:"refresh",value:function(t){return!this.isExistFilter||(this.activeFilter={},this.emit(),Boolean(t)&&t.stopPropagation(),!1)}},{key:"customDate",value:function(t,e){t.status===M.SET_START&&(this.activeFilter.date={value:[_.CUSTOM]}),this.activeFilter.date.data={startDate:new Date(t.startDate),endDate:new Date(t.endDate)},v.setDayEnd(this.activeFilter.date.data.endDate),t.status===M.SET_END&&this.emit()}},{key:"active",value:function(t,e){var n;this.toggleYearSelector(!0);var i=this.filterMenus.find((function(e){return e.type===t}));void 0!==i&&(this.deactive&&(null===(n=this.activeFilter[t])||void 0===n?void 0:n.value.find((function(t){return t===e})))?this.activeFilter[t].value=this.activeFilter[t].value.filter((function(t){return t!==e})):this.activeFilter[t]=i.isMulti&&this.activeFilter[t]?{value:[].concat(s(this.activeFilter[t].value),[e])}:{value:[e]},this.isAllValue(e)||0===this.activeFilter[t].value.length?delete this.activeFilter[t]:this.buildConstDateFilter(e),this.emit())}},{key:"isActiveFilter",value:function(t,e){var n;return Boolean(null===(n=this.activeFilter[t])||void 0===n?void 0:n.value.find((function(t){return t===e})))||this.isAllValue(e)&&!this.activeFilter[t]}},{key:"popupChange",value:function(){var t=this;this.isSelected=!this.isSelected,this.isSelected?this.menuSubs.push(x.a(O.a(window,"mousedown"),O.a(window,"touchstart")).pipe(y.a(1)).subscribe({next:function(e){t.popupChange()}})):(this.menuSubs.forEach((function(t){return t.unsubscribe()})),this.menuSubs=[]),this.changeDetectorRef.markForCheck()}},{key:"toggleYearSelector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.visibleYearSelector=!t&&!this.visibleYearSelector}},{key:"activeYear",value:function(){var t;this.toggleYearSelector(!0);var e=this.yearPeriodFc.value,n=e.from.value,i=e.to.value;i<n&&(n=(t=[i,n])[0],i=t[1]),this.yearDesc="".concat(n," - ").concat(i),this.emit()}},{key:"deactiveYear",value:function(t){t.stopPropagation(),this.active("date",this.filterMenus[0].item[0].value)}},{key:"currentDropdown",value:function(t){var e,n=null===(e=this.activeFilter[t.key||t.type])||void 0===e?void 0:e.value;return n&&void 0!==n[0]&&t.item.find((function(t){return t.value===n[0].value}))||t.item[0]}},{key:"selectDropdown",value:function(t,e){var n=t.key||t.type,i=this.activeFilter[n];null==e.value?delete this.activeFilter[n]:this.activeFilter[n]={value:[e]};var o=this.activeFilter[n];i!==o&&(null==i?void 0:i.value[0].value)!==(null==o?void 0:o.value[0].value)&&this.emit()}},{key:"writeValue",value:function(t){this.changeDetectorRef.markForCheck(),this.activeFilter=t||{}}},{key:"registerOnChange",value:function(t){this.avcChanger=t}},{key:"registerOnTouched",value:function(t){}},{key:"isAllValue",value:function(e){return t.ALL_VALUES.has(e.toLowerCase())}},{key:"buildConstDateFilter",value:function(t){v.bindConst(this.activeFilter,t)}},{key:"emit",value:function(){this.activeFilterChange.emit(this.activeFilter),this.avcChanger(this.activeFilter)}},{key:"isExistFilter",get:function(){return 0!==Object.keys(this.activeFilter).length}},{key:"iconStyle",get:function(){return{"papycon-funnel":!this.isExistFilter,"papycon-cross":this.isExistFilter}}},{key:"yearPeriodFc",get:function(){return this._yearPeriodFc||(this._yearPeriodFc=this.fb.group({from:[this.yearOptions[this.yearOptions.length-1]],to:[this.yearOptions[this.yearOptions.length-1]]})),this._yearPeriodFc}},{key:"yearOptions",get:function(){return this._yearOptions}}]),t}()).ALL_VALUES=new Set(["all","not-selected"]),z.\u0275fac=function(t){return new(t||z)(C.Mb(h.q,10),C.Mb(C.h),C.Mb(C.l),C.Mb(h.g))},z.\u0275cmp=C.Gb({type:z,selectors:[["sd-filter-pop-up"]],hostBindings:function(t,e){1&t&&C.Zb("mousedown",(function(t){return e.hostMouseDown(t)}))("touchstart",(function(t){return e.hostMouseDown(t)}))},inputs:{filterMenus:"filterMenus",deactive:"deactive",activeFilter:"activeFilter",datePickerDirection:"datePickerDirection"},outputs:{activeFilterChange:"activeFilterChange"},features:[C.yb([f.G]),C.xb],decls:2,vars:2,consts:[["class","ep-button dock-button",3,"click",4,"ngIf"],["class","filters",4,"ngIf"],[1,"ep-button","dock-button",3,"click"],[1,"papycon",3,"ngClass","click"],[1,"filters"],[3,"class","ngSwitch",4,"ngFor","ngForOf"],["class","ep-button","color","white",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngIf"],[3,"class","activeFilter","datePickerDirection","selected","startDate","endDate","disableNext","dateFormat","dateChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"size","options","ngModel","ngStyle","ngModelChange",4,"ngSwitchCase"],[3,"class",4,"ngSwitchDefault"],[3,"activeFilter","datePickerDirection","startDate","endDate","disableNext","dateFormat","dateChange"],[3,"size","options","ngModel","ngStyle","ngModelChange"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["color","white",1,"ep-button",3,"click"]],template:function(t,e){1&t&&(C.Dc(0,k,5,6,"button",0),C.Dc(1,A,3,2,"div",1)),2&t&&(C.jc("ngIf",!e.dock),C.zb(1),C.jc("ngIf",e.isSelected))},styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]:not(.dock)   .filters[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;border-radius:6px;-webkit-box-shadow:0 4px 32px 0 hsla(0,0%,42.4%,.12);box-shadow:0 4px 32px 0 hsla(0,0%,42.4%,.12);padding:24px 20px;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:999;-webkit-transform:translateY(4px);transform:translateY(4px);left:0}.dock[_nghost-%COMP%]   .field.custom-date[_ngcontent-%COMP%], .dock[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .selectable-list[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:20px}[_nghost-%COMP%]:not(.inline)   .filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:first-child){margin-top:12px}.inline[_nghost-%COMP%]   .filters[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.inline[_nghost-%COMP%]   .filters[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}.inline[_nghost-%COMP%]   .vr[_ngcontent-%COMP%]{width:1px;background:#dadada;line-height:30px;height:30px}.dock-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:19px}.filters[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;margin-top:20px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;display:inline-block;height:28px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .selectable-list[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .selectable-list[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .selectable-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;margin-right:10px;border:1px solid #363636;border-radius:5px;cursor:pointer}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .selectable-list[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{background-color:#f79f1a;color:#fff}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   sd-date-dropdown[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   sd-date-dropdown[_ngcontent-%COMP%]  .calendar-container{z-index:999;position:absolute}.right[_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{right:0}.inline-date[_nghost-%COMP%]   .custom-date[_ngcontent-%COMP%], .inline-date[_nghost-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}.inline-date[_nghost-%COMP%]:not(.date-only)   .field.custom-date[_ngcontent-%COMP%]{float:right}.inline-date.date-only[_nghost-%COMP%]   .field.custom-date[_ngcontent-%COMP%]{margin-top:0}.year-period[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{position:relative}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{top:4px;position:absolute;width:228px;height:147px;-webkit-box-sizing:border-box;background-color:#fff;border:1px solid #dadada;border-radius:2px;-webkit-box-shadow:0 4px 8px 0 hsla(0,0%,42.4%,.12);box-shadow:0 4px 8px 0 hsla(0,0%,42.4%,.12);padding:24px 20px 20px;box-sizing:border-box;z-index:1}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0 0 15px;padding:0;list-style:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;line-height:22px;font-family:NotoSans-Medium,sans-serif;color:#6c6c6c}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:30px;line-height:30px;text-align:center}.year-period[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   pu-dropdown[_ngcontent-%COMP%]{margin-top:6px;width:80px}.field.dropdown[_ngcontent-%COMP%]   pu-dropdown[_ngcontent-%COMP%]{display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}"],changeDetection:0}),z),G=l("vbd7"),U=l("Vbab"),j=l("e0KV"),H=l("gNdQ"),V=((L=function t(){u(this,t)}).\u0275mod=C.Kb({type:L}),L.\u0275inj=C.Jb({factory:function(t){return new(t||L)},imports:[[d.c,f.l,h.n,h.B,G.a,U.b]]}),L);C.xc(F,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,f.k,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.u,h.v,h.t,h.i,h.l,h.j,h.m,h.f,j.a,F],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,H.a]);var B,W=l("OwfK"),Y=l("2NAA"),K=l("N8+f"),$=l("yqQy"),Z=l("pLZG"),q=l("nYR2"),J=l("lJxs"),Q=l("0lfv"),X=((B=function(){function t(e,n){u(this,t),this.baseHref=e,this.httpClient=n,this.gzipHeaders=new p.e({"Content-Encoding":"gzip","Accept-Language":"utf-8"})}return g(t,[{key:"getUserList",value:function(t){return this.httpClient.get(""+this.userUrl,{headers:this.gzipHeaders,params:this.makeHttpParams(t)})}},{key:"deleteUsers",value:function(t){return this.httpClient.request("delete",""+this.userUrl,{body:t})}},{key:"postRegisterUser",value:function(t,e,n,i){return this.httpClient.post(""+this.userUrl,{userId:e,password:n,name:t,type:i})}},{key:"patchUser",value:function(t,e){return this.httpClient.patch("".concat(this.baseHref,"v4/user/").concat(t),e)}},{key:"makeHttpParams",value:function(t){var e=new p.f;return Object.keys(t).filter((function(e){return void 0!==t[e]})).forEach((function(n){e=e.set(n,String(t[n]))})),e}},{key:"userUrl",get:function(){return this.baseHref+"v4/user"}}]),t}()).\u0275fac=function(t){return new(t||B)(C.Wb(d.a),C.Wb(p.b))},B.\u0275prov=C.Ib({token:B,factory:B.\u0275fac}),B),tt=l("Ads2"),et=l("tqRt"),nt=l("eZmz"),it=l("Ttf1"),ot=l("8hHe");function at(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",3),C.Zb("click",(function(){return C.uc(n),C.dc().movePage(1)})),C.Fc(1,"\u2026"),C.Rb()}}function rt(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",4),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().movePage(t)})),C.Fc(1),C.Rb()}if(2&t){var i=e.$implicit,o=C.dc();C.Ab("color",o.getIndexClass(i)?"primary-70":"dark"),C.zb(1),C.Gc(i)}}function ct(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",3),C.Zb("click",(function(){C.uc(n);var t=C.dc();return t.movePage(t.last)})),C.Fc(1,"\u2026"),C.Rb()}}var st,lt=((st=function(){function t(e,n){u(this,t),this.ngControl=e,this.cdr=n,this.prevLabel="",this.nextLabel="",this.pageChange=new C.n,this.indexList=[1],this._first=1,this._last=1,this._page=1,this._sideButtonCount=0,this.avcChanger=function(t){return t},this.ngControl&&(this.ngControl.valueAccessor=this)}return g(t,[{key:"ngOnChanges",value:function(t){this.computeSideList()}},{key:"ngOnInit",value:function(){this.computeSideList()}},{key:"getIndexClass",value:function(t){return t===this.page}},{key:"movePage",value:function(t){this.page!==t&&(this.writeValue(t),this.emit())}},{key:"writeValue",value:function(t){this.cdr.markForCheck(),this.page=t}},{key:"registerOnChange",value:function(t){this.avcChanger=t}},{key:"registerOnTouched",value:function(t){}},{key:"emit",value:function(){this.avcChanger(this.page),this.pageChange.emit(this.page)}},{key:"computeSideList",value:function(){var t=this;this.indexList=Array.from({length:2*this.sideButtonCount+4}).map((function(e,n){return n-t.sideButtonCount-1})).map((function(e){return t.page-t.first-1<t.sideButtonCount?t.first+t.sideButtonCount+e+1:t.last-t.page-1<t.sideButtonCount?t.last-t.sideButtonCount+e-1:e+t.page})),this.indexList[0]!==this.first&&this.indexList.splice(0,1),this.indexList[this.indexList.length-1]!==this.last&&this.indexList.splice(this.indexList.length-1,1),this.indexList=this.indexList.filter((function(e){return t.first<=e&&e<=t.last}))}},{key:"first",get:function(){return this._first},set:function(t){if(this.first!==t){if(this.last<t)throw new Error("'first' value out of range. Expect last(".concat(this.last,") < first(").concat(t,")"));this._first=t,this.page<this.first?this.page=this.first:this.computeSideList()}}},{key:"last",get:function(){return this._last},set:function(t){if(this.last!==t){if(t<this.first)throw new Error("'last' value out of range. Expect last(".concat(t,") < first(").concat(this.first,")"));this._last=t,this.last<this.page?this.page=this.last:this.computeSideList()}}},{key:"page",get:function(){return this._page},set:function(t){if(this.page!==t){if(this.last<t)throw new Error("page value out of range. Expect page(".concat(t,") < last(").concat(this.last,")"));if(t<this.first)throw new Error("page value out of range. Expect first(".concat(this.first,") < page(").concat(t,")"));this._page=t,this.computeSideList()}}},{key:"sideButtonCount",get:function(){return this._sideButtonCount},set:function(t){this.sideButtonCount!==t&&(this._sideButtonCount=t,this.computeSideList())}}]),t}()).\u0275fac=function(t){return new(t||st)(C.Mb(h.q,10),C.Mb(C.h))},st.\u0275cmp=C.Gb({type:st,selectors:[["sd-pagination"]],inputs:{first:"first",last:"last",page:"page",sideButtonCount:"sideButtonCount",prevLabel:"prevLabel",nextLabel:"nextLabel"},outputs:{pageChange:"pageChange"},features:[C.xb],decls:7,vars:7,consts:[["color","dark",1,"ep-text-button",3,"disabled","click"],["class","ep-text-button","color","dark",3,"click",4,"ngIf"],["class","ep-text-button",3,"click",4,"ngFor","ngForOf"],["color","dark",1,"ep-text-button",3,"click"],[1,"ep-text-button",3,"click"]],template:function(t,e){1&t&&(C.Sb(0,"button",0),C.Zb("click",(function(){return e.movePage(e.page-1)})),C.Fc(1),C.Rb(),C.Dc(2,at,2,0,"button",1),C.Dc(3,rt,2,2,"button",2),C.Dc(4,ct,2,0,"button",1),C.Sb(5,"button",0),C.Zb("click",(function(){return e.movePage(e.page+1)})),C.Fc(6),C.Rb()),2&t&&(C.jc("disabled",e.first===e.page),C.zb(1),C.Gc(e.prevLabel),C.zb(1),C.jc("ngIf",e.first+1<e.indexList[0]),C.zb(1),C.jc("ngForOf",e.indexList),C.zb(1),C.jc("ngIf",e.indexList[e.indexList.length-1]<e.last-1),C.zb(1),C.jc("disabled",e.page===e.last),C.zb(1),C.Gc(e.nextLabel))},directives:[d.t,d.s],styles:["[_nghost-%COMP%]{width:100%;text-align:center}button[_ngcontent-%COMP%]{min-width:40px;height:40px;margin:0 6px}"],changeDetection:0}),st);function dt(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.name)}}function ut(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.userId)}}function pt(t,e){if(1&t&&(C.Sb(0,"div"),C.Nb(1,"pu-dropdown",15),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.jc("formControlName",n.id)("options",i.accountOptions)}}function gt(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"date"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.gc(2,1,n.createdAt,"yyyy-MM-dd"))}}function bt(t,e){1&t&&(C.Sb(0,"div",16),C.Sb(1,"div",17),C.Nb(2,"span",18),C.Sb(3,"p",19),C.Fc(4),C.ec(5,"translate"),C.Rb(),C.Nb(6,"div",20),C.Sb(7,"p",21),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(4),C.Gc(C.fc(5,2,"NO_ADMIN")),C.zb(4),C.Gc(C.fc(9,4,"PLEASE_ADD_ADMIN")))}var ft,ht,mt,Ct,xt,Ot=((ft=function(){function t(e,n,i,o,a,r,c,s,l){var d=this;u(this,t),this.formBuilder=e,this.changeDetectorRef=n,this.accountDataService=i,this.toastService=o,this.authService=a,this.translatePipe=r,this.adminDialogService=c,this.store$=s,this.subs=l,this.filterMenus=[{label:this.translatePipe.transform("DATE"),type:"date",item:Object.values(_).filter((function(t){return t!==_.CUSTOM})).map((function(t){return{label:t,value:t}})),isMulti:!1},{label:this.translatePipe.transform("MANUAL_SELECT"),type:"custom-date",item:[{label:"",value:_.CUSTOM}],isMulti:!1},{label:this.translatePipe.transform("USER_PURPOSE_LABEL"),type:"purpose",item:Object.values(P).map((function(t){return{label:t,value:t}})),isMulti:!1}],this.accountOptions=[{label:this.translatePipe.transform($.e.USER),value:$.e.USER},{label:this.translatePipe.transform($.e.ADMIN),value:$.e.ADMIN}],this.displayedColumns=[{key:"name",title:this.translatePipe.transform("NAME"),sortable:!0},{key:"userId",title:this.translatePipe.transform("EMAIL"),sortable:!0},{key:"type",title:this.translatePipe.transform("ACCOUNT_PURPOSE"),sortable:!0},{key:"createdAt",title:this.translatePipe.transform("CREATED_AT"),sortable:!0}],this.formGroup=this.formBuilder.group({purpose:this.formBuilder.group({}),name:"",checkedIds:""}),this.userInfoFormGroup=this.formBuilder.group({id:"",name:["",h.F.required],email:[{value:"",disabled:!0},h.F.required],password:["",[Q.A.passwordValidators,function(){d.userInfoFormGroup&&d.userInfoFormGroup.controls.passwordCheck.updateValueAndValidity()}]],passwordCheck:["",[function(t){return d.userInfoFormGroup?t.value===d.userInfoFormGroup.get("password").value?null:{message:d.translatePipe.transform("INVALID_PASSWORD")}:null}]],purpose:W.a[0]}),this.isLoading=!1,this.table=new Y.a,this.NUM_PER_PAGE="13"}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.getUsers(),this.subs.push(this.store$.pipe(Object($.f)()).subscribe({next:function(e){t.user=e,t.table.reset(),t.getUsers(),t.changeDetectorRef.markForCheck()}}),this.table.filterChanges.subscribe({next:function(){t.table.reset(),t.getUsers()}}),this.table.filterGroup.get("keyword").valueChanges.pipe(Z.a((function(t){return!t}))).subscribe({next:function(){t.searchKeyword()}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.DELETE_ITEMS}))).subscribe({next:function(){t.adminDialogService.closeCurrentActiveDialog(),t.deleteUser()}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.MODIFY_USER}))).subscribe({next:function(){t.adminDialogService.closeCurrentActiveDialog();var e=t.userInfoFormGroup.controls.purpose.value.value;t.userInfoFormGroup.controls.id.value!==t.user.id||e!==$.e.USER||t.isLastAdmin(t.user.id)&&e===$.e.USER?t.updateUser({id:t.userInfoFormGroup.controls.id.value,purpose:t.userInfoFormGroup.controls.purpose.value.value,password:t.userInfoFormGroup.controls.password.value,name:t.userInfoFormGroup.controls.name.value,userId:t.userInfoFormGroup.controls.email.value}):t.adminDialogService.toggleDialogVisibility(m.c.WARNING,!0,{title:t.translatePipe.transform("CHANGE_PURPOSE_WARNING_TITLE"),description:t.translatePipe.transform("CHANGE_PURPOSE_WARNING_MESSAGE"),size:{width:388,height:280},data:{from:"modify_modal",formGroup:t.userInfoFormGroup}})}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.CREATE_USER}))).subscribe({next:function(){t.registerUser()}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return t.dialogType===m.c.WARNING}))).subscribe({next:function(e){"confirm"===e.action&&(t.adminDialogService.closeCurrentActiveDialog(),t.updateUser("table"===e.data.from?{id:e.data.control.id,purpose:e.data.control.control.value}:{id:t.userInfoFormGroup.controls.id.value,purpose:t.userInfoFormGroup.controls.purpose.value.value,password:t.userInfoFormGroup.controls.password.value,name:t.userInfoFormGroup.controls.name.value,userId:t.userInfoFormGroup.controls.email.value}),t.authService.logout().subscribe()),"close"===e.action&&t.getUsers()}}))}},{key:"ngAfterContentInit",value:function(){this.getUsers()}},{key:"searchKeyword",value:function(){this.table.reset(),this.getUsers()}},{key:"onCreateClick",value:function(){this.userInfoFormGroup.reset({purpose:W.a[0]}),this.userInfoFormGroup.get("email").enable(),this.adminDialogService.toggleDialogVisibility(m.c.CREATE_USER,!0,{title:this.translatePipe.transform("NEW_ADMIN"),size:{width:452,height:595},formGroup:this.userInfoFormGroup})}},{key:"onDeleteClick",value:function(){var t=this,e=this.formGroup.controls.checkedIds.value.map((function(e){return t.table.getData().find((function(t){return t.id===e}))}));e.some((function(e){return e.id===t.user.id}))?this.toastService.showToast({icon:"failed",text:this.translatePipe.transform("CANNOT_DELETE_SELF_ACCOUNT")}):this.adminDialogService.toggleDialogVisibility(m.c.DELETE_ITEMS,!0,{description:"",size:{width:336,height:280},data:e,caller:m.d.ACCOUNT})}},{key:"onItemDblClick",value:function(t){this.userInfoFormGroup.setValue({id:t.id,name:t.name,email:t.userId,password:"",passwordCheck:"",purpose:W.a.find((function(e){return e.value===t.type}))}),this.adminDialogService.toggleDialogVisibility(m.c.MODIFY_USER,!0,{title:this.translatePipe.transform("MODIFY_USER_INFO"),size:{width:452,height:595},formGroup:this.userInfoFormGroup})}},{key:"checkedStatusChange",value:function(t){this.formGroup.controls.checkedIds.setValue(t)}},{key:"deleteUser",value:function(){var t=this;this.isLoading=!0,this.subs.set("deleteUser",this.accountDataService.deleteUsers(this.formGroup.controls.checkedIds.value).pipe(q.a((function(){t.table.reset(),t.getUsers()}))).subscribe({next:function(){t.toastService.showToast({icon:"success",text:t.translatePipe.transform("DELETE_COMPLETE")})},error:function(e){e.status===K.b.NOT_ACCEPTABLE&&t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("REJECTED_TO_DELETE_ACCOUNT")})}}))}},{key:"updateUser",value:function(t){var e,n=this;if(this.isLastAdmin(t.id)&&t.purpose===$.e.USER)return this.toastService.showToast({icon:"failed",text:this.translatePipe.transform("CHANGE_LAST_ADMIN_USAGE_EXCEPTION")}),void this.getUsers();this.isLoading=!0,this.subs.set("updateUser",this.accountDataService.patchUser(t.id,{email:t.userId,name:t.name,password:""===(null===(e=t.password)||void 0===e?void 0:e.trim())?void 0:t.password,type:t.purpose}).pipe(q.a((function(){n.table.reset(),n.userInfoFormGroup.reset(""),n.getUsers()}))).subscribe({next:function(){n.toastService.showToast({icon:"success",text:n.translatePipe.transform("SUCCEED_PATCHING")})},error:function(){n.isLoading=!1}}))}},{key:"registerUser",value:function(){var t=this;this.subs.set("registerUser",this.accountDataService.postRegisterUser(this.userInfoFormGroup.controls.name.value,this.userInfoFormGroup.controls.email.value,this.userInfoFormGroup.controls.password.value,this.userInfoFormGroup.controls.purpose.value.value).subscribe({next:function(){t.table.reset(),t.userInfoFormGroup.reset(""),t.getUsers(),t.toastService.showToast({icon:"success",text:t.translatePipe.transform("CREATE_USER")}),t.adminDialogService.closeCurrentActiveDialog()},error:function(e){e.status===K.b.BAD_REQUEST&&t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("DUPLICATED_EMAIL")})}}))}},{key:"getUsers",value:function(){var t=this,e=this.table.getPeriodValue();this.isLoading=!0,this.subs.push(this.accountDataService.getUserList({pageIndex:this.table.getPageInfo().currentIndex,listingCount:parseInt(this.NUM_PER_PAGE),search:this.table.getKeyword(),from:e?Object(Q.H)(e.startDate):void 0,to:e?Object(Q.H)(e.endDate):void 0,orderBy:this.orderedBy,ascending:this.asc,type:this.purposeFilterValue}).pipe(q.a((function(){return t.table.isLoading=!1}))).subscribe({next:function(e){t.formGroup.controls.purpose=t.formBuilder.group({}),t.table.setData(e.resources),t.table.setPageInfo(e.pageInfo.totalCount,t.NUM_PER_PAGE),t.table.getData().forEach((function(e){t.formGroup.controls.purpose.addControl(e.id,new h.h(e.type===$.e.ADMIN?t.accountOptions[1]:t.accountOptions[0]))})),t.table.getSelectedData()&&t.table.selectData(t.table.getData().find((function(e){return e.id===t.table.getSelectedData().id}))),t.isLoading=!1,t.subs.set("dropdownChange",x.a.apply(x,s(t.table.getData().map((function(e){return t.formGroup.controls.purpose.controls[e.id].valueChanges.pipe(J.a((function(t){return{id:e.id,control:t}})))})))).subscribe({next:function(e){var n=e.control.value;e.id!==t.user.id||t.isLastAdmin(t.user.id)&&n===$.e.USER?t.updateUser({id:e.id,purpose:e.control.value}):t.adminDialogService.toggleDialogVisibility(m.c.WARNING,!0,{title:t.translatePipe.transform("CHANGE_PURPOSE_WARNING_TITLE"),description:t.translatePipe.transform("CHANGE_PURPOSE_WARNING_MESSAGE"),size:{width:388,height:280},data:{from:"table",control:e}})}})),t.changeDetectorRef.markForCheck()}}))}},{key:"sortingChanges",value:function(t){this.orderedBy=0===t.value?void 0:t.name,this.asc=0===t.value?void 0:1===t.value,this.getUsers()}},{key:"onPageChanging",value:function(t){this.table.setPageCurrentIndex(t-1),this.getUsers()}},{key:"isLastAdmin",value:function(t){return this.table.getData().find((function(e){return e.id===t})).type===$.e.ADMIN&&this.table.getData().filter((function(t){return t.type===$.e.ADMIN})).length<=1}},{key:"purposeFilterValue",get:function(){var t,e;return(null===(t=this.table.filterGroup.controls.filter.value.purpose)||void 0===t?void 0:t.value[0])===P.PURPOSE_ALL||null===(e=this.table.filterGroup.controls.filter.value.purpose)||void 0===e?void 0:e.value[0]}},{key:"currentPageIndex",get:function(){return this.table.getPageInfo().currentIndex}}]),t}()).\u0275fac=function(t){return new(t||ft)(C.Mb(h.g),C.Mb(C.h),C.Mb(X),C.Mb(tt.c),C.Mb($.c),C.Mb(U.d),C.Mb(m.b),C.Mb(et.h),C.Mb(f.G))},ft.\u0275cmp=C.Gb({type:ft,selectors:[["sd-document-list"]],features:[C.yb([f.G,f.y])],decls:30,vars:35,consts:[[3,"isLoading"],[1,"form-list-header",3,"formGroup"],[1,"tools"],["size","small","color","primary",1,"ep-button",3,"click"],[1,"papycon","papycon-plus3"],["size","small","color","grey",1,"ep-button",3,"disabled","click"],[1,"papycon","papycon-minus2"],[1,"right-side"],["formControlName","filter",1,"small",3,"filterMenus"],["size","small","useClearButton","true","formControlName","keyword",1,"custom",3,"placeholder","keydown.enter","focusout"],[3,"formGroup"],[3,"data","displayedColumns","formGroupName","currentPageIndex","emptyEl","checkedStatusChange","itemDblClick","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"last","sideButtonCount","page","prevLabel","nextLabel","pageChange"],["emptyEl",""],["size","small",3,"formControlName","options"],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-profile2"],[1,"title"],[1,"dashed"],[1,"message"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card",0),C.Sb(4,"header",1),C.Sb(5,"div",2),C.Sb(6,"button",3),C.Zb("click",(function(){return e.onCreateClick()})),C.Nb(7,"i",4),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Sb(10,"button",5),C.Zb("click",(function(){return e.onDeleteClick()})),C.Nb(11,"i",6),C.Fc(12),C.ec(13,"translate"),C.Rb(),C.Rb(),C.Sb(14,"div",7),C.Nb(15,"sd-filter-pop-up",8),C.Sb(16,"pu-input",9),C.Zb("keydown.enter",(function(){return e.searchKeyword()}))("focusout",(function(){return e.searchKeyword()})),C.ec(17,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Qb(18,10),C.Sb(19,"e-table",11),C.Zb("checkedStatusChange",(function(t){return e.checkedStatusChange(t)}))("itemDblClick",(function(t){return e.onItemDblClick(t)}))("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(20,dt,2,1,"div",12),C.Dc(21,ut,2,1,"div",12),C.Dc(22,pt,2,2,"div",12),C.Dc(23,gt,3,4,"div",12),C.Rb(),C.Pb(),C.Sb(24,"footer"),C.Sb(25,"sd-pagination",13),C.Zb("pageChange",(function(t){return e.onPageChanging(t)})),C.ec(26,"translate"),C.ec(27,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(28,bt,10,6,"ng-template",null,14,C.Ec)),2&t){var n=C.tc(29);C.zb(1),C.Gc(C.fc(2,23,"ADMIN_ACCOUNT_MANAGEMENT")),C.zb(2),C.jc("isLoading",e.isLoading),C.zb(1),C.jc("formGroup",e.table.filterGroup),C.zb(4),C.Gc(C.fc(9,25,"ADD_USER")),C.zb(2),C.jc("disabled",!(null!=e.formGroup.controls.checkedIds.value&&e.formGroup.controls.checkedIds.value.length)),C.zb(2),C.Gc(C.fc(13,27,"DELETE")),C.zb(3),C.jc("filterMenus",e.filterMenus),C.zb(1),C.jc("placeholder",C.fc(17,29,"ADMIN_ACCOUNT_SEARCH_PLACEHOLDER")),C.zb(2),C.jc("formGroup",e.formGroup),C.zb(1),C.jc("data",e.table.getData())("displayedColumns",e.displayedColumns)("formGroupName","purpose")("currentPageIndex",e.currentPageIndex)("emptyEl",n),C.zb(1),C.jc("eTableCellFor","name"),C.zb(1),C.jc("eTableCellFor","userId"),C.zb(1),C.jc("eTableCellFor","type"),C.zb(1),C.jc("eTableCellFor","createdAt"),C.zb(2),C.jc("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("page",e.table.getPageInfo().currentIndex+1)("prevLabel",C.fc(26,31,"PREVIOUS"))("nextLabel",C.fc(27,33,"NEXT"))}},directives:[nt.a,h.s,h.l,F,h.r,h.j,f.s,it.a,h.m,ot.a,lt,f.k],pipes:[H.a,d.f],styles:[".split[_ngcontent-%COMP%]{width:1px;height:20px;background:#c8c8c8}span.basic[_ngcontent-%COMP%]{background-color:#035668}span.basic[_ngcontent-%COMP%], span.premium[_ngcontent-%COMP%]{border-radius:4px;padding:2px 16px;color:#fff}span.premium[_ngcontent-%COMP%]{background-color:#0cbc82}span.undefined[_ngcontent-%COMP%]{border-radius:4px;background-color:#6c6c6c;padding:2px 16px;color:#fff}sd-loading-toast[_ngcontent-%COMP%]{position:unset;top:0;left:0}header.dialog[_ngcontent-%COMP%]{margin:40px 0 0;font-size:16px;line-height:26px;font-family:NotoSans-Medium,sans-serif;color:#1e1e1e}header.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-weight:400;margin:0}h1.regular[_ngcontent-%COMP%], h2.regular[_ngcontent-%COMP%], h3.regular[_ngcontent-%COMP%], h4.regular[_ngcontent-%COMP%], h5.regular[_ngcontent-%COMP%]{font-family:inherit}h1.light[_ngcontent-%COMP%], h2.light[_ngcontent-%COMP%], h3.light[_ngcontent-%COMP%], h4.light[_ngcontent-%COMP%], h5.light[_ngcontent-%COMP%]{color:#6c6c6c}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%]{font-size:20px;line-height:28px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:26px}h3[_ngcontent-%COMP%]{font-size:14px;line-height:24px}h4[_ngcontent-%COMP%]{font-size:13px;line-height:22px}h5[_ngcontent-%COMP%]{font-size:12px;line-height:20px}.papycon[_ngcontent-%COMP%], pu-icon[_ngcontent-%COMP%]{text-align:center}.papycon.bt[_ngcontent-%COMP%], pu-icon.bt[_ngcontent-%COMP%]{cursor:pointer}.dialog__header[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .dialog__header[_ngcontent-%COMP%]   pu-icon[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start}textarea[_ngcontent-%COMP%]{font-size:13px;line-height:22px;font-family:NotoSans-Regular,sans-serif;border:1px solid #dadada;border-radius:2px;height:62px;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f79f1a}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::placeholder{color:#6c6c6c;opacity:.7}textarea.fit[_ngcontent-%COMP%]{width:100%}pu-checkbox.custom[_ngcontent-%COMP%]{line-height:1!important;padding:3px 10px}pu-checkbox.box[_ngcontent-%COMP%]{font-size:20px;border:1px solid #dadada;background-color:#fff;border-radius:2px}pu-checkbox[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{vertical-align:initial}pu-toggle-button[_ngcontent-%COMP%]  input[type]{border:unset}.table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .thead[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;min-height:44px;border-bottom:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]{margin:0;padding:0}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{height:40px;background:#fff;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover, .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,85.5%,.1)}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%]{border-color:#f79f1a;background-color:rgba(255,248,237,.9)}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#6c6c6c}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%]{margin:0 auto 12px;font-size:40px;line-height:40px;width:40px}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon), .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon){font-size:16px;line-height:26px;color:#1e1e1e}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%]{height:2px;width:170px;margin:11px auto;background:linear-gradient(90deg,#979797,#979797 4px,transparent 0,transparent 6px) 0/6px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;flex-direction:column}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{flex-direction:column;width:170px;height:160px}.empty[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{color:#6c6c6c;font-size:22px;margin:0 auto 12px}.empty[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:NotoSans-Regular}.empty[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:14px;font-weight:400;text-align:center;font-family:NotoSans-Regular;padding-top:12px}.empty[_ngcontent-%COMP%]   .dashed[_ngcontent-%COMP%]{width:170px;height:2px;border-bottom:2px dashed #979797}.notifier[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}[_nghost-%COMP%]:not(.loading){position:relative;width:100%;min-width:1120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]{background:#f2f2f2}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{color:#6c6c6c}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{margin-top:14px;display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}sd-card[_ngcontent-%COMP%]{padding:30px 24px 37px}.form-list-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.form-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:18px}.form-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{width:307px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input.custom[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;line-height:20px;font-family:NotoSans-Medium,sans-serif;color:#6c6c6c;border-radius:12px;border:1.2px solid #c8c8c8;padding:3px 12px;margin-left:8px}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;overflow:visible}e-table[_ngcontent-%COMP%]     td.name, e-table[_ngcontent-%COMP%]     th.name{-webkit-box-flex:0;-ms-flex:0 1 245px;flex:0 1 245px;font-size:14px}e-table[_ngcontent-%COMP%]     .userId{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px}e-table[_ngcontent-%COMP%]     .createdAt{-webkit-box-flex:0;-ms-flex:0 1 152px;flex:0 1 152px;font-size:14px}e-table[_ngcontent-%COMP%]     .type{-webkit-box-flex:0;-ms-flex:0 1 250px;flex:0 1 250px;font-size:14px;display:-webkit-box;display:-ms-flexbox;display:flex}e-table[_ngcontent-%COMP%]     .type:hover pu-dropdown[size]  div.select-box{background-color:#fff;border-radius:2px;border:1px solid #dadada}e-table[_ngcontent-%COMP%]     .type pu-dropdown[size]  div.select-box{width:100px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;height:33px;border:none;background-color:transparent}e-table[_ngcontent-%COMP%]     .type pu-dropdown[size]  div.select-box div.expand-button{background-color:transparent;border-left:none}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}span.primary[_ngcontent-%COMP%]{color:#ff6100;text-decoration:underline}"]}),ft),yt=l("Ow6G"),Mt=((ht=function t(){u(this,t)}).\u0275mod=C.Kb({type:ht}),ht.\u0275inj=C.Jb({factory:function(t){return new(t||ht)},imports:[[d.c]]}),ht),_t=l("wknF"),Pt=((mt=function t(){u(this,t)}).\u0275mod=C.Kb({type:mt}),mt.\u0275inj=C.Jb({factory:function(t){return new(t||mt)},providers:[X],imports:[[d.c,yt.a,h.B,V,f.t,f.f,h.n,_t.b,Mt,f.j,f.l,Y.b,U.b]]}),mt),vt=l("93Dz"),kt=l("ey9i"),St=l("mgza"),Dt=["*"],wt=((Ct=function t(){u(this,t)}).\u0275fac=function(t){return new(t||Ct)},Ct.\u0275cmp=C.Gb({type:Ct,selectors:[["sd-main-contents"]],ngContentSelectors:Dt,decls:1,vars:0,template:function(t,e){1&t&&(C.ic(),C.hc(0))},styles:["[_nghost-%COMP%]{background-color:#f2f2f2;width:100%;height:calc(100% - 70px);display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]     .admin-content-container>:last-child:not(e-login){display:block;padding:40px 30px 50px;-webkit-box-sizing:border-box;box-sizing:border-box}[_nghost-%COMP%]     .admin-content-container>:last-child:not(e-login)>h1{margin-bottom:30px;font-size:28px;font-family:NotoSans-Medium,sans-serif}"]}),Ct),Et=l("VCX3"),Tt=l("eIep"),It=l("vkgz"),Rt=l("cYj5"),Nt=((xt=function(){function t(e,n,i,o,a,r,c,s,l){var d=this;u(this,t),this.changeDetectorRef=e,this.authService=n,this.subs=i,this.translatePipe=o,this.adminDialogService=a,this.toastService=r,this.formBuilder=c,this.store$=s,this.productService=l,this.menus=[],this.logoToggle=new C.n,this.passwordFormGroup=this.formBuilder.group({password:""}),this.userFormGroup=this.formBuilder.group({name:"",email:[{value:"",disabled:!0},h.F.required],password:["",[Q.A.passwordValidators,function(){d.userFormGroup&&d.userFormGroup.controls.passwordCheck.updateValueAndValidity()}]],passwordCheck:["",[function(t){return d.userFormGroup?t.value===d.userFormGroup.get("password").value?null:{message:d.translatePipe.transform("INVALID_PASSWORD")}:null}]],purpose:W.a[0]})}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.subs.push(this.store$.pipe(Object($.f)()).subscribe({next:function(e){t.user=e,t.userFormGroup.reset({name:t.user.name,email:t.user.userId}),t.changeDetectorRef.markForCheck()}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.MODIFY_MY_INFO})),Tt.a((function(){return t.store$.pipe(Object($.g)())}))).subscribe({next:function(e){t.subs.set("patchMyInfo",t.authService.patchMyInfo(e.id,t.userFormGroup.value).pipe(Tt.a((function(){return t.authService.sharedGetSession}))).subscribe({next:function(e){t.store$.dispatch($.a.setUser({payload:e})),t.adminDialogService.closeCurrentActiveDialog(),t.toastService.showToast({icon:"success",text:t.translatePipe.transform("CHANGES_SAVED")}),t.changeDetectorRef.markForCheck()},error:function(){t.passwordFormGroup.reset(""),t.userFormGroup.reset(""),t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("FAILED")})}}))}})),this.buildMenu()}},{key:"logout",value:function(){this.authService.logout().subscribe()}},{key:"showModifyUserInfoDialog",value:function(){var t=this;this.passwordFormGroup.reset(""),this.adminDialogService.toggleDialogVisibility(m.c.CHECK_USER,!0,{title:this.translatePipe.transform("MODIFY_USER_INFO"),size:{width:452,height:282},formGroup:this.passwordFormGroup}),this.subs.set("checkUser",this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.CHECK_USER})),y.a(1),It.a((function(){return t.adminDialogService.closeCurrentActiveDialog()})),Tt.a((function(){return t.authService.postCheckPassword(t.passwordFormGroup.controls.password.value)}))).subscribe({next:function(){t.userFormGroup.reset({name:t.user.name,email:t.user.userId}),t.adminDialogService.toggleDialogVisibility(m.c.MODIFY_MY_INFO,!0,{title:t.translatePipe.transform("MODIFY_USER_INFO"),size:{width:452,height:484},formGroup:t.userFormGroup})},error:function(){t.passwordFormGroup.reset(""),t.userFormGroup.reset({name:t.user.name,email:t.user.userId}),t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("INVALID_PASSWORD")})}}))}},{key:"getUser",value:function(){var t=this;this.authService.sharedGetSession.pipe(y.a(1)).subscribe({next:function(e){t.user=e,t.userFormGroup.reset({name:t.user.name,email:t.user.userId}),t.changeDetectorRef.markForCheck()}})}},{key:"buildMenu",value:function(){var t=this;this.menus=[{items:[{label:this.translatePipe.transform("USER_INFO"),command:function(){return t.showModifyUserInfoDialog()}},{label:this.translatePipe.transform("LOGOUT"),command:function(){return t.logout()}}]}],this.getUser(),this.changeDetectorRef.markForCheck()}},{key:"logoUrl",get:function(){return this.productService.getAdminLogo()}}]),t}()).\u0275fac=function(t){return new(t||xt)(C.Mb(C.h),C.Mb($.c),C.Mb(f.G),C.Mb(U.d),C.Mb(m.b),C.Mb(tt.c),C.Mb(h.g),C.Mb(et.h),C.Mb(Rt.b))},xt.\u0275cmp=C.Gb({type:xt,selectors:[["sd-main-toolbar"]],outputs:{logoToggle:"logoToggle"},features:[C.yb([f.G])],decls:11,vars:3,consts:[[1,"toolbar-container"],[1,"left-container"],[1,"papycon","papycon-more-symbol5",3,"click"],[3,"src"],[1,"right-container"],[3,"click"],[1,"papycon","papycon-chevron3-down","arrow"],[3,"menus"],["menuRef",""]],template:function(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",0),C.Sb(1,"div",1),C.Sb(2,"i",2),C.Zb("click",(function(){return e.logoToggle.emit()})),C.Rb(),C.Nb(3,"img",3),C.Rb(),C.Sb(4,"div",4),C.Sb(5,"div",5),C.Zb("click",(function(){return C.uc(n),C.tc(10).toggleMenu()})),C.Sb(6,"span"),C.Fc(7),C.Rb(),C.Nb(8,"i",6),C.Nb(9,"pu-menu",7,8),C.Rb(),C.Rb(),C.Rb()}2&t&&(C.zb(3),C.jc("src",e.logoUrl,C.wc),C.zb(4),C.Gc(null==e.user?null:e.user.name),C.zb(2),C.jc("menus",e.menus))},directives:[f.w],styles:[".toolbar-container[_ngcontent-%COMP%]{background-color:#363636;width:100%;height:70px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.toolbar-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.toolbar-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:34px;font-size:20px;color:#fff}.toolbar-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}.toolbar-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:37px;height:18px}.toolbar-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{width:100px;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;margin-right:15px}.toolbar-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-right:6px}.toolbar-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.toolbar-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.toolbar-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   pu-menu[_ngcontent-%COMP%]{top:30px;right:0;z-index:9999}"]}),xt),At=l("GS7A"),zt={root:{label:"",route:"",data:"",expanded:!0,parent:null,children:[{label:"DASHBOARD",route:"dashboard",data:"thumbnail",expanded:!1,parent:null,children:[]},{label:"DOCUMENT_LIST",route:"document-list",data:"list2",expanded:!1,parent:null,children:[{label:"DOCUMENT_LIST",route:"document-list",data:null,expanded:!1,parent:null,children:[]},{label:"REMOVED_DOCUMENT_LIST",route:"removed-document-list",data:null,expanded:!1,parent:null,children:[]}]},{label:"STATISTIC",route:"statistic-period",data:"not-used",expanded:!1,parent:null,children:[{label:"STATISTIC_BY_PERIOD",route:"statistic-period",data:null,expanded:!1,parent:null,children:[]},{label:"STATISTIC_BY_DOCUMENT",route:"statistic-document",data:null,expanded:!1,parent:null,children:[]}]},{label:"SERVER_MANAGEMENT",route:"server-monitoring",data:"switch",expanded:!1,parent:null,children:[{label:"SERVER_MONITORING",route:"server-monitoring",data:null,expanded:!1,parent:null,children:[]},{label:"LOG_MANAGEMENT",route:"server-log",data:null,expanded:!1,parent:null,children:[]},{label:"DOCUMENT_HISTORY",route:"document-log",data:null,expanded:!1,parent:null,children:[]},{label:"DELETE_TEMP_FILE",route:"system-management",data:null,expanded:!1,parent:null,children:[]}]},{label:"VIEW_SETTINGS",route:"settings/view",data:"settings",expanded:!1,parent:null,children:[{label:"VIEW_SETTINGS_UI",route:"settings/view",data:null,expanded:!1,parent:null,children:[]},{label:"WATERMARK",route:"settings/watermark",data:null,expanded:!1,parent:null,children:[]}]},{label:"ACCOUNT_MANAGEMENT",route:"account",data:"profile2",expanded:!1,parent:null,children:[]},{label:"LICENSE_MANAGEMENT",route:"license",data:"security",expanded:!1,parent:null,children:[]}]}},Lt={root:{label:"",route:"",data:"",expanded:!0,parent:null,children:[{label:"DASHBOARD",route:"dashboard",data:"thumbnail",expanded:!1,parent:null,children:[]},{label:"DOCUMENT_LIST",route:"document-list",data:"list2",expanded:!1,parent:null,children:[]},{label:"STATISTIC",route:"statistic-period",data:"not-used",expanded:!1,parent:null,children:[{label:"STATISTIC_BY_PERIOD",route:"statistic-period",data:null,expanded:!1,parent:null,children:[]},{label:"STATISTIC_BY_DOCUMENT",route:"statistic-document",data:null,expanded:!1,parent:null,children:[]}]}]}},Ft=l("jRDe");function Gt(t,e){if(1&t&&C.Nb(0,"i",9),2&t){var n=C.dc(3).$implicit;C.jc("@chevron",n.expanded)}}function Ut(t,e){if(1&t&&(C.Qb(0),C.Sb(1,"span",7),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Dc(4,Gt,1,1,"i",8),C.Pb()),2&t){var n=C.dc(2).$implicit,i=C.dc();C.zb(1),C.jc("@label",i.setDuration(n)),C.zb(1),C.Gc(C.fc(3,3,n.label)),C.zb(2),C.jc("ngIf",n.children)}}function jt(t,e){if(1&t){var n=C.Tb();C.Qb(0),C.Sb(1,"div",3),C.Zb("click",(function(){C.uc(n);var t=C.dc().$implicit;return C.dc().onNestedMenuClick(t)})),C.Sb(2,"div",4),C.Nb(3,"i",5),C.Rb(),C.Dc(4,Ut,5,5,"ng-container",6),C.Rb(),C.Pb()}if(2&t){var i=C.dc().$implicit,o=C.dc();C.zb(1),C.Eb("expanded",i.expanded),C.jc("routerLink",o.tinySidebar?o.createRouterLink(i):null)("routerLinkActive",o.tinySidebar?"active":""),C.zb(2),C.jc("ngClass","papycon-"+i.data),C.zb(1),C.jc("ngIf",!o.tinySidebar)}}function Ht(t,e){if(1&t&&(C.Sb(0,"div",4),C.Nb(1,"i",5),C.Rb()),2&t){var n=C.dc(3).$implicit;C.zb(1),C.jc("ngClass","papycon-"+n.data)}}function Vt(t,e){if(1&t&&(C.Sb(0,"span",7),C.Fc(1),C.ec(2,"translate"),C.Rb()),2&t){var n=C.dc(3).$implicit,i=C.dc();C.Eb("topNode",!n.parent),C.jc("@label",i.setDuration(n)),C.zb(1),C.Gc(C.fc(2,4,n.label))}}function Bt(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",11),C.Zb("click",(function(){C.uc(n);var t=C.dc(2).$implicit;return C.dc().onLeafMenuClick(t)})),C.Dc(1,Ht,2,1,"div",12),C.Sb(2,"a",13),C.Dc(3,Vt,3,6,"span",14),C.Rb(),C.Rb()}if(2&t){var i=C.dc(2).$implicit,o=C.dc();C.Eb("leaf",i.parent),C.jc("@leaf",o.setDuration(i))("ngClass",o.getLeafSequence(i))("routerLink",o.createRouterLink(i))("routerLinkActive","active"),C.zb(1),C.jc("ngIf",i.data),C.zb(2),C.jc("ngIf",!o.tinySidebar)}}function Wt(t,e){if(1&t&&C.Dc(0,Bt,4,8,"div",10),2&t){var n=C.dc().$implicit,i=C.dc();C.jc("ngIf",!n.parent||n.parent&&!i.tinySidebar)}}function Yt(t,e){if(1&t&&(C.Qb(0),C.Dc(1,jt,5,6,"ng-container",1),C.Dc(2,Wt,1,1,"ng-template",null,2,C.Ec),C.Pb()),2&t){var n=e.$implicit,i=C.tc(3);C.zb(1),C.jc("ngIf",n.children.length)("ngIfElse",i)}}var Kt,$t=((Kt=function(){function t(e,n,i,o,a){u(this,t),this.activatedRoute=e,this.router=n,this.authService=i,this.subs=o,this.changeDetectorRef=a,this.tinySidebar=!1,this.menuTree={root:{data:"",parent:null,children:[],depth:null,expanded:!1,route:null,label:""}}}return g(t,[{key:"setDuration",value:function(t){return{value:"",params:{duration:t.depth?400:0}}}},{key:"ngOnInit",value:function(){this.setMenuTree()}},{key:"ngOnChanges",value:function(t){t.tinySidebar&&this.menuTree.root.children.map((function(t){t.expanded=!1}))}},{key:"setMenuTree",value:function(){var t=this;this.subs.set("fetchUserInfo",this.authService.sharedGetSession.subscribe({next:function(e){e.type===$.e.ADMIN?t.menuTree=Q.g.deepClone(zt):e.type===$.e.USER&&(t.menuTree=Q.g.deepClone(Lt)),t.assignDepth(t.menuTree),t.changeDetectorRef.markForCheck()}}))}},{key:"onNestedMenuClick",value:function(t){this.tinySidebar?this.router.navigateByUrl("view/admin/"+t.route):t.expanded=!t.expanded}},{key:"onLeafMenuClick",value:function(t){this.menuTree.root.children.filter((function(e){return e!==t.parent}))}},{key:"getLeafSequence",value:function(t){return t.parent?0===t.index?"first":t.parent.children.length-1===t.index?"last":null:null}},{key:"createRouterLink",value:function(t){return this.router.createUrlTree([t.route],{relativeTo:this.activatedRoute}).toString()}},{key:"assignDepth",value:function(t){var e=this,n=0;return function t(i,o){i.map((function(i,a){var r,c;return i.parent=o,i.index=a,n=i.parent?(null===(r=i.parent)||void 0===r?void 0:r.depth)+1:0,i.depth=n,i.children.length&&t(i.children,i),i.route===(null===(c=e.activatedRoute.firstChild)||void 0===c?void 0:c.routeConfig.path)&&(i.expanded=!0,i.parent&&(i.parent.expanded=!0)),i}))}(t.root.children,null),t}},{key:"slide",get:function(){return this.tinySidebar?"tiny":"long"}}]),t}()).\u0275fac=function(t){return new(t||Kt)(C.Mb(b.a),C.Mb(b.c),C.Mb($.c),C.Mb(f.G),C.Mb(C.h))},Kt.\u0275cmp=C.Gb({type:Kt,selectors:[["sd-sidebar"]],hostVars:1,hostBindings:function(t,e){2&t&&C.Cc("@slide",e.slide)},inputs:{tinySidebar:"tinySidebar"},features:[C.yb([f.G]),C.xb],decls:1,vars:1,consts:[[4,"eTree","eTreeFrom"],[4,"ngIf","ngIfElse"],["leafNodeTemplate",""],[1,"container",3,"routerLink","routerLinkActive","click"],[1,"icon-box"],[1,"papycon",3,"ngClass"],[4,"ngIf"],[1,"label"],["class","papycon papycon-chevron3-right chevron",4,"ngIf"],[1,"papycon","papycon-chevron3-right","chevron"],["class","container",3,"leaf","ngClass","routerLink","routerLinkActive","click",4,"ngIf"],[1,"container",3,"ngClass","routerLink","routerLinkActive","click"],["class","icon-box",4,"ngIf"],[1,"node"],["class","label",3,"topNode",4,"ngIf"]],template:function(t,e){1&t&&C.Dc(0,Yt,4,2,"ng-container",0),2&t&&C.jc("eTreeFrom",e.menuTree.root)},directives:[Ft.a,d.t,b.d,b.e,d.q],pipes:[H.a],styles:["[_nghost-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:30px 0;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:calc(100vh - 70px);-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:258px;border-right:1px solid #dadada;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff;position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;overflow-y:auto}.tinySidebar[_nghost-%COMP%]{width:84px;padding:0}.icon-box[_ngcontent-%COMP%]{width:24px;height:24px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.container[_ngcontent-%COMP%], .node[_ngcontent-%COMP%] > .label.topNode[_ngcontent-%COMP%]{font-family:NotoSans-Regular;font-size:16px;letter-spacing:-.5px;color:#1e1e1e}.container[_ngcontent-%COMP%]{width:257px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;padding:16px 24px 16px 29px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;outline:none}.container.active[_ngcontent-%COMP%]{background-color:#f4f4f4}.container.active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .container.expanded[_ngcontent-%COMP%]{font-family:NotoSans-Medium}.container.expanded[_ngcontent-%COMP%], .container.leaf[_ngcontent-%COMP%]{background-color:#f4f4f4}.container.leaf[_ngcontent-%COMP%]{font-size:14px;color:#6c6c6c;padding:14px 24px 14px 64px}.container.leaf.first[_ngcontent-%COMP%]{padding-top:20px}.container.leaf.last[_ngcontent-%COMP%]{padding-bottom:24px}.container.leaf[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{line-height:14px}.container.leaf.active[_ngcontent-%COMP%]{color:#ff6100}i[_ngcontent-%COMP%]{font-color:#363636}.papycon-thumbnail[_ngcontent-%COMP%]{font-size:17px}.papycon-list2[_ngcontent-%COMP%]{font-size:18px}.papycon-not-used[_ngcontent-%COMP%]{font-size:24px}.papycon-profile2[_ngcontent-%COMP%]{font-size:20px}.chevron[_ngcontent-%COMP%]{font-size:10px;margin-left:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}"],data:{animation:[Q.a.rotate("chevron","90"),Object(At.m)("leaf",[Object(At.l)(":enter",[Object(At.k)({height:"0",marginTop:"0",paddingTop:"0",paddingBottom:"0",overflow:"hidden"}),Object(At.e)("{{ duration }}ms cubic-bezier(0.86, 0, 0.07, 1)",Object(At.k)({height:"*",marginTop:"*",paddingTop:"*",paddingBottom:"*",overflow:"hidden"}))]),Object(At.l)(":leave",[Object(At.k)({height:"*",marginTop:"*",paddingTop:"*",paddingBottom:"*",overflow:"hidden"}),Object(At.e)("{{ duration }}ms cubic-bezier(0.86, 0, 0.07, 1)",Object(At.k)({height:"0",marginTop:"0",paddingTop:"0",paddingBottom:"0",overflow:"hidden"}))])]),Object(At.m)("slide",[Object(At.j)("long",Object(At.k)({width:"258px",padding:"30px 0"})),Object(At.j)("tiny",Object(At.k)({padding:"0",width:"84px"})),Object(At.l)("tiny => long",[Object(At.e)("400ms ease-in")]),Object(At.l)("long => tiny",[Object(At.e)("400ms ease-out")])]),Object(At.m)("label",[Object(At.l)(":enter",[Object(At.k)({opacity:0}),Object(At.e)("{{ duration }}ms",Object(At.k)({opacity:1}))]),Object(At.l)(":leave",[Object(At.k)({opacity:1}),Object(At.e)("{{ duration }}ms",Object(At.k)({opacity:0}))])])]},changeDetection:0}),Kt),Zt=l("bR9K"),qt=["contentContainer"],Jt=["sdModalOutlet"];function Qt(t,e){if(1&t){var n=C.Tb();C.Sb(0,"sd-main-toolbar",8),C.Zb("logoToggle",(function(){return C.uc(n),C.dc().toggleSidebar()})),C.Rb()}}function Xt(t,e){if(1&t&&C.Nb(0,"sd-sidebar",9),2&t){var n=C.dc();C.Eb("tinySidebar",!n.sidebarToggle),C.jc("tinySidebar",!n.sidebarToggle)}}var te=function(t,e){return{top:t,left:e}};function ee(t,e){if(1&t&&(C.Sb(0,"div",10),C.Nb(1,"sd-date-picker",11),C.Rb()),2&t){var n=C.dc();C.zb(1),C.jc("disablePast",!0)("initialDate",n.datePickerService.status.initialDate)("title",n.datePickerService.status.title)("ngStyle",C.oc(4,te,null==n.datePickerService.status.position?null:n.datePickerService.status.position.top,null==n.datePickerService.status.position?null:n.datePickerService.status.position.left))}}var ne,ie,oe=((ne=function(){function t(e,n,i,o){u(this,t),this.datePickerService=e,this.activateRoute=n,this.contentService=i,this.modalService=o,this.sidebarToggle=!0}return g(t,[{key:"ngOnInit",value:function(){this.contentService.togglePageLoader(!1)}},{key:"ngAfterViewInit",value:function(){this.modalService.registerOutlet(this.sdModalOutlet)}},{key:"toggleSidebar",value:function(){this.sidebarToggle=!this.sidebarToggle}},{key:"onActivate",value:function(){this.contentContainerEl&&(this.contentContainerEl.nativeElement.scrollTop=0)}},{key:"isLoginPage",get:function(){var t;return"login"===(null===(t=this.activateRoute.snapshot.firstChild)||void 0===t?void 0:t.routeConfig.path)}}]),t}()).\u0275fac=function(t){return new(t||ne)(C.Mb(vt.b),C.Mb(b.a),C.Mb(kt.f),C.Mb(St.c))},ne.\u0275cmp=C.Gb({type:ne,selectors:[["sd-root"]],viewQuery:function(t,e){var n;1&t&&(C.Lc(qt,!0),C.zc(Jt,!0,C.Q)),2&t&&(C.sc(n=C.ac())&&(e.contentContainerEl=n.first),C.sc(n=C.ac())&&(e.sdModalOutlet=n.first))},features:[C.yb([f.G])],decls:11,vars:3,consts:[[3,"logoToggle",4,"ngIf"],[3,"tinySidebar",4,"ngIf"],[1,"admin-content-container"],["contentContainer",""],[3,"activate"],["class","overlay",4,"ngIf"],[1,"sd-modal-container"],["sdModalOutlet",""],[3,"logoToggle"],[3,"tinySidebar"],[1,"overlay"],[3,"disablePast","initialDate","title","ngStyle"]],template:function(t,e){1&t&&(C.Dc(0,Qt,1,0,"sd-main-toolbar",0),C.Sb(1,"sd-main-contents"),C.Dc(2,Xt,1,3,"sd-sidebar",1),C.Sb(3,"div",2,3),C.Sb(5,"router-outlet",4),C.Zb("activate",(function(){return e.onActivate()})),C.Rb(),C.Rb(),C.Rb(),C.Nb(6,"sd-toast"),C.Dc(7,ee,2,7,"div",5),C.Sb(8,"div",6),C.Ob(9,null,7),C.Rb()),2&t&&(C.jc("ngIf",!e.isLoginPage),C.zb(2),C.jc("ngIf",!e.isLoginPage),C.zb(5),C.jc("ngIf",e.datePickerService.status.isVisible))},directives:[d.t,wt,b.h,Et.a,Nt,$t,Zt.a,d.w],styles:[".admin-content-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:auto}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(30,30,30,.3);z-index:999}"],changeDetection:0}),ne),ae=l("l5mm"),re=l("cp0P"),ce=l("JX91"),se=function(t){return t.PRINT="PRINT",t.DOWNLOAD="DOWNLOAD",t.VIEW="VIEW",t}({}),le=function(t){return t.HOURLY="HOURLY",t.DAILY="DAILY",t.MONTHLY="MONTHLY",t.YEARLY="YEARLY",t}({}),de=function(t){return t.MOST_VIEWED_DOCUMENTS="MOST_VIEWED_DOCUMENTS",t.MOST_DOWNLOADED_DOCUMENTS="MOST_DOWNLOADED_DOCUMENTS",t.MOST_PRINTED_DOCUMENTS="MOST_PRINTED_DOCUMENTS",t}({}),ue="downCount",pe="printCount",ge="openCount",be=((ie=function(){function t(e,n){u(this,t),this.baseHref=e,this.httpClient=n;var i=Object.assign(Object.assign({},{"Accept-Language":"utf-8","Content-Encoding":"gzip","Cache-Control":"max-age=0"}),{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"});this.noCacheHeaders=new p.e(i),this.gzipHeaders=new p.e({"Content-Encoding":"gzip","Accept-Language":"utf-8"})}return g(t,[{key:"getTopCountByPropertyName",value:function(t,e){var n=this.baseHref+"v4/statistic/documents/top",i=(new p.f).append("type",t).append("listingCount",String(e));return this.httpClient.get(n,{headers:this.gzipHeaders,params:i})}},{key:"getDocumentIncrement",value:function(){return this.httpClient.get(this.statisticUrl+"/documents/register/increment")}},{key:"getServerSummaryList",value:function(){return this.httpClient.get(this.capacityUrl+"/summary",{headers:this.noCacheHeaders})}},{key:"getTimezoneStatistic",value:function(t){var e="/statistic/timezone";t.documentId&&(e=e.concat("/documents/"+t.documentId)),t.isAccumulated&&(e=e.concat("/accumulated"));var n="".concat(this.baseHref,"v4").concat(e),i=(new p.f).append("startDate",t.startDate.toString()).append("endDate",t.endDate.toString()).append("periodUnit",t.periodUnit);return this.httpClient.get(n,{headers:this.noCacheHeaders,params:i})}},{key:"getSystemUsage",value:function(t,e,n){var i=this.statisticUrl+"/system-usage",o=(new p.f).append("startDate",t.toString()).append("endDate",e.toString()).append("periodUnit",n);return this.httpClient.get(i,{headers:this.gzipHeaders,params:o})}},{key:"saveAllDateStatistic",value:function(t,e,n,i,o,a){return this.httpClient.get(this.statisticUrl+"/makeExcel"+"?monthYearZone=".concat(t,"&dateYearZone=").concat(e,"&dateMonthZone=").concat(n,"&hourYearZone=").concat(i,"&hourMonthZone=").concat(o,"&hourDateZone=").concat(a),{headers:this.gzipHeaders,responseType:"blob"})}},{key:"getTotalCountByPropertyName",value:function(t){return this.httpClient.get(this.statisticUrl+"/documents/total",{headers:this.gzipHeaders,params:(new p.f).set("propertyName",t)})}},{key:"statisticUrl",get:function(){return this.baseHref+"v4/statistic"}},{key:"capacityUrl",get:function(){return this.baseHref+"v4/monitor"}}]),t}()).\u0275fac=function(t){return new(t||ie)(C.Wb(d.a),C.Wb(p.b))},ie.\u0275prov=C.Ib({token:ie,factory:ie.\u0275fac}),ie),fe=l("suZY");function he(t,e){if(1&t&&(C.Sb(0,"div"),C.Sb(1,"span"),C.Fc(2),C.ec(3,"number"),C.Rb(),C.Sb(4,"p"),C.Fc(5),C.ec(6,"translate"),C.Rb(),C.Rb()),2&t){var n=e.$implicit;C.zb(2),C.Gc(C.fc(3,2,n.value)),C.zb(3),C.Gc(C.fc(6,4,n.label))}}var me,Ce,xe,Oe,ye=((me=function(){function t(e,n,i){u(this,t),this.subs=e,this.statisticDataService=n,this.changeDetectorRef=i,this.statistic=[{value:0,label:"OPEN_COUNT_TODAY"},{value:0,label:"TOTAL_OPEN_COUNT"},{value:0,label:"DOWNLOAD_COUNT_TODAY"},{value:0,label:"PRINT_COUNT_TODAY"}],this.todayStart=(new Date).setHours(0,0,0,0),this.todayEnd=(new Date).setHours(23,59,59,999)}return g(t,[{key:"ngOnInit",value:function(){this.getStatistic()}},{key:"getStatistic",value:function(){var t=this;this.subs.set("getStatistic",ae.a(15e3).pipe(ce.a(0)).subscribe({next:function(){re.a([t.statisticDataService.getTimezoneStatistic({startDate:t.todayStart,endDate:t.todayEnd,periodUnit:le.DAILY}),t.statisticDataService.getTotalCountByPropertyName("openCount")]).subscribe({next:function(e){var n=c(e,2),i=n[0],o=n[1];t.statistic[0].value=parseInt(i[0].openCount),t.statistic[1].value=parseInt(o),t.statistic[2].value=parseInt(i[0].downCount),t.statistic[3].value=parseInt(i[0].printCount),t.changeDetectorRef.markForCheck()},error:function(e){t.statistic[0].value=-1,t.statistic[1].value=-1,t.statistic[2].value=-1,t.statistic[3].value=-1,t.changeDetectorRef.markForCheck()}})}}))}}]),t}()).\u0275fac=function(t){return new(t||me)(C.Mb(f.G),C.Mb(be),C.Mb(C.h))},me.\u0275cmp=C.Gb({type:me,selectors:[["sd-statistic-board"]],features:[C.yb([f.G])],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(C.Sb(0,"article"),C.Dc(1,he,7,6,"div",0),C.Rb()),2&t&&(C.zb(1),C.jc("ngForOf",e.statistic))},directives:[d.s],pipes:[fe.a,H.a],styles:["article[_ngcontent-%COMP%]{height:110px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff}article[_ngcontent-%COMP%], article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{color:#ff6100}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #dadada}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NotoSans-Bold;font-size:24px;height:20px;line-height:20px;letter-spacing:-.6px;margin-bottom:12px;color:#1e1e1e}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:14px;height:14px;font-size:14px;font-family:NotoSans-Regular;letter-spacing:-.5px;color:#1e1e1e;margin:0}"],changeDetection:0}),me),Me=l("C8p/"),_e=function(t,e,n,i){return"".concat(i||e.datasets[t.datasetIndex].label,": ").concat(e.datasets[t.datasetIndex].data[t.index]," ").concat(n)},Pe=((xe=function(){function t(e,n,i,o){var a=this;u(this,t),this.changeDetectorRef=e,this.statisticDataService=n,this.subs=i,this.translatePipe=o,this.chartResponsive=!0,this.chartMaintainAspectRatio=!1,this.chartElements={line:{tension:0,fill:!1}},this.chartLegend={daily:{display:!1},monthly:{display:!1}},this.chartScales={yAxes:[{ticks:{beginAtZero:!1,min:0,stepSize:20,callback:function(t){return 0===t?"".concat(t).concat(a.translatePipe.transform("NUMBER_OF_CASES")):t}}}]},this.chartColor={daily:[{borderColor:"#ff6600",backgroundColor:"#ffffff"}],monthly:[{borderColor:"#f79f1a",backgroundColor:"#f79f1a"}]},this.defaultChartTooltip={mode:"index",intersect:!1,xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:function(t,e){var n=a.translatePipe.transform("NUMBER_OF_CASES"),i=a.translatePipe.transform("OPEN_COUNT");return _e(t,e,n,i)},labelColor:function(){return{borderColor:"#f79f1a",backgroundColor:"#f79f1a"}},title:function(){return null}}},this.chartTooltips={daily:Object.assign(Object.assign({},this.defaultChartTooltip),{callbacks:Object.assign(Object.assign({},this.defaultChartTooltip.callbacks),{labelColor:function(){return{borderColor:"#ffffff",backgroundColor:"#ff6600"}}})}),monthly:Object.assign(Object.assign({},this.defaultChartTooltip),{callbacks:Object.assign(Object.assign({},this.defaultChartTooltip.callbacks),{labelColor:function(){return{borderColor:"#ffffff",backgroundColor:"#f79f1a"}}})})},this.chartType={daily:"line",monthly:"bar"},this.dailyOpenChartDataSets=[{data:[],label:""}],this.dailyOpenChartLabels=[],this.monthlyOpenChartDataSets=[{data:[],label:"",barThickness:10}],this.monthlyOpenChartLabels=[]}return g(t,[{key:"ngOnInit",value:function(){this.getCharts(),this.initFields(this.dailyOpenChartDataSets[0]),this.initFields(this.monthlyOpenChartDataSets[0])}},{key:"makeTwoDigits",value:function(t){return("0"+t).slice(-2)}},{key:"initFields",value:function(t){t.label=this.translatePipe.transform("OPEN_COUNT_COLUMN"),this.changeDetectorRef.markForCheck()}},{key:"getCharts",value:function(){var t=this,e=Object(Q.I)(Q.j.WEEK,new Date),n=Object(Q.I)(Q.j.MONTH,new Date);n.startDate.setMonth(n.startDate.getMonth()-4),this.subs.set("getChart",ae.a(15e3).pipe(ce.a(0)).subscribe({next:function(){re.a([t.statisticDataService.getTimezoneStatistic({startDate:e.startDate.getTime(),endDate:e.endDate.getTime(),periodUnit:le.DAILY}),t.statisticDataService.getTimezoneStatistic({startDate:n.startDate.getTime(),endDate:n.endDate.getTime(),periodUnit:le.MONTHLY})]).subscribe({next:function(e){var n=c(e,2),i=n[0],o=n[1];t.dailyOpenChartLabels=[],t.monthlyOpenChartLabels=[];var a=[],r=[];i.forEach((function(e){var n="".concat(t.makeTwoDigits(e.date)).concat(t.translatePipe.transform("DAYS"));t.dailyOpenChartLabels.push(n),r.push(parseInt(e.openCount))})),o.forEach((function(e){var n="".concat(t.makeTwoDigits(e.month)).concat(t.translatePipe.transform("MONTH"));t.monthlyOpenChartLabels.push(n),a.push(parseInt(e.openCount))})),t.dailyOpenChartDataSets[0].data=r,t.monthlyOpenChartDataSets[0].data=a,t.chartComponents.forEach((function(t){t.update()})),t.changeDetectorRef.markForCheck()}})}}))}}]),t}()).\u0275fac=function(t){return new(t||xe)(C.Mb(C.h),C.Mb(be),C.Mb(f.G),C.Mb(U.d))},xe.\u0275cmp=C.Gb({type:xe,selectors:[["sd-statistic-chart"]],viewQuery:function(t,e){var n;1&t&&C.Lc(Me.a,!0),2&t&&C.sc(n=C.ac())&&(e.chartComponents=n)},features:[C.yb([f.G])],decls:8,vars:28,consts:[[1,"chart-container"],[1,"line-chart",3,"title"],[3,"dataSets","labels","responsive","maintainAspectRatio","elements","legend","scales","type","color","tooltips","visibleLegend"],[1,"bar-chart",3,"title"]],template:function(t,e){1&t&&(C.Nb(0,"sd-server-capacity"),C.Sb(1,"div",0),C.Sb(2,"sd-card",1),C.ec(3,"translate"),C.Nb(4,"sd-chart",2),C.Rb(),C.Sb(5,"sd-card",3),C.ec(6,"translate"),C.Nb(7,"sd-chart",2),C.Rb(),C.Rb()),2&t&&(C.zb(2),C.jc("title",C.fc(3,24,"DAILY_OPEN_COUNT")),C.zb(2),C.jc("dataSets",e.dailyOpenChartDataSets)("labels",e.dailyOpenChartLabels)("responsive",e.chartResponsive)("maintainAspectRatio",e.chartMaintainAspectRatio)("elements",e.chartElements)("legend",e.chartLegend.daily)("scales",e.chartScales)("type",e.chartType.daily)("color",e.chartColor.daily)("tooltips",e.chartTooltips.daily)("visibleLegend",!0),C.zb(1),C.jc("title",C.fc(6,26,"MONTHLY_OPEN_COUNT")),C.zb(2),C.jc("dataSets",e.monthlyOpenChartDataSets)("labels",e.monthlyOpenChartLabels)("responsive",e.chartResponsive)("maintainAspectRatio",e.chartMaintainAspectRatio)("elements",e.chartElements)("legend",e.chartLegend.monthly)("scales",e.chartScales)("type",e.chartType.monthly)("color",e.chartColor.monthly)("tooltips",e.chartTooltips.monthly)("visibleLegend",!0))},styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}sd-server-capacity[_ngcontent-%COMP%]{margin-bottom:20px}.chart-container[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box}.chart-container[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   sd-card[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.chart-container[_ngcontent-%COMP%]   sd-card[_ngcontent-%COMP%]{width:calc(50% - 10px)}.chart-container[_ngcontent-%COMP%]   sd-card.bar-chart[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   sd-card.line-chart[_ngcontent-%COMP%]{max-height:387px;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}.chart-container[_ngcontent-%COMP%]   sd-card[_ngcontent-%COMP%]:first-child{margin-right:10px}.chart-container[_ngcontent-%COMP%]   sd-card[_ngcontent-%COMP%]:last-child{margin-left:10px}.chart-container[_ngcontent-%COMP%]   sd-card[_ngcontent-%COMP%]   sd-chart[_ngcontent-%COMP%]     .chart-container{max-height:262px;height:100%}table[_ngcontent-%COMP%]{padding:20px 30px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:280px;font-size:13px;line-height:22px}table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:0;border-bottom:1px solid #dadada}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:25%;-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:400;color:#6c6c6c}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:14px 0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;-webkit-box-flex:1;-ms-flex:1;flex:1}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:0}.flex-end[_ngcontent-%COMP%]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}@media screen and (max-width:1300px){sd-card[_ngcontent-%COMP%]:not(.capacity){max-width:unset;-ms-flex-preferred-size:unset;flex-basis:unset}}"],changeDetection:0}),xe),ve=((Ce=function t(){u(this,t)}).\u0275fac=function(t){return new(t||Ce)},Ce.\u0275cmp=C.Gb({type:Ce,selectors:[["sd-dashboard"]],features:[C.yb([])],decls:2,vars:0,template:function(t,e){1&t&&(C.Nb(0,"sd-statistic-board"),C.Nb(1,"sd-statistic-chart"))},directives:[ye,Pe],styles:["[_nghost-%COMP%]{min-width:1120px}sd-statistic-chart[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:auto;flex:auto;margin-top:20px}"]}),Ce),ke=l("9Nmd"),Se=l("akkN"),De=function(t){return t[t.DISALLOW_SAVE=0]="DISALLOW_SAVE",t[t.DISALLOW_DOWNLOAD=1]="DISALLOW_DOWNLOAD",t[t.DISALLOW_PRINTING=2]="DISALLOW_PRINTING",t[t.DISALLOW_ANNOTS=3]="DISALLOW_ANNOTS",t[t.DISALLOW_FORM=4]="DISALLOW_FORM",t}({}),we=function(t,e){if(!t)return"";var n=new Date;switch(t){case ke.a.ONE_DAY:n.setDate(n.getDate()+1);break;case ke.a.ONE_WEEK:n.setDate(n.getDate()+7);break;case ke.a.ONE_MONTH:n.setMonth(n.getMonth()+1);break;case ke.a.ONE_YEAR:n.setFullYear(n.getFullYear()+1);break;case ke.a.TWO_HUNDRED_YEAR:n.setFullYear(n.getFullYear()+200)}t instanceof Date&&n.setTime(t.getTime());var i=new Date,o=Math.round((n.getTime()-i.getTime())/864e5);if(o>36525)return e.transform("NO_EXPIRATION");var a=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return"".concat(n.getFullYear(),"-").concat(a,"-").concat(r,"(").concat(o).concat(e.transform("DAYS_LEFT"),")")},Ee=l("Ya2p"),Te=l("GyhO"),Ie=((Oe=function(){function t(e,n,i){u(this,t),this.baseHref=e,this.httpClient=n,this.productService=i}return g(t,[{key:"fetchPdf",value:function(t){return this.httpClient.get(this.baseHref+"v4/documents/admin",{headers:Ee.e,params:this.makeHttpParams(t)}).pipe(It.a((function(t){t.resources.map((function(t){t.id=t.pdf.secureId?t.pdf.secureId:String(t.pdf.streamdocsId),t.pdf.fileSize=parseInt(t.pdf.fileSize),t.pdf.createdAt=parseInt(t.pdf.createdAt),t.pdf.updatedAt=parseInt(t.pdf.updatedAt),t.statistic.downCount=parseInt(t.statistic.downCount),t.statistic.openCount=parseInt(t.statistic.openCount),t.statistic.printCount=parseInt(t.statistic.printCount)}))})))}},{key:"postPdf",value:function(t){var e=new FormData,n=this.toMilliseconds(t.accessRestrictions.days,t.accessRestrictions.hours,t.accessRestrictions.minutes);return e.append("pdf",t.file,t.file.name),e.append("docName",t.docName),e.append("save",String(t.functions.save)),e.append("download",String(t.functions.download)),e.append("print",String(t.functions.printing)),e.append("annots",String(t.functions.annots)),e.append("form",String(t.functions.form)),e.append("description",String(t.description)),t.accessRestrictions.maxCount&&e.append("maxCount",String(t.accessRestrictions.maxCount)),n&&e.append("openedLifespan",String(n)),t.lifeSpan&&e.append("lifespan",t.lifeSpan),t.expiredAt&&e.append("expiredAt",String(t.expiredAt)),this.httpClient.post(this.documentsUrl,e,{reportProgress:!0,observe:"events"})}},{key:"toMilliseconds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 1e3*(24*t*60*60+60*e*60+60*n)}},{key:"patchPdfName",value:function(t,e){return this.httpClient.patch("".concat(this.baseHref,"v4/documents/").concat(t,"/docname"),{docName:e})}},{key:"patchExpiryDate",value:function(t,e){return this.httpClient.patch("".concat(this.baseHref,"v4/documents/").concat(t,"/lifespan"),e)}},{key:"deletePdf",value:function(t){return this.httpClient.delete("".concat(this.documentsUrl,"/").concat(t))}},{key:"getOriginalDownloadUrl",value:function(t){return"".concat(this.baseHref,"v4/documents/").concat(encodeURIComponent(t),"/source")}},{key:"makeHttpParams",value:function(t){var e=new p.f;return Object.keys(t).filter((function(e){return void 0!==t[e]})).forEach((function(n){e=e.set(n,String(t[n]))})),e}},{key:"addDoc",value:function(t,e){var n,i,o,a=e.get("expiryDate"),r="number"==typeof a.value.value.type,c=e.get("functions").controls,s=e.get("accessRestrictions").controls,l=s.maxCount,d=s.openedLifespan;return this.postPdf({file:t,docName:null!==(n=e.get("docName").value)&&void 0!==n?n:t.name,lifeSpan:r?null:a.value.value.type,expiredAt:r?a.value.value.type:null,accessRestrictions:{maxCount:null!==(o=null===(i=l.value)||void 0===i?void 0:i.value)&&void 0!==o?o:null,days:d.value?d.value[f.R.DAYS]:null,hours:d.value?d.value[f.R.HOURS]:null,minutes:d.value?d.value[f.R.MINUTES]:null},functions:{save:!this.productService.isStreamdocs()||c[De.DISALLOW_SAVE].value,download:!this.productService.isStreamdocs()||c[De.DISALLOW_DOWNLOAD].value,printing:!this.productService.isStreamdocs()||c[De.DISALLOW_PRINTING].value,annots:!this.productService.isStreamdocs()||c[De.DISALLOW_ANNOTS].value,form:!this.productService.isStreamdocs()||c[De.DISALLOW_FORM].value},description:e.get("description").value})}},{key:"uploadFiles",value:function(t,e){var n=this,i=[];return t.forEach((function(t){i.push(n.addDoc(t.file,e))})),Te.a.apply(Te,i)}},{key:"documentsUrl",get:function(){return this.baseHref+"v4/documents"}}]),t}()).\u0275fac=function(t){return new(t||Oe)(C.Wb(d.a),C.Wb(p.b),C.Wb(Rt.b))},Oe.\u0275prov=C.Ib({token:Oe,factory:Oe.\u0275fac}),Oe),Re=l("xEdf"),Ne=l("L5DI");function Ae(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",7),C.Zb("click",(function(){return C.uc(n),C.dc().downloadOriginalFile()})),C.Nb(1,"i",9),C.Fc(2),C.ec(3,"translate"),C.Rb()}if(2&t){var i=C.dc();C.jc("disabled",1!==(null==i.formGroup.controls.checkedIds.value?null:i.formGroup.controls.checkedIds.value.length)||!i.hasOriginalFileInChecked||i.hasDeleted()),C.zb(2),C.Gc(C.fc(3,2,"ORIGINAL_DOWNLOAD"))}}var ze=function(){return["papycon-settings"]};function Le(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div"),C.Sb(1,"sd-editable-label",20),C.Zb("inputValueChange",(function(t){C.uc(n);var i=e.$implicit;return C.dc().editDocName(t,i.id)}))("iconButtonClick",(function(t){C.uc(n);var i=e.$implicit,o=C.dc();return"papycon-settings"===t&&o.openDetailDialog(i)}))("dblclick",(function(t){C.uc(n);var i=e.$implicit;return C.dc().onDoubleClick(t,i.pdf.deleted)})),C.Rb(),C.Rb()}if(2&t){var i=e.$implicit;C.zb(1),C.jc("readonly",i.pdf.deleted)("label",i.pdf.docName)("iconButtons",C.mc(3,ze))}}function Fe(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.Gc(i.fileStatus(n.pdf.deleted))}}function Ge(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc((null==n.owner?null:n.owner.name)||"(unknown)")}}function Ue(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"date"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.gc(2,1,n.pdf.createdAt,"yyyy-MM-dd"))}}function je(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.Eb("deleted",n.pdf.deleted),C.zb(1),C.Gc(i.fileSize(n.pdf.fileSize))}}function He(t,e){if(1&t){var n=C.Tb();C.Sb(0,"admin-dropdown",23),C.Zb("click",(function(){C.uc(n);var t=C.dc().$implicit;return C.dc().onExpirationButtonClick(t)}))("dblclick",(function(t){return C.uc(n),t.stopPropagation()})),C.Rb()}if(2&t){var i=C.dc().$implicit,o=C.dc();C.jc("formControlName",i.id)("options",o.rangeOptions)("labelFunc",o.getLabelFunction())}}function Ve(t,e){1&t&&(C.Sb(0,"span",24),C.Fc(1,"-"),C.Rb())}function Be(t,e){if(1&t&&(C.Sb(0,"div"),C.Qb(1,14),C.Dc(2,He,1,3,"admin-dropdown",21),C.Dc(3,Ve,2,0,"span",22),C.Pb(),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.jc("formGroup",i.expiryDateFormGroup),C.zb(1),C.jc("ngIf",!n.pdf.deleted),C.zb(1),C.jc("ngIf",n.pdf.deleted)}}function We(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div"),C.Sb(1,"button",25),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().copyLink(t)}))("dblclick",(function(t){return C.uc(n),t.stopPropagation()})),C.Nb(2,"i",26),C.Rb(),C.Rb()}if(2&t){var i=e.$implicit;C.zb(1),C.jc("disabled",i.pdf.deleted)}}function Ye(t,e){1&t&&(C.Sb(0,"div",27),C.Sb(1,"div",28),C.Nb(2,"span",29),C.Sb(3,"p",30),C.Fc(4),C.ec(5,"translate"),C.Rb(),C.Nb(6,"div",31),C.Sb(7,"p",32),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(4),C.Gc(C.fc(5,2,"NO_DOCUMENT")),C.zb(4),C.Gc(C.fc(9,4,"PLEASE_ADD_DOCUMENT")))}var Ke,$e=((Ke=function(){function t(e,n,i,o,a,c,s,l,d,p,g,b,f,m,C){var x,O=this;u(this,t),this.changeDetectorRef=e,this.documentListDataService=n,this.toastService=i,this.subs=o,this.translatePipe=a,this.adminDialogService=c,this.datePickerService=s,this.pdfDataService=l,this.bytesPipe=d,this.resourceService=p,this.router=g,this.formBuilder=b,this.productService=f,this.downloadService=m,this.baseHref=C,this.filterMenus=[{label:this.translatePipe.transform("REGISTRATION_DATE"),type:"date",item:Object.values(_).filter((function(t){return t!==_.CUSTOM})).map((function(t){return{label:t,value:t}})),isMulti:!1},{label:this.translatePipe.transform("MANUAL_SELECT"),type:"custom-date",item:[{label:"",value:_.CUSTOM}],isMulti:!1}],this.formGroup=this.formBuilder.group({expiryDate:this.formBuilder.array([]),checkedIds:[]}),this.countOfCompletedUpload=0,this.addDocFormGroup=this.formBuilder.group({docName:["",h.F.required],description:"",expiryDate:{label:this.translatePipe.transform("BASIC_EXPIRY_DATE_OPTION"),value:{type:ke.a.ONE_MONTH}},accessRestrictions:this.formBuilder.group({maxCount:{value:null,disabled:!0},openedLifespan:{value:null,disabled:!0}}),functions:this.formBuilder.group((x={},r(x,De.DISALLOW_SAVE,!0),r(x,De.DISALLOW_DOWNLOAD,!0),r(x,De.DISALLOW_PRINTING,!0),r(x,De.DISALLOW_ANNOTS,!0),r(x,De.DISALLOW_FORM,!0),x)),files:[],uploadProgress:this.formBuilder.group({})}),this.initialAddDocFormGroupValues=this.addDocFormGroup.value,this.expiryDateFormGroup=this.formBuilder.group({}),this.rangeOptions=[{label:this.translatePipe.transform("ONE_DAY"),value:{type:ke.a.ONE_DAY}},{label:this.translatePipe.transform("ONE_WEEK"),value:{type:ke.a.ONE_WEEK}},{label:this.translatePipe.transform("ONE_MONTH"),value:{type:ke.a.ONE_MONTH}},{label:this.translatePipe.transform("ONE_YEAR"),value:{type:ke.a.ONE_YEAR}},{label:this.translatePipe.transform("NO_EXPIRATION"),value:{type:ke.a.TWO_HUNDRED_YEAR}},{label:this.translatePipe.transform("DATE_INPUT"),value:{type:function(){return O.datePickerService.statusSrc.next({position:{top:"calc(50% - ".concat(vt.b.DATE_PICKER_HEIGHT/2,"px)"),left:"calc(50% - ".concat(vt.b.DATE_PICKER_WIDTH/2,"px)")},title:O.translatePipe.transform("DATE_INPUT"),isVisible:!0,initialDate:Number(O.template.validity.expirationDate)}),O.datePickerService.dateChange$}}}],this.displayedColumns=[{key:"docName",title:this.translatePipe.transform("DOCUMENT_NAME"),sortable:!0},{key:"status",title:this.translatePipe.transform("STATUS"),sortable:!1},{key:"userName",title:this.translatePipe.transform("AUTHOR"),sortable:!0},{key:"createdAt",title:this.translatePipe.transform("REGISTRATION_DATE"),sortable:!0},{key:"size",title:this.translatePipe.transform("FILE_SIZE"),sortable:!1},{key:"expiredAt",title:this.translatePipe.transform("EXPIRY_DATE"),sortable:!1},{key:"copy",title:"",sortable:!1}],this.isLoading=!0,this.checkedTemplates=[],this.table=new Y.a}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc),this.subs.push(this.table.filterChanges.subscribe({next:function(){t.table.reset(),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return t.dialogType===m.c.DOCUMENT_DETAIL&&"confirm"===t.action}))).subscribe({next:function(){t.subs.set("patchDoc",re.a([t.documentListDataService.patchPdfName(t.selectedItem.id,t.addDocFormGroup.get("docName").value),t.resourceService.patchPdfDescription({id:t.selectedItem.id,description:t.addDocFormGroup.get("description").value}),t.resourceService.patchPdfAuthority({id:t.selectedItem.id,authority:{save:t.addDocFormGroup.get("functions").controls[De.DISALLOW_SAVE].value,annots:t.addDocFormGroup.get("functions").controls[De.DISALLOW_ANNOTS].value,download:t.addDocFormGroup.get("functions").controls[De.DISALLOW_DOWNLOAD].value,print:t.addDocFormGroup.get("functions").controls[De.DISALLOW_PRINTING].value,form:t.addDocFormGroup.get("functions").controls[De.DISALLOW_FORM].value}})]).subscribe({next:function(){t.toastService.showToast({icon:"success",text:t.translatePipe.transform("SUCCESS_PATCH_DOCUMENT")}),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)}}))}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return t.dialogType===m.c.DELETE_ITEMS}))).subscribe({next:function(e){"confirm"===e.action&&t.deleteDoc()}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return t.dialogType===m.c.ADD_DOCUMENT}))).subscribe({next:function(e){if("confirm"===e.action){var n=e.data.files,i=[],o=n.length,a=0;t.countOfCompletedUpload=0,n.forEach((function(e){i.push(t.addDocFormGroup.controls.uploadProgress.controls[e.id])})),t.documentListDataService.uploadFiles(n,t.addDocFormGroup).subscribe({next:function(e){e.type===p.d.UploadProgress&&i[a].setValue(e.loaded/e.total*100),e.type===p.d.Response&&201===e.status&&(a++,t.toastService.showToast({icon:"success",text:t.translatePipe.transform("SUCCESS_ADD_DOCUMENT")}),++t.countOfCompletedUpload===o&&(t.adminDialogService.closeCurrentActiveDialog(),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)))},error:function(){t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("FAILED_TO_ADD_DOCUMENT")})}})}"open"===e.action&&t.initAddDocDialog(),"error"===e.action&&t.toastService.showToast({icon:"failed",text:e.message})}}),this.datePickerService.dateChange$.subscribe({next:function(e){t.lastDatePickerData=e}}),this.table.filterGroup.get("keyword").valueChanges.pipe(Z.a((function(t){return!t}))).subscribe({next:function(){t.searchKeyword()}}),this.table.filterGroup.get("filter").valueChanges.subscribe({next:function(){}}))}},{key:"fileStatus",value:function(t){return this.translatePipe.transform(t?"DELETE":"NORMAL")}},{key:"fileSize",value:function(t){return 0===t?"-":this.bytesPipe.transform(t)}},{key:"checkedStatusChange",value:function(t){this.formGroup.controls.checkedIds.setValue(t),this.checkedTemplates=this.getCheckedTemplates(t)}},{key:"searchKeyword",value:function(){this.table.reset(),this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"onExpirationButtonClick",value:function(t){this.template=t}},{key:"editDocName",value:function(t,e){var n=this;this.documentListDataService.patchPdfName(e,t).subscribe({next:function(){n.getTemplates(n.table.getKeyword(),n.table.getPeriodValue(),n.orderBy,n.asc),n.toastService.showToast({icon:"success",text:n.translatePipe.transform("SUCCEED_PATCHING")})}})}},{key:"onCreateClick",value:function(){this.adminDialogService.toggleDialogVisibility(m.c.ADD_DOCUMENT,!0,{title:this.translatePipe.transform("REGISTER_DOCUMENT"),size:{width:873,height:592},formGroup:this.addDocFormGroup,data:{files:[],acceptable:this.acceptableExtensions}})}},{key:"onDeleteClick",value:function(){var t=this;this.adminDialogService.toggleDialogVisibility(m.c.DELETE_ITEMS,!0,{description:"",size:{width:336,height:280},data:this.formGroup.controls.checkedIds.value.map((function(e){return t.table.getData().find((function(t){return t.id===e}))})),caller:m.d.DOCUMENT_LIST})}},{key:"openDetailDialog",value:function(t){var e,n,i,o,a,r,c,s,l,d;t.pdf.deleted?this.toastService.showToast({icon:"failed",text:this.translatePipe.transform("DELETED_DOCUMENT_TOAST_MESSAGE")}):(this.selectedItem=t,this.addDocFormGroup.get("functions").controls[De.DISALLOW_SAVE].setValue(null!==(n=null===(e=this.selectedItem.auth)||void 0===e?void 0:e.save)&&void 0!==n&&n),this.addDocFormGroup.get("functions").controls[De.DISALLOW_FORM].setValue(null!==(o=null===(i=this.selectedItem.auth)||void 0===i?void 0:i.form)&&void 0!==o&&o),this.addDocFormGroup.get("functions").controls[De.DISALLOW_PRINTING].setValue(null!==(r=null===(a=this.selectedItem.auth)||void 0===a?void 0:a.print)&&void 0!==r&&r),this.addDocFormGroup.get("functions").controls[De.DISALLOW_DOWNLOAD].setValue(null!==(s=null===(c=this.selectedItem.auth)||void 0===c?void 0:c.download)&&void 0!==s&&s),this.addDocFormGroup.get("functions").controls[De.DISALLOW_ANNOTS].setValue(null!==(d=null===(l=this.selectedItem.auth)||void 0===l?void 0:l.annots)&&void 0!==d&&d),this.addDocFormGroup.get("description").setValue(this.selectedItem.pdf.description),this.addDocFormGroup.get("docName").setValue(this.selectedItem.pdf.docName),this.adminDialogService.toggleDialogVisibility(m.c.DOCUMENT_DETAIL,!0,{title:t.pdf.docName,size:{width:700,height:this.productService.isStreamdocs()?528:655},formGroup:this.addDocFormGroup,data:this.selectedItem}))}},{key:"getTemplates",value:function(t,e,n,i){var o=this;this.isLoading=!0,this.subs.push(this.documentListDataService.fetchPdf({pageIndex:this.table.getPageInfo().currentIndex,listingCount:15,search:t,from:e?Object(Q.H)(e.startDate):void 0,to:e?Object(Q.H)(e.endDate):void 0,orderBy:n,ascending:i,deleted:!1,includeStatistics:!1}).subscribe({next:function(t){if(o.expiryDateFormGroup=o.formBuilder.group({}),o.isLoading=!1,"0"===t.pageInfo.totalCount)return o.table.reset(),o.table.setData([]),void o.changeDetectorRef.markForCheck();t.resources.forEach((function(t){o.expiryDateFormGroup.addControl(t.id,new h.h({label:"",value:{type:new Date(parseInt(t.validity.expirationDate))}}))})),o.table.setData(t.resources),o.table.setPageInfo(t.pageInfo.totalCount,t.pageInfo.listingCount),o.subs.set("dropdownChange",x.a.apply(x,s(o.table.getData().map((function(t){return o.expiryDateFormGroup.controls[t.id].valueChanges.pipe(J.a((function(e){return{id:t.id,control:e}})))})))).subscribe({next:function(t){var e={};"function"==typeof t.control.value.type?e.expiredAt=String(new Date(o.lastDatePickerData).getTime()):e.lifeSpan=t.control.value.type,o.subs.set("patchExpiryDate",o.documentListDataService.patchExpiryDate(t.id,e).subscribe({next:function(){o.toastService.showToast({icon:"success",text:o.translatePipe.transform("SUCCEED_PATCHING")})},error:function(){o.getTemplates(o.table.getKeyword(),o.table.getPeriodValue(),o.orderBy,o.asc)}}))}})),o.changeDetectorRef.markForCheck()}}))}},{key:"deleteDoc",value:function(){var t=this;this.checkedTemplates.forEach((function(e){t.documentListDataService.deletePdf(e.id).subscribe({next:function(){t.toastService.showToast({icon:"success",text:"DOCUMENT_DELETED"}),t.table.reset(),t.adminDialogService.closeCurrentActiveDialog(),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)},error:function(){t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("ERROR_DELETE_DELETED_DOCUMENT")})}})}))}},{key:"openDoc",value:function(t){t.pdf.deleted?this.toastService.showToast({icon:"failed",text:this.translatePipe.transform("REMOVED_DOCUMENT_ITEM_TOOLTIP")}):(sessionStorage.setItem(Se.c.fromAdminStorage,"true"),window.open(this.makeStreamdocUrl(t.id),"_blank"),sessionStorage.removeItem(Se.c.fromAdminStorage))}},{key:"download",value:function(){var t,e=this.pdfDataService.getDownloadUrl({docId:null===(t=this.checkedTemplates[0])||void 0===t?void 0:t.id});this.downloadService.executeFileDownloader(e)}},{key:"downloadOriginalFile",value:function(){var t=this.documentListDataService.getOriginalDownloadUrl(this.checkedTemplates[0].pdf.secureId||this.checkedTemplates[0].pdf.streamdocsId);this.downloadService.executeFileDownloader(t)}},{key:"getLabelFunction",value:function(){var t=this;return function(e){return we(e,t.translatePipe)}}},{key:"sortingChanges",value:function(t){this.orderBy=0===t.value?void 0:t.name,this.asc=0===t.value?void 0:1===t.value,this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"onPageChanging",value:function(t){this.table.setPageCurrentIndex(t-1),this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"copyLink",value:function(t){Q.F.copyToClipboard(window.location.origin+this.makeStreamdocUrl(t.id)),this.toastService.showToast({icon:"success",text:'"'.concat(t.pdf.docName,'" ').concat(this.translatePipe.transform("COPY_LINK"))})}},{key:"hasDeleted",value:function(){return this.checkedTemplates.some((function(t){return t.pdf.deleted}))}},{key:"onDoubleClick",value:function(t,e){e&&t.stopPropagation()}},{key:"initAddDocDialog",value:function(){this.addDocFormGroup.reset(this.initialAddDocFormGroupValues)}},{key:"getCheckedTemplates",value:function(t){return this.table.getData().filter((function(e){return t.some((function(t){return t===e.id}))}))}},{key:"makeStreamdocUrl",value:function(t){return"".concat(this.router.serializeUrl(this.router.createUrlTree([this.baseHref,"view","sd"])),";streamdocsId=").concat(t)}},{key:"currentPageIndex",get:function(){return this.table.getPageInfo().currentIndex}},{key:"acceptableExtensions",get:function(){return this.productService.getAcceptableExtensions().join(", ")}},{key:"isVu",get:function(){return"StreamDocs Vu!"===this.productService.getProductType()}},{key:"hasOriginalFileInChecked",get:function(){var t,e=this;return null===(t=this.formGroup.controls.checkedIds.value)||void 0===t?void 0:t.every((function(t){return e.table.getData().find((function(e){return e.id===t})).pdf.originExists}))}}]),t}()).\u0275fac=function(t){return new(t||Ke)(C.Mb(C.h),C.Mb(Ie),C.Mb(tt.c),C.Mb(f.G),C.Mb(U.d),C.Mb(m.b),C.Mb(vt.b),C.Mb(Re.b),C.Mb(_t.a),C.Mb(Ne.b),C.Mb(b.c),C.Mb(h.g),C.Mb(Rt.b),C.Mb(kt.l),C.Mb(d.a))},Ke.\u0275cmp=C.Gb({type:Ke,selectors:[["sd-document-list"]],features:[C.yb([_t.a,f.G,f.y,{provide:d.a,useFactory:function(t){return t.getBaseHrefFromDOM()},deps:[d.D]}])],decls:42,vars:47,consts:[[3,"isLoading"],[1,"form-list-header",3,"formGroup"],[1,"tools"],["size","small","color","primary",1,"ep-button",3,"click"],[1,"papycon","papycon-plus3"],["size","small","color","grey",1,"ep-button",3,"disabled","click"],[1,"papycon","papycon-minus2"],["size","small","color","white",1,"ep-button",3,"disabled","click"],[1,"papycon","papycon-pen"],[1,"papycon","papycon-download"],["class","ep-button","size","small","color","white",3,"disabled","click",4,"ngIf"],[1,"right-side"],["formControlName","filter",1,"small",3,"filterMenus"],["size","small","useClearButton","true","formControlName","keyword",1,"custom",3,"placeholder","keydown.enter","focusout"],[3,"formGroup"],[3,"data","displayedColumns","formArrayName","currentPageIndex","emptyEl","checkedStatusChange","itemDblClick","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"deleted",4,"eTableCell","eTableCellFor"],[3,"last","sideButtonCount","page","prevLabel","nextLabel","pageChange"],["emptyEl",""],[3,"readonly","label","iconButtons","inputValueChange","iconButtonClick","dblclick"],["color","none",3,"formControlName","options","labelFunc","click","dblclick",4,"ngIf"],["class","deleted-file-expiryDate",4,"ngIf"],["color","none",3,"formControlName","options","labelFunc","click","dblclick"],[1,"deleted-file-expiryDate"],["size","tiny","color","white",1,"ep-button",3,"disabled","click","dblclick"],[1,"papycon","papycon-link"],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-list2"],[1,"title"],[1,"dashed"],[1,"message"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card",0),C.Sb(4,"header",1),C.Sb(5,"div",2),C.Sb(6,"button",3),C.Zb("click",(function(){return e.onCreateClick()})),C.Nb(7,"i",4),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Sb(10,"button",5),C.Zb("click",(function(){return e.onDeleteClick()})),C.Nb(11,"i",6),C.Fc(12),C.ec(13,"translate"),C.Rb(),C.Sb(14,"button",7),C.Zb("click",(function(){return e.openDoc(e.checkedTemplates[0])})),C.Nb(15,"i",8),C.Fc(16),C.ec(17,"translate"),C.Rb(),C.Sb(18,"button",7),C.Zb("click",(function(){return e.download()})),C.Nb(19,"i",9),C.Fc(20),C.ec(21,"translate"),C.Rb(),C.Dc(22,Ae,4,4,"button",10),C.Rb(),C.Sb(23,"div",11),C.Nb(24,"sd-filter-pop-up",12),C.Sb(25,"pu-input",13),C.Zb("keydown.enter",(function(){return e.searchKeyword()}))("focusout",(function(){return e.searchKeyword()})),C.ec(26,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Qb(27,14),C.Sb(28,"e-table",15),C.Zb("checkedStatusChange",(function(t){return e.checkedStatusChange(t)}))("itemDblClick",(function(t){return e.openDoc(t)}))("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(29,Le,2,4,"div",16),C.Dc(30,Fe,2,1,"div",16),C.Dc(31,Ge,2,1,"div",16),C.Dc(32,Ue,3,4,"div",16),C.Dc(33,je,2,3,"div",17),C.Dc(34,Be,4,3,"div",16),C.Dc(35,We,3,1,"div",16),C.Rb(),C.Pb(),C.Sb(36,"footer"),C.Sb(37,"sd-pagination",18),C.Zb("pageChange",(function(t){return e.onPageChanging(t)})),C.ec(38,"translate"),C.ec(39,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(40,Ye,10,6,"ng-template",null,19,C.Ec)),2&t){var n=C.tc(41);C.zb(1),C.Gc(C.fc(2,31,"DOCUMENT_LIST")),C.zb(2),C.jc("isLoading",e.isLoading),C.zb(1),C.jc("formGroup",e.table.filterGroup),C.zb(4),C.Gc(C.fc(9,33,"ADD")),C.zb(2),C.jc("disabled",!(null!=e.formGroup.controls.checkedIds.value&&e.formGroup.controls.checkedIds.value.length)||e.hasDeleted()),C.zb(2),C.Gc(C.fc(13,35,"DELETE")),C.zb(2),C.jc("disabled",1!==(null==e.formGroup.controls.checkedIds.value?null:e.formGroup.controls.checkedIds.value.length)||e.hasDeleted()),C.zb(2),C.Gc(C.fc(17,37,"VIEW")),C.zb(2),C.jc("disabled",1!==(null==e.formGroup.controls.checkedIds.value?null:e.formGroup.controls.checkedIds.value.length)||e.hasDeleted()),C.zb(2),C.Gc(C.fc(21,39,"PDF_DOWNLOAD")),C.zb(2),C.jc("ngIf",e.isVu),C.zb(2),C.jc("filterMenus",e.filterMenus),C.zb(1),C.jc("placeholder",C.fc(26,41,"DOCUMENT_LIST_PAGE_FILTER_PLACEHOLDER")),C.zb(2),C.jc("formGroup",e.formGroup),C.zb(1),C.jc("data",e.table.getData())("displayedColumns",e.displayedColumns)("formArrayName","expiryDate")("currentPageIndex",e.currentPageIndex)("emptyEl",n),C.zb(1),C.jc("eTableCellFor","docName"),C.zb(1),C.jc("eTableCellFor","status"),C.zb(1),C.jc("eTableCellFor","userName"),C.zb(1),C.jc("eTableCellFor","createdAt"),C.zb(1),C.jc("eTableCellFor","size"),C.zb(1),C.jc("eTableCellFor","expiredAt"),C.zb(1),C.jc("eTableCellFor","copy"),C.zb(2),C.jc("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("page",e.table.getPageInfo().currentIndex+1)("prevLabel",C.fc(38,43,"PREVIOUS"))("nextLabel",C.fc(39,45,"NEXT"))}},styles:[".split[_ngcontent-%COMP%]{width:1px;height:20px;background:#c8c8c8}span.basic[_ngcontent-%COMP%]{background-color:#035668}span.basic[_ngcontent-%COMP%], span.premium[_ngcontent-%COMP%]{border-radius:4px;padding:2px 16px;color:#fff}span.premium[_ngcontent-%COMP%]{background-color:#0cbc82}span.undefined[_ngcontent-%COMP%]{border-radius:4px;background-color:#6c6c6c;padding:2px 16px;color:#fff}sd-loading-toast[_ngcontent-%COMP%]{position:unset;top:0;left:0}header.dialog[_ngcontent-%COMP%]{margin:40px 0 0;font-size:16px;line-height:26px;font-family:NotoSans-Medium,sans-serif;color:#1e1e1e}header.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-weight:400;margin:0}h1.regular[_ngcontent-%COMP%], h2.regular[_ngcontent-%COMP%], h3.regular[_ngcontent-%COMP%], h4.regular[_ngcontent-%COMP%], h5.regular[_ngcontent-%COMP%]{font-family:inherit}h1.light[_ngcontent-%COMP%], h2.light[_ngcontent-%COMP%], h3.light[_ngcontent-%COMP%], h4.light[_ngcontent-%COMP%], h5.light[_ngcontent-%COMP%]{color:#6c6c6c}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%]{font-size:20px;line-height:28px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:26px}h3[_ngcontent-%COMP%]{font-size:14px;line-height:24px}h4[_ngcontent-%COMP%]{font-size:13px;line-height:22px}h5[_ngcontent-%COMP%]{font-size:12px;line-height:20px}.papycon[_ngcontent-%COMP%], pu-icon[_ngcontent-%COMP%]{text-align:center}.papycon.bt[_ngcontent-%COMP%], pu-icon.bt[_ngcontent-%COMP%]{cursor:pointer}.dialog__header[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .dialog__header[_ngcontent-%COMP%]   pu-icon[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start}textarea[_ngcontent-%COMP%]{font-size:13px;line-height:22px;font-family:NotoSans-Regular,sans-serif;border:1px solid #dadada;border-radius:2px;height:62px;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f79f1a}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::placeholder{color:#6c6c6c;opacity:.7}textarea.fit[_ngcontent-%COMP%]{width:100%}pu-checkbox.custom[_ngcontent-%COMP%]{line-height:1!important;padding:3px 10px}pu-checkbox.box[_ngcontent-%COMP%]{font-size:20px;border:1px solid #dadada;background-color:#fff;border-radius:2px}pu-checkbox[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{vertical-align:initial}pu-toggle-button[_ngcontent-%COMP%]  input[type]{border:unset}.table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .thead[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;min-height:44px;border-bottom:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]{margin:0;padding:0}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{height:40px;background:#fff;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover, .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,85.5%,.1)}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%]{border-color:#f79f1a;background-color:rgba(255,248,237,.9)}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#6c6c6c}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%]{margin:0 auto 12px;font-size:40px;line-height:40px;width:40px}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon), .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon){font-size:16px;line-height:26px;color:#1e1e1e}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%]{height:2px;width:170px;margin:11px auto;background:linear-gradient(90deg,#979797,#979797 4px,transparent 0,transparent 6px) 0/6px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;flex-direction:column}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{flex-direction:column;width:170px;height:160px}.empty[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{color:#6c6c6c;font-size:22px;margin:0 auto 12px}.empty[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:NotoSans-Regular}.empty[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:14px;font-weight:400;text-align:center;font-family:NotoSans-Regular;padding-top:12px}.empty[_ngcontent-%COMP%]   .dashed[_ngcontent-%COMP%]{width:170px;height:2px;border-bottom:2px dashed #979797}.notifier[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}[_nghost-%COMP%]:not(.loading){position:relative;width:100%;min-width:1120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;font-family:NotoSans-Regular,sans-serif}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]{background:#f2f2f2}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{color:#6c6c6c}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{margin-top:14px;display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}sd-card[_ngcontent-%COMP%]{padding:30px 24px 37px}.form-list-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.form-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:18px}.form-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{width:307px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input.custom[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;line-height:20px;font-family:NotoSans-Medium,sans-serif;color:#6c6c6c;border-radius:12px;border:1.2px solid #c8c8c8;padding:3px 12px;margin-left:8px}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;overflow:visible}e-table[_ngcontent-%COMP%], e-table[_ngcontent-%COMP%]     .docName{display:-webkit-box;display:-ms-flexbox;display:flex}e-table[_ngcontent-%COMP%]     .docName{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px;white-space:nowrap;overflow:hidden;margin-right:20px}e-table[_ngcontent-%COMP%]     .docName>div{width:100%}e-table[_ngcontent-%COMP%]     .status{-webkit-box-flex:0;-ms-flex:0 1 65px;flex:0 1 65px;font-size:14px}e-table[_ngcontent-%COMP%]     .userName{-webkit-box-flex:0;-ms-flex:0 1 125px;flex:0 1 125px;font-size:14px}e-table[_ngcontent-%COMP%]     .createdAt{-webkit-box-flex:0;-ms-flex:0 1 140px;flex:0 1 140px;font-size:14px}e-table[_ngcontent-%COMP%]     .size{-webkit-box-flex:0;-ms-flex:0 1 86px;flex:0 1 86px;font-size:14px}e-table[_ngcontent-%COMP%]     .size .deleted{padding-left:10px}e-table[_ngcontent-%COMP%]     .expiredAt{-webkit-box-flex:0;-ms-flex:0 1 170px;flex:0 1 170px;display:-webkit-box;display:-ms-flexbox;display:flex}e-table[_ngcontent-%COMP%]     .expiredAt admin-dropdown{width:156px}e-table[_ngcontent-%COMP%]     .expiredAt:hover pu-dropdown[size]  div.select-box{background-color:#fff;border-radius:2px;border:1px solid #dadada}e-table[_ngcontent-%COMP%]     .expiredAt pu-dropdown[size]  div.select-box{width:100px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;height:33px;border:none;background-color:transparent}e-table[_ngcontent-%COMP%]     .expiredAt pu-dropdown[size]  div.select-box div.expand-button{background-color:unset;border-left:unset}e-table[_ngcontent-%COMP%]     .expiredAt .deleted-file-expiryDate{font-size:14px;padding-left:10px}e-table[_ngcontent-%COMP%]     .copy{-webkit-box-flex:0;-ms-flex:0 1 63px;flex:0 1 63px;font-size:14px}e-table[_ngcontent-%COMP%]     .copy button{padding-left:10px;padding-right:10px}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}span.primary[_ngcontent-%COMP%]{color:#ff6100;text-decoration:underline}"]}),Ke);function Ze(t,e){if(1&t){var n=C.Tb();C.Sb(0,"i",3),C.Zb("click",(function(){return C.uc(n),C.dc(2).startEdit()})),C.Rb()}if(2&t){var i=C.dc(2);C.Eb("visible",i.isHovered)}}function qe(t,e){if(1&t){var n=C.Tb();C.Sb(0,"i",4),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc(2).iconButtonClick.emit(t)})),C.Rb()}if(2&t){var i=e.$implicit,o=C.dc(2);C.Eb("visible",o.isHovered),C.jc("ngClass",i)}}function Je(t,e){if(1&t&&(C.Qb(0),C.Sb(1,"span"),C.Fc(2),C.Rb(),C.Dc(3,Ze,1,2,"i",1),C.Dc(4,qe,1,3,"i",2),C.Pb()),2&t){var n=C.dc();C.zb(2),C.Gc(n.label),C.zb(1),C.jc("ngIf",!n.readonly),C.zb(1),C.jc("ngForOf",n.iconButtons)}}function Qe(t,e){if(1&t){var n=C.Tb();C.Qb(0),C.Sb(1,"pu-input",5),C.Zb("blur",(function(){return C.uc(n),C.dc().closeEdit()}))("keydown.enter",(function(){return C.uc(n),C.dc().closeEdit()}))("dblclick",(function(t){return C.uc(n),C.dc().onDoubleClick(t)})),C.Rb(),C.Pb()}if(2&t){var i=C.dc();C.zb(1),C.jc("formControl",i.formControl)}}var Xe,tn,en=((tn=function(){function t(){u(this,t),this.readonly=!1,this.isEditMode=!1,this.label="",this.iconButtons=[],this.inputValueChange=new C.n,this.iconButtonClick=new C.n,this.formControl=new h.h(""),this.isHovered=!1}return g(t,[{key:"onHover",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"ngOnChanges",value:function(t){this.formControl.setValue(this.label)}},{key:"startEdit",value:function(){var t=this;this.isEditMode=!0,setTimeout((function(){return t.inputComponent.focus()}))}},{key:"closeEdit",value:function(){this.isEditMode=!1,this.label!==this.formControl.value&&this.inputValueChange.emit(this.formControl.value)}},{key:"onDoubleClick",value:function(t){this.isEditMode&&t.stopPropagation()}}]),t}()).\u0275fac=function(t){return new(t||tn)},tn.\u0275cmp=C.Gb({type:tn,selectors:[["sd-editable-label"]],viewQuery:function(t,e){var n;1&t&&C.Lc(f.s,!0),2&t&&C.sc(n=C.ac())&&(e.inputComponent=n.first)},hostBindings:function(t,e){1&t&&C.Zb("mouseenter",(function(t){return e.onHover(t)}))("mouseleave",(function(t){return e.onMouseLeave(t)}))},inputs:{readonly:"readonly",isEditMode:"isEditMode",label:"label",iconButtons:"iconButtons"},outputs:{inputValueChange:"inputValueChange",iconButtonClick:"iconButtonClick"},features:[C.xb],decls:2,vars:2,consts:[[4,"ngIf"],["class","papycon papycon-pen",3,"visible","click",4,"ngIf"],["class","papycon",3,"ngClass","visible","click",4,"ngFor","ngForOf"],[1,"papycon","papycon-pen",3,"click"],[1,"papycon",3,"ngClass","click"],[3,"formControl","blur","keydown.enter","dblclick"]],template:function(t,e){1&t&&(C.Dc(0,Je,5,3,"ng-container",0),C.Dc(1,Qe,2,1,"ng-container",0)),2&t&&(C.jc("ngIf",!e.isEditMode),C.zb(1),C.jc("ngIf",e.isEditMode))},directives:[d.t,d.s,d.q,f.s,h.r,h.i],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%], span[_ngcontent-%COMP%]{overflow:hidden}span[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;padding-right:.1em;text-overflow:ellipsis;white-space:nowrap}i[_ngcontent-%COMP%]{font-size:16px;margin-left:8px;margin-right:8px;margin-top:3px;cursor:pointer;visibility:hidden}i.visible[_ngcontent-%COMP%]{visibility:visible}pu-input[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}"],changeDetection:0}),tn),nn=((Xe=function t(){u(this,t)}).\u0275mod=C.Kb({type:Xe}),Xe.\u0275inj=C.Jb({factory:function(t){return new(t||Xe)},imports:[[d.c,h.B,f.t]]}),Xe),on=l("B93E");function an(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.pdf.docName)}}function rn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc((null==n.owner?null:n.owner.name)||"(unknown)")}}function cn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"date"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.gc(2,1,n.validity.expirationDate,"yyyy-MM-dd"))}}function sn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.Gc(i.fileSize(n.pdf.fileSize))}}function ln(t,e){1&t&&(C.Sb(0,"div"),C.Nb(1,"i",10),C.ec(2,"translate"),C.Rb()),2&t&&(C.zb(1),C.jc("sdTooltip",C.fc(2,1,"REMOVED_DOCUMENT_ITEM_TOOLTIP")))}function dn(t,e){if(1&t&&(C.Sb(0,"div",11),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=e.rect;C.Bc("top",i.bottom+5,"px")("left",i.left-190,"px"),C.zb(1),C.Gc(n)}}function un(t,e){1&t&&(C.Sb(0,"div",12),C.Sb(1,"div",13),C.Nb(2,"span",14),C.Sb(3,"p",15),C.Fc(4),C.ec(5,"translate"),C.Rb(),C.Nb(6,"div",16),C.Sb(7,"p",17),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(4),C.Gc(C.fc(5,2,"NO_REMOVED_DOCUMENT")),C.zb(4),C.Gc(C.fc(9,4,"MESSAGE_NO_REMOVED_DOCUMENT")))}var pn,gn,bn=((pn=function(){function t(e,n,i,o,a,r,c){u(this,t),this.changeDetectorRef=e,this.documentListDataService=n,this.tooltipService=i,this.subs=o,this.translatePipe=a,this.bytesPipe=r,this.formBuilder=c,this.filterMenus=[{label:this.translatePipe.transform("REGISTRATION_DATE"),type:"date",item:Object.values(_).filter((function(t){return t!==_.CUSTOM})).map((function(t){return{label:t,value:t}})),isMulti:!1},{label:this.translatePipe.transform("MANUAL_SELECT"),type:"custom-date",item:[{label:"",value:_.CUSTOM}],isMulti:!1}],this.formGroup=this.formBuilder.group({expiryDate:this.formBuilder.array([])}),this.displayedColumns=[{key:"docName",title:this.translatePipe.transform("DOCUMENT_NAME"),sortable:!0},{key:"userName",title:this.translatePipe.transform("AUTHOR"),sortable:!0},{key:"expiredAt",title:this.translatePipe.transform("EXPIRY_DATE"),sortable:!1},{key:"size",title:this.translatePipe.transform("FILE_SIZE"),sortable:!1},{key:"expired",title:"",sortable:!1}],this.isLoading=!0,this.table=new Y.a}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc),this.subs.push(this.table.filterChanges.subscribe({next:function(){t.table.reset(),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)}}),this.table.filterGroup.get("keyword").valueChanges.pipe(Z.a((function(t){return!t}))).subscribe({next:function(){t.searchKeyword()}}))}},{key:"ngAfterViewInit",value:function(){this.tooltipService.registerContainer(this.tooltipContainerDirective)}},{key:"fileSize",value:function(t){return 0===t?"-":this.bytesPipe.transform(t)}},{key:"searchKeyword",value:function(){this.table.reset(),this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"getTemplates",value:function(t,e,n,i){var o=this;this.isLoading=!0,this.subs.push(this.documentListDataService.fetchPdf({pageIndex:this.table.getPageInfo().currentIndex,listingCount:15,search:t,from:e?Object(Q.H)(e.startDate):void 0,to:e?Object(Q.H)(e.endDate):void 0,orderBy:n,ascending:i,deleted:!0,includeStatistics:!1}).subscribe({next:function(t){if(o.isLoading=!1,"0"===t.pageInfo.totalCount)return o.table.reset(),o.table.setData([]),void o.changeDetectorRef.markForCheck();o.table.setData(t.resources),o.table.setPageInfo(t.pageInfo.totalCount,t.pageInfo.listingCount),o.changeDetectorRef.markForCheck()}}))}},{key:"onPageChanging",value:function(t){this.table.setPageCurrentIndex(t-1),this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"sortingChanges",value:function(t){this.orderBy=0===t.value?void 0:t.name,this.asc=0===t.value?void 0:1===t.value,this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"currentPageIndex",get:function(){return this.table.getPageInfo().currentIndex}}]),t}()).\u0275fac=function(t){return new(t||pn)(C.Mb(C.h),C.Mb(Ie),C.Mb(on.d),C.Mb(f.G),C.Mb(U.d),C.Mb(_t.a),C.Mb(h.g))},pn.\u0275cmp=C.Gb({type:pn,selectors:[["sd-removed-document-list"]],viewQuery:function(t,e){var n;1&t&&C.Lc(on.b,!0),2&t&&C.sc(n=C.ac())&&(e.tooltipContainerDirective=n.first)},features:[C.yb([{provide:on.a,useValue:0}])],decls:22,vars:29,consts:[[3,"isLoading"],[1,"form-list-header",3,"formGroup"],[1,"right-side"],["size","small","useClearButton","true","formControlName","keyword",1,"custom",3,"placeholder","keydown.enter","focusout"],[3,"formGroup"],[3,"data","displayedColumns","formArrayName","currentPageIndex","checkEnable","emptyEl","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"last","sideButtonCount","page","prevLabel","nextLabel","pageChange"],["class","tooltip",3,"top","left",4,"sdTooltipContainer"],["emptyEl",""],[1,"papycon","papycon-questionmark",3,"sdTooltip"],[1,"tooltip"],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-list2"],[1,"title"],[1,"dashed"],[1,"message"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card",0),C.Sb(4,"header",1),C.Sb(5,"div",2),C.Sb(6,"pu-input",3),C.Zb("keydown.enter",(function(){return e.searchKeyword()}))("focusout",(function(){return e.searchKeyword()})),C.ec(7,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Qb(8,4),C.Sb(9,"e-table",5),C.Zb("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(10,an,2,1,"div",6),C.Dc(11,rn,2,1,"div",6),C.Dc(12,cn,3,4,"div",6),C.Dc(13,sn,2,1,"div",6),C.Dc(14,ln,3,3,"div",6),C.Rb(),C.Pb(),C.Sb(15,"footer"),C.Sb(16,"sd-pagination",7),C.Zb("pageChange",(function(t){return e.onPageChanging(t)})),C.ec(17,"translate"),C.ec(18,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(19,dn,2,5,"div",8),C.Dc(20,un,10,6,"ng-template",null,9,C.Ec)),2&t){var n=C.tc(21);C.zb(1),C.Gc(C.fc(2,21,"REMOVED_DOCUMENT_LIST")),C.zb(2),C.jc("isLoading",e.isLoading),C.zb(1),C.jc("formGroup",e.table.filterGroup),C.zb(2),C.jc("placeholder",C.fc(7,23,"DOCUMENT_LIST_PAGE_FILTER_PLACEHOLDER")),C.zb(2),C.jc("formGroup",e.formGroup),C.zb(1),C.jc("data",e.table.getData())("displayedColumns",e.displayedColumns)("formArrayName","expiryDate")("currentPageIndex",e.currentPageIndex)("checkEnable",!1)("emptyEl",n),C.zb(1),C.jc("eTableCellFor","docName"),C.zb(1),C.jc("eTableCellFor","userName"),C.zb(1),C.jc("eTableCellFor","expiredAt"),C.zb(1),C.jc("eTableCellFor","size"),C.zb(1),C.jc("eTableCellFor","expired"),C.zb(2),C.jc("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("page",e.table.getPageInfo().currentIndex+1)("prevLabel",C.fc(17,25,"PREVIOUS"))("nextLabel",C.fc(18,27,"NEXT"))}},styles:[".split[_ngcontent-%COMP%]{width:1px;height:20px;background:#c8c8c8}span.basic[_ngcontent-%COMP%]{background-color:#035668}span.basic[_ngcontent-%COMP%], span.premium[_ngcontent-%COMP%]{border-radius:4px;padding:2px 16px;color:#fff}span.premium[_ngcontent-%COMP%]{background-color:#0cbc82}span.undefined[_ngcontent-%COMP%]{border-radius:4px;background-color:#6c6c6c;padding:2px 16px;color:#fff}sd-loading-toast[_ngcontent-%COMP%]{position:unset;top:0;left:0}header.dialog[_ngcontent-%COMP%]{margin:40px 0 0;font-size:16px;line-height:26px;font-family:NotoSans-Medium,sans-serif;color:#1e1e1e}header.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-weight:400;margin:0}h1.regular[_ngcontent-%COMP%], h2.regular[_ngcontent-%COMP%], h3.regular[_ngcontent-%COMP%], h4.regular[_ngcontent-%COMP%], h5.regular[_ngcontent-%COMP%]{font-family:inherit}h1.light[_ngcontent-%COMP%], h2.light[_ngcontent-%COMP%], h3.light[_ngcontent-%COMP%], h4.light[_ngcontent-%COMP%], h5.light[_ngcontent-%COMP%]{color:#6c6c6c}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%]{font-size:20px;line-height:28px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:26px}h3[_ngcontent-%COMP%]{font-size:14px;line-height:24px}h4[_ngcontent-%COMP%]{font-size:13px;line-height:22px}h5[_ngcontent-%COMP%]{font-size:12px;line-height:20px}.papycon[_ngcontent-%COMP%], pu-icon[_ngcontent-%COMP%]{text-align:center}.papycon.bt[_ngcontent-%COMP%], pu-icon.bt[_ngcontent-%COMP%]{cursor:pointer}.dialog__header[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .dialog__header[_ngcontent-%COMP%]   pu-icon[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start}textarea[_ngcontent-%COMP%]{font-size:13px;line-height:22px;font-family:NotoSans-Regular,sans-serif;border:1px solid #dadada;border-radius:2px;height:62px;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f79f1a}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::placeholder{color:#6c6c6c;opacity:.7}textarea.fit[_ngcontent-%COMP%]{width:100%}pu-checkbox.custom[_ngcontent-%COMP%]{line-height:1!important;padding:3px 10px}pu-checkbox.box[_ngcontent-%COMP%]{font-size:20px;border:1px solid #dadada;background-color:#fff;border-radius:2px}pu-checkbox[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{vertical-align:initial}pu-toggle-button[_ngcontent-%COMP%]  input[type]{border:unset}.table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .thead[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;min-height:44px;border-bottom:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]{margin:0;padding:0}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{height:40px;background:#fff;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover, .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,85.5%,.1)}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%]{border-color:#f79f1a;background-color:rgba(255,248,237,.9)}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#6c6c6c}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%]{margin:0 auto 12px;font-size:40px;line-height:40px;width:40px}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon), .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon){font-size:16px;line-height:26px;color:#1e1e1e}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%]{height:2px;width:170px;margin:11px auto;background:linear-gradient(90deg,#979797,#979797 4px,transparent 0,transparent 6px) 0/6px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;flex-direction:column}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{flex-direction:column;width:170px;height:160px}.empty[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{color:#6c6c6c;font-size:22px;margin:0 auto 12px}.empty[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:NotoSans-Regular}.empty[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:14px;font-weight:400;text-align:center;font-family:NotoSans-Regular;padding-top:12px}.empty[_ngcontent-%COMP%]   .dashed[_ngcontent-%COMP%]{width:170px;height:2px;border-bottom:2px dashed #979797}.notifier[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}[_nghost-%COMP%]:not(.loading){position:relative;width:100%;min-width:1120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;font-family:NotoSans-Regular,sans-serif}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]{background:#f2f2f2}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{color:#6c6c6c}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{margin-top:14px;display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}sd-card[_ngcontent-%COMP%]{padding:30px 24px 37px}.form-list-header[_ngcontent-%COMP%]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.form-list-header[_ngcontent-%COMP%], .form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{width:307px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input.custom[_ngcontent-%COMP%]{margin-left:12px}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;overflow:visible}e-table[_ngcontent-%COMP%], e-table[_ngcontent-%COMP%]     .docName{display:-webkit-box;display:-ms-flexbox;display:flex}e-table[_ngcontent-%COMP%]     .docName{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px;white-space:nowrap;overflow:hidden;margin-right:20px}e-table[_ngcontent-%COMP%]     .userName{-webkit-box-flex:0;-ms-flex:0 1 125px;flex:0 1 125px;font-size:14px}e-table[_ngcontent-%COMP%]     .size{-webkit-box-flex:0;-ms-flex:0 1 86px;flex:0 1 86px;font-size:14px}e-table[_ngcontent-%COMP%]     .expiredAt{-webkit-box-flex:0;-ms-flex:0 1 170px;flex:0 1 170px;font-size:14px}e-table[_ngcontent-%COMP%]     .expired{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:0;-ms-flex:0 1 100px;flex:0 1 100px;font-size:14px;font-weight:500}e-table[_ngcontent-%COMP%]     .expired i{font-size:20px;margin-left:5px;cursor:pointer}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}.tooltip[_ngcontent-%COMP%]{background-color:#363636;color:#fff;position:fixed;font-size:12px;font-family:NotoSans-Regular;z-index:1;padding:14px 20px;border-radius:5px;white-space:pre}"],changeDetection:0}),pn),fn=l("tV9x"),hn=l("KQA2"),mn=l("lXBU"),Cn=l("SKHy"),xn=l("V2Em"),On=l("vUdp"),yn=l("TeXk"),Mn=l("3N/c"),_n=l("rV57"),Pn=l("v9uc"),vn=((gn=function t(){u(this,t)}).\u0275mod=C.Kb({type:gn}),gn.\u0275inj=C.Jb({factory:function(t){return new(t||gn)},providers:[Ie],imports:[[d.c,h.B,f.t,h.n,f.j,b.g,yt.a,V,Mt,f.f,_t.b,f.l,Y.b,ke.b,nn,m.a,U.b,on.c]]}),gn);function kn(t,e){if(1&t&&(C.Sb(0,"li"),C.Sb(1,"p"),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Sb(4,"span"),C.Fc(5),C.Rb(),C.Rb()),2&t){var n=e.$implicit;C.zb(2),C.Gc(C.fc(3,2,n.label)),C.zb(3),C.Gc(n.value)}}function Sn(t,e){1&t&&C.Ob(0)}function Dn(t,e){if(1&t&&(C.Sb(0,"div",17),C.Sb(1,"span",18),C.Fc(2),C.Rb(),C.Sb(3,"span",19),C.Fc(4),C.Rb(),C.Rb()),2&t){var n=e.$implicit,i=C.dc().statistic,o=C.dc(2);C.zb(2),C.Gc(n.docName),C.zb(2),C.Gc(o.dataCount(i,n))}}function wn(t,e){1&t&&C.Dc(0,Dn,5,2,"div",16),2&t&&C.jc("ngForOf",e.statistic.data)}C.xc($e,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,f.s,h.u,h.v,h.t,f.i,b.h,b.d,b.f,b.e,b.i,nt.a,fn.a,F,lt,f.e,f.k,it.a,ot.a,hn.a,en,mn.a,Cn.a,xn.b,On.a,$e,bn],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(bn,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,f.s,h.u,h.v,h.t,f.i,b.h,b.d,b.f,b.e,b.i,nt.a,fn.a,F,lt,f.e,f.k,it.a,ot.a,hn.a,en,mn.a,Cn.a,xn.b,On.a,$e,bn],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]);var En=function(t){return{statistic:t}};function Tn(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",12),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().onClickStatisticCard(t)})),C.Sb(1,"header"),C.Sb(2,"label"),C.Fc(3),C.ec(4,"translate"),C.Rb(),C.Nb(5,"i",4),C.Rb(),C.Sb(6,"div",13),C.Dc(7,Sn,1,0,"ng-container",14),C.Dc(8,wn,1,1,"ng-template",null,15,C.Ec),C.Rb(),C.Rb()}if(2&t){var i=e.$implicit,o=C.tc(9),a=C.dc(),r=C.tc(36);C.zb(3),C.Gc(C.fc(4,4,i.label)),C.zb(2),C.jc("ngClass",a.getTableHeaderIconClass(i.icon)),C.zb(2),C.jc("ngTemplateOutlet",i.data.length?o:r)("ngTemplateOutletContext",C.nc(6,En,i))}}function In(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.Gc(i.fileStatus(n.pdf.deleted))}}function Rn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.pdf.docName)}}function Nn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"number"),C.ec(3,"translate"),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.zb(1),C.Ic("",C.fc(2,2,i.getDynamicData(n))," ",C.fc(3,4,"NUMBER_OF_OCCURRENCES"),"")}}function An(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"date"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.gc(2,1,n.pdf.createdAt,"yyyy-MM-dd"))}}function zn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.Eb("deleted",n.pdf.deleted),C.zb(1),C.Gc(i.fileSize(n.pdf.fileSize))}}function Ln(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit,i=C.dc();C.Eb("deleted",n.pdf.deleted),C.zb(1),C.Gc(i.getExpiryDate(n))}}function Fn(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div"),C.Sb(1,"i",20),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().toggleTableIcon(t)})),C.Rb(),C.Rb()}if(2&t){var i=e.$implicit,o=C.dc();C.zb(1),C.jc("ngClass",o.papyconClass(i))}}function Gn(t,e){if(1&t){var n=C.Tb();C.Sb(0,"sd-statistic-card",21),C.Zb("dateTypeChange",(function(t){return C.uc(n),C.dc().changeDateType(t)}))("customDateChange",(function(t){return C.uc(n),C.dc().changeDate(t)})),C.Rb()}if(2&t){var i=C.dc();C.jc("chartStyle",i.chartStyle)("chartDataSets",i.chartDataSets)("chartLabels",i.chartLabels)("chartResponsive",i.chartResponsive)("chartMaintainAspectRatio",i.chartMaintainAspectRatio)("chartElements",i.chartElements)("chartLegend",i.chartLegend)("chartScales",i.chartScales)("chartTooltips",i.chartTooltips)("chartColor",i.chartColor)("chartType",i.chartType)("legendDate",i.dateInfo)}}function Un(t,e){if(1&t&&(C.Sb(0,"div",22),C.Sb(1,"div",23),C.Nb(2,"i",24),C.Sb(3,"p",25),C.Fc(4),C.Rb(),C.Rb(),C.Rb()),2&t){var n=C.dc();C.zb(4),C.Gc(n.emptyMessage)}}function jn(t,e){if(1&t&&(C.Sb(0,"div",22),C.Sb(1,"div",23),C.Nb(2,"i",24),C.Sb(3,"p",25),C.Fc(4),C.Rb(),C.Rb(),C.Rb()),2&t){var n=e.statistic,i=C.dc();C.zb(4),C.Gc(i.emptyStatisticMessage(n))}}var Hn,Vn,Bn,Wn=((Vn=function(){function t(e,n,i,o,a,r,s){var l=this;u(this,t),this.documentListDataService=e,this.subs=n,this.statisticDataService=i,this.changeDetectorRef=o,this.tableService=a,this.translatePipe=r,this.bytesPipe=s,this.isLoading=!0,this.statistic=[{type:se.VIEW,data:[],label:de.MOST_VIEWED_DOCUMENTS,icon:"document"},{type:se.DOWNLOAD,data:[],label:de.MOST_DOWNLOADED_DOCUMENTS,icon:"download"},{type:se.PRINT,data:[],label:de.MOST_PRINTED_DOCUMENTS,icon:"print"}],this.table=new Y.a,this.tableIcon="analytics",this.displayedColumns=[{key:"docName",title:this.translatePipe.transform("DOCUMENT_NAME"),sortable:!0},{key:"status",title:this.translatePipe.transform("STATUS"),sortable:!1},{key:"data",title:this.translatePipe.transform("OPEN_COUNT_COLUMN"),sortable:!0},{key:"createdAt",title:this.translatePipe.transform("DATE"),sortable:!0},{key:"size",title:this.translatePipe.transform("FILE_SIZE"),sortable:!1},{key:"expiredAt",title:this.translatePipe.transform("EXPIRY_DATE"),sortable:!1},{key:"icon",title:"",sortable:!1}],this.chartStyle={height:"300px"},this.chartDataSets=[{data:[],label:""}],this.chartLabels=[],this.chartResponsive=!0,this.chartMaintainAspectRatio=!1,this.chartElements={line:{tension:0,fill:!1}},this.chartLegend={display:!1},this.chartScales={xAxes:[{ticks:{callback:function(t,e,n){var i=c(t.split(" "),3),o=i[0],a=i[1],r=i[2],s=0===e||e===n.length-1;return l.chartStatus.dateType===Q.j.YEAR?"".concat(s?o:""," ").concat(a):"".concat(s?a:""," ").concat(r)}}}],yAxes:[{ticks:{min:0,stepSize:20}}]},this.chartTooltips={mode:"index",intersect:!1,xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:function(t,e){var n=l.translatePipe.transform("NUMBER_OF_OCCURRENCES");return _e(t,e,n)},labelColor:function(t){return{backgroundColor:l.chartDataSets[t.datasetIndex].borderColor}},title:function(){return null}}},this.chartColor=[{borderColor:"#ff6600",backgroundColor:"#ffffff"}],this.chartType="line",this.chartStatus={dateType:Q.j.WEEK,startDate:new Date,endDate:new Date},this.tableIconFormGroup=new h.k({})}return g(t,[{key:"ngOnInit",value:function(){this.init(),this.getStatistic(),this.getTemplates(this.dynamicColumnName(this.selectedStatistic.type),!1)}},{key:"init",value:function(){this.selectedStatistic=this.statistic[0],this.dynamicColumnTitle=this.selectedStatistic.label}},{key:"fileStatus",value:function(t){return this.translatePipe.transform(t?"DELETE":"NORMAL")}},{key:"fileSize",value:function(t){return 0===t?"-":this.bytesPipe.transform(t)}},{key:"onClickStatisticCard",value:function(t){this.selectedStatistic=t,this.dynamicColumnTitle=t.label,this.displayedColumns.find((function(t){return"data"===t.key})).title=this.dynamicColumnTitle,this.displayedColumns=s(this.displayedColumns),this.getTemplates(this.dynamicColumnName(this.selectedStatistic.type),!1)}},{key:"toggleTableIcon",value:function(t){var e="analytics"===this.tableIconFormGroup.controls[t.id].value?"cross":"analytics";this.initTableIconFormGroup(),this.tableIconFormGroup.controls[t.id].setValue(e)}},{key:"dataCount",value:function(t,e){switch(t.label){case"MOST_VIEWED_DOCUMENTS":return e.openCount;case"MOST_DOWNLOADED_DOCUMENTS":return e.downCount;case"MOST_PRINTED_DOCUMENTS":return e.printCount;default:return""}}},{key:"trackByFn",value:function(t,e){return e.title}},{key:"getTableHeaderIconClass",value:function(t){if(t)return["papycon","papycon-"+t]}},{key:"papyconClass",value:function(t){return this.tableIcon=this.tableIconFormGroup.controls[t.id].value,"papycon-"+this.tableIcon}},{key:"getExpiryDate",value:function(t){return t.pdf.deleted?"-":we(new Date(parseInt(t.validity.expirationDate)),this.translatePipe)}},{key:"changeDateType",value:function(t){var e,n;this.chartStatus.dateType=t,e=this.chartStatus.startDate,n=this.chartStatus.endDate,this.dateInfo=Object(Q.I)(t,e,n),this.getChart(t,this.dateInfo.startDate,this.dateInfo.endDate)}},{key:"getTemplates",value:function(t,e){var n=this;this.closeAccordion(),this.isLoading=!0,this.subs.push(this.documentListDataService.fetchPdf({pageIndex:this.table.getPageInfo().currentIndex,listingCount:15,search:void 0,from:void 0,to:void 0,orderBy:t,ascending:e,deleted:void 0,includeStatistics:!0}).subscribe({next:function(t){if(n.tableIconFormGroup=new h.k({}),n.isLoading=!1,"0"===t.pageInfo.totalCount)return n.table.reset(),n.table.setData([]),void n.changeDetectorRef.markForCheck();t.resources.forEach((function(t){n.tableIconFormGroup.addControl(t.id,new h.h("analytics"))})),n.table.setData(t.resources),n.table.setPageInfo(t.pageInfo.totalCount,t.pageInfo.listingCount),n.subs.set("tableIconChange",x.a.apply(x,s(n.table.getData().map((function(t){return n.tableIconFormGroup.controls[t.id].valueChanges.pipe(J.a((function(e){return{id:t.id,icon:e}})))})))).subscribe({next:function(t){n.statisticId=t.id;var e={id:t.id,isVisible:"cross"===t.icon};n.tableService.accordionStatusChange(e),e.isVisible&&n.changeDateType(Q.j.WEEK)}})),n.changeDetectorRef.markForCheck()}}))}},{key:"getDynamicData",value:function(t){var e;switch(null===(e=this.selectedStatistic)||void 0===e?void 0:e.label){case de.MOST_DOWNLOADED_DOCUMENTS:return t.statistic.downCount;case de.MOST_VIEWED_DOCUMENTS:return t.statistic.openCount;case de.MOST_PRINTED_DOCUMENTS:return t.statistic.printCount;default:return 0}}},{key:"closeAccordion",value:function(){this.statisticId&&this.tableService.accordionStatusChange({id:this.statisticId,isVisible:!1})}},{key:"dynamicColumnName",value:function(t){switch(t){case se.VIEW:return"openCount";case se.DOWNLOAD:return"downCount";case se.PRINT:return"printCount";default:return""}}},{key:"emptyStatisticMessage",value:function(t){switch(t.type){case se.VIEW:return this.translatePipe.transform("NO_OPEN_DOCUMENT");case se.DOWNLOAD:return this.translatePipe.transform("NO_DOWN_DOCUMENT");case se.PRINT:return this.translatePipe.transform("NO_PRINT_DOCUMENT");default:return""}}},{key:"sortingChanges",value:function(t){var e,n=this.dynamicColumnName(this.selectedStatistic.type);e=0===t.value||"data"===t.name?n:t.name,this.getTemplates(e,0===t.value?void 0:1===t.value)}},{key:"changeDate",value:function(t){this.chartStatus.startDate=t.startDate,this.chartStatus.endDate=t.endDate,this.changeDateType(Q.j.CUSTOM)}},{key:"getChart",value:function(t,e,n){var i,o=this;this.chartLabels=[],this.chartDataSets[0].data=[],i=t!==Q.j.YEAR?le.DAILY:le.MONTHLY,this.subs.push(this.statisticDataService.getTimezoneStatistic({startDate:e.getTime(),endDate:n.getTime(),periodUnit:i,isAccumulated:!1,documentId:this.statisticId}).subscribe({next:function(t){o.initChartDate(),t.forEach((function(t){var e="".concat(o.makeTwoDigits(t.year)).concat(o.translatePipe.transform("YEAR")),n="".concat(o.makeTwoDigits(t.month)).concat(o.translatePipe.transform("MONTH")),i="".concat(o.makeTwoDigits(t.date)).concat(o.translatePipe.transform("DAYS"));o.chartLabels.push("".concat(e," ").concat(n," ").concat(i)),o.chartDataSets[0].data.push(o.selectedStatistic.type===se.VIEW?parseInt(t.openCount):o.selectedStatistic.type===se.PRINT?parseInt(t.printCount):parseInt(t.downCount)),o.changeDetectorRef.markForCheck()}))}}))}},{key:"initChartDate",value:function(){this.chartStatus.startDate=new Date,this.chartStatus.endDate=new Date}},{key:"makeTwoDigits",value:function(t){return("0"+t).slice(-2)}},{key:"getStatistic",value:function(){var t=this;this.subs.push(re.a(["total",ge,ue,pe].map((function(e){return"total"===e?t.statisticDataService.getDocumentIncrement():t.statisticDataService.getTopCountByPropertyName(e,4)}))).subscribe((function(e){var n=c(e,4),i=n[0],o=n[1],a=n[2],r=n[3];t._totalStatistic=i,t.statistic[0].data=o,t.statistic[1].data=a,t.statistic[2].data=r,t.changeDetectorRef.markForCheck()})))}},{key:"initTableIconFormGroup",value:function(){var t=this,e=this.table.getData().map((function(t){return t.id}));this.chartDataSets[0].label=this.translatePipe.transform(this.getChartLabel(this.selectedStatistic.type)),this.changeDetectorRef.markForCheck(),e.map((function(e){t.tableIconFormGroup.controls[e].setValue("analytics")}))}},{key:"getChartLabel",value:function(t){switch(t){case se.VIEW:return"OPEN_COUNT_COLUMN";case se.DOWNLOAD:return"DOWN_COUNT_COLUMN";case se.PRINT:return"PRINT_COUNT_COLUMN";default:return""}}},{key:"totalStatistic",get:function(){var t,e,n,i,o,a,r,c;return[{label:"TOTAL_COUNT_REGISTERED_DOCUMENTS",value:null!==(e=null===(t=this._totalStatistic)||void 0===t?void 0:t.totalUploadCount)&&void 0!==e?e:"-"},{label:"TOTAL_COUNT_DELETED_DOCUMENTS",value:null!==(i=null===(n=this._totalStatistic)||void 0===n?void 0:n.totalDeleteCount)&&void 0!==i?i:"-"},{label:"COUNT_CURRENT_READABLE_DOCUMENTS",value:null!==(a=null===(o=this._totalStatistic)||void 0===o?void 0:o.avaliableOpenCount)&&void 0!==a?a:"-"},{label:"RECENT_30_COUNT_REGISTERED_DOCUMENTS",value:null!==(c=null===(r=this._totalStatistic)||void 0===r?void 0:r.monthUploadCount)&&void 0!==c?c:"-"}]}},{key:"emptyMessage",get:function(){switch(this.selectedStatistic.type){case se.VIEW:return this.translatePipe.transform("NO_OPEN_DOCUMENT");case se.DOWNLOAD:return this.translatePipe.transform("NO_DOWN_DOCUMENT");case se.PRINT:return this.translatePipe.transform("NO_PRINT_DOCUMENT");default:return""}}},{key:"dynamicColumnTitle",get:function(){return this._dynamicColumnTitle},set:function(t){switch(t){case de.MOST_DOWNLOADED_DOCUMENTS:this._dynamicColumnTitle=this.translatePipe.transform("DOWN_COUNT_COLUMN");break;case de.MOST_VIEWED_DOCUMENTS:this._dynamicColumnTitle=this.translatePipe.transform("OPEN_COUNT_COLUMN");break;case de.MOST_PRINTED_DOCUMENTS:this._dynamicColumnTitle=this.translatePipe.transform("PRINT_COUNT_COLUMN");break;default:this._dynamicColumnTitle=""}}}]),t}()).\u0275fac=function(t){return new(t||Vn)(C.Mb(Ie),C.Mb(f.G),C.Mb(be),C.Mb(C.h),C.Mb(Y.c),C.Mb(U.d),C.Mb(_t.a))},Vn.\u0275cmp=C.Gb({type:Vn,selectors:[["sd-statistic-document"]],features:[C.yb([_t.a])],decls:37,vars:38,consts:[[1,"total-document-count-container"],[4,"ngFor","ngForOf"],["class","container",3,"click",4,"ngFor","ngForOf"],[3,"isLoading"],[3,"ngClass"],[3,"data","checkEnable","trackByFn","displayedColumns","accordionContentTemplate","emptyEl","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"deleted",4,"eTableCell","eTableCellFor"],[3,"last","sideButtonCount","page","prevLabel","nextLabel","pageChange"],["tableAccordionContentTemplate",""],["emptyTableEl",""],["emptyStatisticEl",""],[1,"container",3,"click"],[1,"table"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["statisticEl",""],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"docName"],[1,"count"],[1,"papycon",3,"ngClass","click"],[3,"chartStyle","chartDataSets","chartLabels","chartResponsive","chartMaintainAspectRatio","chartElements","chartLegend","chartScales","chartTooltips","chartColor","chartType","legendDate","dateTypeChange","customDateChange"],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-non-progress"],[1,"message"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"article"),C.Sb(4,"div",0),C.Sb(5,"header"),C.Sb(6,"label"),C.Fc(7),C.ec(8,"translate"),C.Rb(),C.Rb(),C.Sb(9,"ul"),C.Dc(10,kn,6,4,"li",1),C.Rb(),C.Rb(),C.Dc(11,Tn,10,8,"div",2),C.Rb(),C.Sb(12,"sd-card",3),C.Sb(13,"header"),C.Nb(14,"i",4),C.Sb(15,"label"),C.Fc(16),C.ec(17,"translate"),C.ec(18,"translate"),C.Rb(),C.Rb(),C.Sb(19,"e-table",5),C.Zb("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(20,In,2,1,"div",6),C.Dc(21,Rn,2,1,"div",6),C.Dc(22,Nn,4,6,"div",6),C.Dc(23,An,3,4,"div",6),C.Dc(24,zn,2,3,"div",7),C.Dc(25,Ln,2,3,"div",7),C.Dc(26,Fn,2,1,"div",6),C.Rb(),C.Sb(27,"footer"),C.Sb(28,"sd-pagination",8),C.Zb("pageChange",(function(t){return e.table.setPageCurrentIndex(t-1),e.getTemplates(e.dynamicColumnName(e.selectedStatistic.type))})),C.ec(29,"translate"),C.ec(30,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(31,Gn,1,12,"ng-template",null,9,C.Ec),C.Dc(33,Un,5,1,"ng-template",null,10,C.Ec),C.Dc(35,jn,5,1,"ng-template",null,11,C.Ec)),2&t){var n=C.tc(32),i=C.tc(34);C.zb(1),C.Gc(C.fc(2,26,"STATISTIC_BY_DOCUMENT")),C.zb(6),C.Gc(C.fc(8,28,"ALL_DOCUMENTS_STATISTIC")),C.zb(3),C.jc("ngForOf",e.totalStatistic),C.zb(1),C.jc("ngForOf",e.statistic),C.zb(1),C.jc("isLoading",e.isLoading),C.zb(2),C.jc("ngClass",e.getTableHeaderIconClass(null==e.selectedStatistic?null:e.selectedStatistic.icon)),C.zb(2),C.Ic("",C.fc(17,30,null==e.selectedStatistic?null:e.selectedStatistic.label)," ",C.fc(18,32,"LIST"),""),C.zb(3),C.jc("data",e.table.getData())("checkEnable",!1)("trackByFn",e.trackByFn)("displayedColumns",e.displayedColumns)("accordionContentTemplate",n)("emptyEl",i),C.zb(1),C.jc("eTableCellFor","status"),C.zb(1),C.jc("eTableCellFor","docName"),C.zb(1),C.jc("eTableCellFor","data"),C.zb(1),C.jc("eTableCellFor","createdAt"),C.zb(1),C.jc("eTableCellFor","size"),C.zb(1),C.jc("eTableCellFor","expiredAt"),C.zb(1),C.jc("eTableCellFor","icon"),C.zb(2),C.jc("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("page",e.table.getPageInfo().currentIndex+1)("prevLabel",C.fc(29,34,"PREVIOUS"))("nextLabel",C.fc(30,36,"NEXT"))}},styles:["[_nghost-%COMP%]{min-width:1120px}article[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:206px;margin-bottom:20px}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{min-width:280px;-webkit-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0;border:1px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:hover{cursor:pointer;border-radius:4px;border:1px solid #f79f1a;background-color:#fff8ed}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#f79f1a}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   span.docName[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex:1 1 173px;flex:1 1 173px}article[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{margin-left:15px;text-align:right;-webkit-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}sd-card[_ngcontent-%COMP%]{padding:30px}header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}header[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{font-size:19px;margin-right:6px}label[_ngcontent-%COMP%]{font-family:NotoSans-Medium;display:inline-block;font-size:14px;height:14px;line-height:14px;letter-spacing:-.5px;color:#1e1e1e}.container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:30px;border-radius:4px}.container[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:14px}.container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-top:12px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NotoSans-Regular;font-size:14px;display:inline-block;height:14px;line-height:14px;letter-spacing:-.5px;color:#1e1e1e}.container[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{color:#6c6c6c}.total-document-count-container[_ngcontent-%COMP%]{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 228px;flex:0 0 228px;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:30px 16px;border-radius:4px;margin-right:10px}.total-document-count-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NotoSans-Bold;font-size:30px;font-weight:700;line-height:20px;letter-spacing:-.75px;color:#1e1e1e}.total-document-count-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:inline-block;margin-bottom:22px}.total-document-count-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#1e1e1e;font-size:14px;line-height:24px;margin:0;padding:0}.total-document-count-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0 0 4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.total-document-count-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.total-document-count-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-size:14px;line-height:24px;color:#ff6100}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;overflow:visible}e-table[_ngcontent-%COMP%]     div.table tr.tbody-row{min-height:40px;padding:0 0 0 18px}e-table[_ngcontent-%COMP%]     .column{padding:8px 0}e-table[_ngcontent-%COMP%]     .docName{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px;display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden;margin-right:20px}e-table[_ngcontent-%COMP%]     .docName>div{width:100%}e-table[_ngcontent-%COMP%]     .data{-webkit-box-flex:0;-ms-flex:0 1 125px;flex:0 1 125px;font-size:14px}e-table[_ngcontent-%COMP%]     .createdAt{-webkit-box-flex:0;-ms-flex:0 1 140px;flex:0 1 140px;font-size:14px}e-table[_ngcontent-%COMP%]     .status{-webkit-box-flex:0;-ms-flex:0 1 65px;flex:0 1 65px;font-size:14px}e-table[_ngcontent-%COMP%]     .size{-webkit-box-flex:0;-ms-flex:0 1 86px;flex:0 1 86px;font-size:14px}e-table[_ngcontent-%COMP%]     .size .deleted{padding-left:10px}e-table[_ngcontent-%COMP%]     .icon{-webkit-box-flex:0;-ms-flex:0 1 40px;flex:0 1 40px;height:100%}e-table[_ngcontent-%COMP%]     .icon>div{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}e-table[_ngcontent-%COMP%]     td.icon{cursor:pointer}e-table[_ngcontent-%COMP%]     td.icon .papycon-analytics{font-size:28px;color:#6c6c6c}e-table[_ngcontent-%COMP%]     td.icon .papycon-cross{font-size:18px;color:#f79f1a}e-table[_ngcontent-%COMP%]     .expiredAt{-webkit-box-flex:0;-ms-flex:0 1 170px;flex:0 1 170px;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px}e-table[_ngcontent-%COMP%]     .expiredAt .deleted{padding-left:10px}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}sd-statistic-card[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}sd-statistic-card[_ngcontent-%COMP%]  sd-card{margin:0}sd-statistic-card[_ngcontent-%COMP%]  sd-card   article{margin:16px 0 0 20px}sd-statistic-card[_ngcontent-%COMP%]  sd-card   sd-chart{max-height:332px;margin:14px 16px 10px 20px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{width:130px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:34px}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{font-size:29px;color:#6c6c6c}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-family:NotoSans-Regular;font-size:14px;letter-spacing:-.5px;color:#6c6c6c}"],changeDetection:0}),Vn),Yn=((Hn=function(){function t(e,n,i,o){var a=this;u(this,t),this.changeDetectorRef=e,this.subs=n,this.statisticDataService=i,this.translatePipe=o,this.chartStyle={height:"300px"},this.chartDataSets=[{data:[],label:""},{data:[],label:""},{data:[],label:""}],this.chartLabels=[],this.chartResponsive=!0,this.chartMaintainAspectRatio=!1,this.chartElements={line:{tension:0,fill:!1}},this.chartLegend={display:!1},this.chartScales={xAxes:[{ticks:{callback:function(t,e,n){var i=c(t.split(" "),3),o=i[0],r=i[1],s=i[2],l=0===e||e===n.length-1;return a.chartStatus.dateType===Q.j.YEAR?"".concat(l?o:""," ").concat(r):"".concat(l?r:""," ").concat(s)}}}],yAxes:[{ticks:{min:0,stepSize:20}}]},this.chartTooltips={mode:"index",intersect:!1,xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:function(t,e){var n=a.translatePipe.transform("NUMBER_OF_CASES");return _e(t,e,n)},labelColor:function(t){return{backgroundColor:a.chartDataSets[t.datasetIndex].borderColor}},title:function(){return null}}},this.chartColor=[{borderColor:"#ff6600",backgroundColor:"#ffffff"},{borderColor:"#f79f1a",backgroundColor:"#ffffff"},{borderColor:"#0C7489",backgroundColor:"#ffffff"}],this.chartType="line",this.chartStatus={dateType:Q.j.WEEK,startDate:new Date}}return g(t,[{key:"ngOnInit",value:function(){this.changeDateType(Q.j.WEEK),this.changeDateType(Q.j.WEEK),this.initFields()}},{key:"changeDateType",value:function(t){this.chartStatus.dateType=t,this.dateInfo=Object(Q.I)(t,this.chartStatus.startDate,this.chartStatus.endDate),this.getChart(t,this.dateInfo.startDate,this.dateInfo.endDate)}},{key:"changeDate",value:function(t){this.chartStatus.startDate=t.startDate,this.chartStatus.endDate=t.endDate,this.changeDateType(Q.j.CUSTOM)}},{key:"downloadExcel",value:function(){this.subs.push(this.statisticDataService.saveAllDateStatistic(this.chartStatus.startDate.getFullYear(),this.chartStatus.startDate.getFullYear(),this.chartStatus.startDate.getMonth()+1,this.chartStatus.startDate.getFullYear(),this.chartStatus.startDate.getMonth()+1,this.chartStatus.startDate.getDate()).subscribe({next:function(t){Logger.warn("Not implemented")}}))}},{key:"getChart",value:function(t,e,n){var i,o=this;this.chartLabels=[],i=t!==Q.j.YEAR?le.DAILY:le.MONTHLY,this.subs.push(this.statisticDataService.getTimezoneStatistic({startDate:e.getTime(),endDate:n.getTime(),periodUnit:i,isAccumulated:!1}).subscribe({next:function(t){o.initLineChartData(),o.initChartDate(),t.forEach((function(t){var e="".concat(o.makeTwoDigits(t.year)).concat(o.translatePipe.transform("YEAR")),n="".concat(o.makeTwoDigits(t.month)).concat(o.translatePipe.transform("MONTH")),i="".concat(o.makeTwoDigits(t.date)).concat(o.translatePipe.transform("DAYS"));o.chartLabels.push("".concat(e," ").concat(n," ").concat(i)),o.chartDataSets[0].data.push(parseInt(t.openCount)),o.chartDataSets[1].data.push(parseInt(t.downCount)),o.chartDataSets[2].data.push(parseInt(t.printCount))})),o.changeDetectorRef.markForCheck()}}))}},{key:"initChartDate",value:function(){this.chartStatus.startDate=new Date,this.chartStatus.endDate=new Date}},{key:"makeTwoDigits",value:function(t){return("0"+t).slice(-2)}},{key:"initLineChartData",value:function(){this.chartLabels=[],this.chartDataSets[0].data=[],this.chartDataSets[1].data=[],this.chartDataSets[2].data=[]}},{key:"initFields",value:function(){this.chartDataSets[0].label=this.translatePipe.transform("OPEN_COUNT_COLUMN"),this.chartDataSets[1].label=this.translatePipe.transform("DOWN_COUNT_COLUMN"),this.chartDataSets[2].label=this.translatePipe.transform("PRINT_COUNT_COLUMN"),this.changeDetectorRef.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Hn)(C.Mb(C.h),C.Mb(f.G),C.Mb(be),C.Mb(U.d))},Hn.\u0275cmp=C.Gb({type:Hn,selectors:[["sd-statistic"]],decls:5,vars:19,consts:[[3,"title","chartStyle","chartDataSets","chartLabels","chartResponsive","chartMaintainAspectRatio","chartElements","chartLegend","chartScales","chartTooltips","chartColor","chartType","legendDate","height","dateTypeChange","customDateChange","downloadClick"]],template:function(t,e){1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-statistic-card",0),C.Zb("dateTypeChange",(function(t){return e.changeDateType(t)}))("customDateChange",(function(t){return e.changeDate(t)}))("downloadClick",(function(){return e.downloadExcel()})),C.ec(4,"translate"),C.Rb()),2&t&&(C.zb(1),C.Gc(C.fc(2,15,"HISTORICAL_STATISTIC")),C.zb(2),C.jc("title",C.fc(4,17,"HISTORICAL_STATISTIC"))("chartStyle",e.chartStyle)("chartDataSets",e.chartDataSets)("chartLabels",e.chartLabels)("chartResponsive",e.chartResponsive)("chartMaintainAspectRatio",e.chartMaintainAspectRatio)("chartElements",e.chartElements)("chartLegend",e.chartLegend)("chartScales",e.chartScales)("chartTooltips",e.chartTooltips)("chartColor",e.chartColor)("chartType",e.chartType)("legendDate",e.dateInfo)("height",300))},styles:["[_nghost-%COMP%]{min-width:1120px}"],changeDetection:0}),Hn),Kn=l("Kj3r"),$n=function(t){return t.ALL="ALL",t.UPLOAD="UPLOAD",t.DELETE="DELETE",t.OPEN="OPEN",t.DOWNLOAD="DOWNLOAD",t.PRINT="PRINT",t}({}),Zn=((Bn=function(){function t(e,n){u(this,t),this.baseHref=e,this.httpClient=n,this.gzipHeaders=new p.e({"Content-Encoding":"gzip","Accept-Language":"utf-8"})}return g(t,[{key:"getLogList",value:function(t){return this.httpClient.get(""+this.logUrl,{headers:this.gzipHeaders,params:this.makeHttpParams(t)}).pipe(It.a((function(t){t.resources.map((function(t){t.id=t.name}))})))}},{key:"deleteLogs",value:function(t){return this.httpClient.post(this.logUrl+"/delete",t)}},{key:"getTemplateHistories",value:function(t){return this.httpClient.get(this.baseHref+"v4/statistic/documents/histories",{headers:this.gzipHeaders,params:this.makeHttpParams(t)}).pipe(It.a((function(t){t.resources.map((function(t){t.size=parseInt(t.size)}))})))}},{key:"makeHttpParams",value:function(t){var e=new p.f;return Object.keys(t).filter((function(e){return void 0!==t[e]})).forEach((function(n){Array.isArray(t[n])?t[n].forEach((function(t){e=e.append(n,t)})):e=e.set(n,String(t[n]))})),e}},{key:"logUrl",get:function(){return this.baseHref+"v4/logs"}}]),t}()).\u0275fac=function(t){return new(t||Bn)(C.Wb(d.a),C.Wb(p.b))},Bn.\u0275prov=C.Ib({token:Bn,factory:Bn.\u0275fac}),Bn);function qn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.docName)}}function Jn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.userName||"(unknown)")}}function Qn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"action"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.fc(2,1,n.action))}}function Xn(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"date"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.gc(2,1,n.createdAt,"yyyy-MM-dd HH:mm:ss"))}}function ti(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"bytes"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.fc(2,1,n.size))}}function ei(t,e){1&t&&(C.Sb(0,"div",9),C.Sb(1,"div",10),C.Nb(2,"span",11),C.Sb(3,"p",12),C.Fc(4),C.ec(5,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(4),C.Gc(C.fc(5,1,"NO_DOCUMENT_LOG")))}var ni,ii=((ni=function(){function t(e,n,i,o){u(this,t),this.changeDetectorRef=e,this.logDataService=n,this.subs=i,this.translatePipe=o,this.isLoading=!0,this.displayedColumns=[{key:"docName",title:this.translatePipe.transform("DOCUMENT_NAME"),sortable:!0},{key:"userName",title:this.translatePipe.transform("USER"),sortable:!0},{key:"action",title:this.translatePipe.transform("ACTION"),sortable:!0},{key:"createdAt",title:this.translatePipe.transform("DATE"),sortable:!0},{key:"size",title:this.translatePipe.transform("FILE_SIZE"),sortable:!1}],this.table=new Y.a,this.actionFilterValues=[$n.UPLOAD,$n.DELETE],this.filterMenus=[{label:"",type:"date",item:Object.values(_).filter((function(t){return t!==_.CUSTOM})).map((function(t){return{label:t,value:t}})),isMulti:!1},{label:"",type:"custom-date",item:[{label:"",value:_.CUSTOM}],isMulti:!1},{isMulti:!0,item:Object.values($n).map((function(t){return"UPLOAD"===t?{label:"ADD",value:t}:{label:t,value:t}})),label:this.translatePipe.transform("ACTION"),type:"action",defaultValues:[$n.UPLOAD,$n.DELETE]}],this.orderedBy="createdAt",this.asc=!1}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.initFields(),this.subs.push(this.table.filterChanges.pipe(Kn.a(0)).subscribe({next:function(){var e,n;t.table.reset(),t.actionFilterValues=null===(n=null===(e=t.table.filterGroup.get("filter").value)||void 0===e?void 0:e.action)||void 0===n?void 0:n.value,t.getHistories(t.table.getKeyword(),t.table.getPeriodValue(),t.orderedBy,t.asc,t.actionFilterValues)}}),this.table.filterGroup.get("keyword").valueChanges.pipe(Z.a((function(t){return!t}))).subscribe({next:function(){t.searchKeyword()}})),this.getHistories(this.table.getKeyword(),this.table.getPeriodValue(),this.orderedBy,this.asc)}},{key:"searchKeyword",value:function(){this.table.reset(),this.getHistories(this.table.getKeyword(),this.table.getPeriodValue(),this.orderedBy,this.asc)}},{key:"getHistories",value:function(t,e,n,i,o){var a=this;this.isLoading=!0,this.subs.push(this.logDataService.getTemplateHistories({pageIndex:this.table.getPageInfo().currentIndex,listingCount:15,search:t,from:e?Object(Q.H)(e.startDate):void 0,to:e?Object(Q.H)(e.endDate):void 0,orderBy:n,ascending:i,actions:o}).pipe(q.a((function(){return a.table.isLoading=!1}))).subscribe({next:function(t){a.isLoading=!1,a.table.setData(t.resources),a.table.setPageInfo(t.pageInfo.totalCount,"15"),a.changeDetectorRef.markForCheck()}}))}},{key:"sortingChanges",value:function(t){this.orderedBy=0===t.value?"createdAt":t.name,this.asc=0!==t.value&&1===t.value,this.getHistories(this.table.getKeyword(),this.table.getPeriodValue(),this.orderedBy,this.asc)}},{key:"onPageChanging",value:function(t){this.table.getPageInfo().currentIndex=t-1,this.getHistories(this.table.getKeyword(),this.table.getPeriodValue(),this.orderedBy,this.asc)}},{key:"initFields",value:function(){this.filterMenus[0].label=this.translatePipe.transform("PERIOD"),this.filterMenus[1].label=this.translatePipe.transform("MANUAL_INPUT"),this.filterMenus[1].item[0].label=this.translatePipe.transform("MANUAL_SELECT"),this.changeDetectorRef.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||ni)(C.Mb(C.h),C.Mb(Zn),C.Mb(f.G),C.Mb(U.d))},ni.\u0275cmp=C.Gb({type:ni,selectors:[["sd-document-history"]],features:[C.yb([f.G])],decls:21,vars:28,consts:[[3,"isLoading"],[1,"form-list-header"],[1,"tool",3,"formGroup"],["formControlName","filter",1,"small",3,"datePickerDirection","filterMenus"],["size","small","useClearButton","true","formControlName","keyword",1,"custom",3,"placeholder","keydown.enter","focusout"],[3,"data","checkEnable","displayedColumns","emptyEl","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"page","last","sideButtonCount","prevLabel","nextLabel","pageChange"],["emptyEl",""],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-preview"],[1,"title"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card",0),C.Sb(4,"header",1),C.Sb(5,"div",2),C.Nb(6,"sd-filter-pop-up",3),C.Sb(7,"pu-input",4),C.Zb("keydown.enter",(function(){return e.searchKeyword()}))("focusout",(function(){return e.searchKeyword()})),C.ec(8,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Sb(9,"e-table",5),C.Zb("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(10,qn,2,1,"div",6),C.Dc(11,Jn,2,1,"div",6),C.Dc(12,Qn,3,3,"div",6),C.Dc(13,Xn,3,4,"div",6),C.Dc(14,ti,3,3,"div",6),C.Rb(),C.Sb(15,"footer"),C.Sb(16,"sd-pagination",7),C.Zb("pageChange",(function(t){return e.onPageChanging(t)})),C.ec(17,"translate"),C.ec(18,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(19,ei,6,3,"ng-template",null,8,C.Ec)),2&t){var n=C.tc(20);C.zb(1),C.Gc(C.fc(2,20,"DOCUMENT_HISTORY")),C.zb(2),C.jc("isLoading",e.isLoading),C.zb(2),C.jc("formGroup",e.table.filterGroup),C.zb(1),C.jc("datePickerDirection","right")("filterMenus",e.filterMenus),C.zb(1),C.jc("placeholder",C.fc(8,22,"DOCUMENT_LOG_KEYWORD_PLACEHOLDER")),C.zb(2),C.jc("data",e.table.getData())("checkEnable",!1)("displayedColumns",e.displayedColumns)("emptyEl",n),C.zb(1),C.jc("eTableCellFor","docName"),C.zb(1),C.jc("eTableCellFor","userName"),C.zb(1),C.jc("eTableCellFor","action"),C.zb(1),C.jc("eTableCellFor","createdAt"),C.zb(1),C.jc("eTableCellFor","size"),C.zb(2),C.jc("page",e.table.getPageInfo().currentIndex+1)("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("prevLabel",C.fc(17,24,"PREVIOUS"))("nextLabel",C.fc(18,26,"NEXT"))}},styles:[".table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .thead[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;min-height:44px;border-bottom:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]{margin:0;padding:0}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{height:40px;background:#fff;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover, .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,85.5%,.1)}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%]{border-color:#f79f1a;background-color:rgba(255,248,237,.9)}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#6c6c6c}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%]{margin:0 auto 12px;font-size:40px;line-height:40px;width:40px}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon), .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon){font-size:16px;line-height:26px;color:#1e1e1e}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%]{height:2px;width:170px;margin:11px auto;background:linear-gradient(90deg,#979797,#979797 4px,transparent 0,transparent 6px) 0/6px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;flex-direction:column}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{flex-direction:column;width:170px;height:160px}.empty[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{color:#6c6c6c;font-size:22px;margin:0 auto 12px}.empty[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:NotoSans-Regular}.empty[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:14px;font-weight:400;text-align:center;font-family:NotoSans-Regular;padding-top:12px}.empty[_ngcontent-%COMP%]   .dashed[_ngcontent-%COMP%]{width:170px;height:2px;border-bottom:2px dashed #979797}.notifier[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}[_nghost-%COMP%]:not(.loading){position:relative;width:100%;min-width:1120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;font-family:NotoSans-Regular,sans-serif}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]{background:#f2f2f2}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{color:#6c6c6c}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{margin-top:14px;display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}sd-card[_ngcontent-%COMP%]{padding:30px 24px 37px}.form-list-header[_ngcontent-%COMP%], .form-list-header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.form-list-header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{width:400px}.form-list-header[_ngcontent-%COMP%]   sd-filter-pop-up[_ngcontent-%COMP%]{margin-right:12px}.form-list-header[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{width:307px}.form-list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;line-height:20px;font-family:NotoSans-Medium,sans-serif;color:#6c6c6c;border-radius:12px;border:1.2px solid #c8c8c8;padding:3px 12px;margin-left:8px}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;overflow:auto}e-table[_ngcontent-%COMP%]     .column{padding:8px 0}e-table[_ngcontent-%COMP%]     .SDID{-webkit-box-flex:0;-ms-flex:0 1 114px;flex:0 1 114px;font-size:14px}e-table[_ngcontent-%COMP%]     .docName{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:14px}e-table[_ngcontent-%COMP%]     .action, e-table[_ngcontent-%COMP%]     .createdAt, e-table[_ngcontent-%COMP%]     .size, e-table[_ngcontent-%COMP%]     .userName{-webkit-box-flex:0;-ms-flex:0 1 15%;flex:0 1 15%;font-size:14px}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}span.primary[_ngcontent-%COMP%]{color:#ff6100;text-decoration:underline}"],changeDetection:0}),ni);function oi(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(n.name)}}function ai(t,e){if(1&t&&(C.Sb(0,"div"),C.Fc(1),C.ec(2,"bytes"),C.Rb()),2&t){var n=e.$implicit;C.zb(1),C.Gc(C.fc(2,1,n.size))}}function ri(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div"),C.Sb(1,"button",12),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().download(t)})),C.Nb(2,"i",13),C.Fc(3),C.ec(4,"translate"),C.Rb(),C.Rb()}2&t&&(C.zb(3),C.Gc(C.fc(4,1,"DOWNLOAD")))}function ci(t,e){1&t&&(C.Sb(0,"div",14),C.Sb(1,"div",15),C.Nb(2,"span",16),C.Sb(3,"p",17),C.Fc(4),C.ec(5,"translate"),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(4),C.Gc(C.fc(5,1,"NO_LOG")))}var si,li,di,ui=((si=function(){function t(e,n,i,o,a,r,c,s,l){u(this,t),this.changeDetectorRef=e,this.formBuilder=n,this.subs=i,this.logDataService=o,this.toastService=a,this.translatePipe=r,this.elementRef=c,this.renderer=s,this.adminDialogService=l,this.isLoading=!0,this.displayedColumns=[{key:"name",title:this.translatePipe.transform("LOG_NAME"),sortable:!1},{key:"size",title:this.translatePipe.transform("FILE_SIZE"),sortable:!1},{key:"download",title:"",sortable:!1}],this.formGroup=this.formBuilder.group({checkedIds:null}),this.filterMenus=[{label:"",type:"date",item:Object.values(_).filter((function(t){return t!==_.CUSTOM})).map((function(t){return{label:t,value:t}})),isMulti:!1},{label:this.translatePipe.transform("MANUAL_SELECT"),type:"custom-date",item:[{label:"",value:_.CUSTOM}],isMulti:!1}],this.table=new Y.a}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc),this.initFields(),this.subs.push(this.table.filterChanges.subscribe({next:function(){t.table.reset(),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)}}),this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.DELETE_ITEMS}))).subscribe({next:function(){var e={logNames:[]};t.formGroup.controls.checkedIds.value.map((function(t){e.logNames.push({name:t})})),t.subs.set("deleteLogs",t.logDataService.deleteLogs(e).subscribe({next:function(){t.toastService.showToast({icon:"success",text:t.translatePipe.transform("SUCCESS_DELETE")}),t.getTemplates(t.table.getKeyword(),t.table.getPeriodValue(),t.orderBy,t.asc)}})),t.adminDialogService.closeCurrentActiveDialog()}}))}},{key:"download",value:function(t){var e="v4/logs/download?name=".concat(t.name,"&accessToken=").concat(Q.o.token.accessToken),n=this.elementRef.nativeElement,i=this.renderer.createElement("a");this.toastService.showToast({icon:"download",text:this.translatePipe.transform("DOWNLOADING_LOG_FILE")}),this.renderer.appendChild(n,i),i.href=e,i.click(),this.renderer.removeChild(n,i),i.remove&&i.remove()}},{key:"checkedStatusChange",value:function(t){this.formGroup.controls.checkedIds.setValue(t)}},{key:"onDeleteButtonClick",value:function(){var t=this;this.adminDialogService.toggleDialogVisibility(m.c.DELETE_ITEMS,!0,{description:"",size:{width:336,height:280},data:this.formGroup.controls.checkedIds.value.map((function(e){return t.table.getData().find((function(t){return t.id===e}))})),caller:m.d.LOG})}},{key:"getTemplates",value:function(t,e,n,i){var o=this;this.formGroup.reset(),this.isLoading=!0,this.logDataService.getLogList({pageIndex:this.table.getPageInfo().currentIndex,listingCount:15,search:t,startDate:e?Object(Q.H)(e.startDate):void 0,endDate:e?Object(Q.H)(e.endDate):void 0,orderBy:n,ascending:i}).subscribe({next:function(t){o.isLoading=!1,o.table.setPageInfo(t.pageInfo.totalCount,t.pageInfo.listingCount),o.table.setData(t.resources),o.changeDetectorRef.markForCheck()}})}},{key:"sortingChanges",value:function(t){this.orderBy=0===t.value?void 0:t.name,this.asc=0===t.value?void 0:1===t.value,this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"onPageChanging",value:function(t){this.table.setPageCurrentIndex(t-1),this.getTemplates(this.table.getKeyword(),this.table.getPeriodValue(),this.orderBy,this.asc)}},{key:"initFields",value:function(){this.filterMenus[0].label=this.translatePipe.transform("PERIOD"),this.filterMenus[1].label=this.translatePipe.transform("MANUAL_SELECT"),this.filterMenus[1].item[0].label=this.translatePipe.transform("MANUAL_SELECT"),this.changeDetectorRef.markForCheck()}},{key:"currentPageIndex",get:function(){return this.table.getPageInfo().currentIndex}}]),t}()).\u0275fac=function(t){return new(t||si)(C.Mb(C.h),C.Mb(h.g),C.Mb(f.G),C.Mb(Zn),C.Mb(tt.c),C.Mb(U.d),C.Mb(C.l),C.Mb(C.E),C.Mb(m.b))},si.\u0275cmp=C.Gb({type:si,selectors:[["sd-document-list"]],features:[C.yb([f.G])],decls:23,vars:28,consts:[[3,"isLoading"],[1,"form-list-header",3,"formGroup"],[1,"tools"],["size","small","color","grey",1,"ep-button",3,"disabled","click"],[1,"papycon","papycon-minus2"],["formControlName","filter",1,"small",3,"filterMenus","datePickerDirection"],[1,"right-side"],[3,"formGroup"],[3,"data","displayedColumns","currentPageIndex","emptyEl","checkedStatusChange","sortingChange"],[4,"eTableCell","eTableCellFor"],[3,"last","sideButtonCount","page","prevLabel","nextLabel","pageChange"],["emptyEl",""],["size","tiny","color","white",1,"ep-button",3,"click"],[1,"papycon","papycon-download"],[1,"empty"],[1,"notifier"],[1,"papycon","papycon-formtools"],[1,"title"]],template:function(t,e){if(1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card",0),C.Sb(4,"header",1),C.Sb(5,"div",2),C.Sb(6,"button",3),C.Zb("click",(function(){return e.onDeleteButtonClick()})),C.Nb(7,"i",4),C.Fc(8),C.ec(9,"translate"),C.Rb(),C.Nb(10,"sd-filter-pop-up",5),C.Rb(),C.Nb(11,"div",6),C.Rb(),C.Qb(12,7),C.Sb(13,"e-table",8),C.Zb("checkedStatusChange",(function(t){return e.checkedStatusChange(t)}))("sortingChange",(function(t){return e.sortingChanges(t)})),C.Dc(14,oi,2,1,"div",9),C.Dc(15,ai,3,3,"div",9),C.Dc(16,ri,5,3,"div",9),C.Rb(),C.Pb(),C.Sb(17,"footer"),C.Sb(18,"sd-pagination",10),C.Zb("pageChange",(function(t){return e.onPageChanging(t)})),C.ec(19,"translate"),C.ec(20,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Dc(21,ci,6,3,"ng-template",null,11,C.Ec)),2&t){var n=C.tc(22);C.zb(1),C.Gc(C.fc(2,20,"LOG_MANAGEMENT")),C.zb(2),C.jc("isLoading",e.isLoading),C.zb(1),C.jc("formGroup",e.table.filterGroup),C.zb(2),C.jc("disabled",!(null!=e.formGroup.controls.checkedIds.value&&e.formGroup.controls.checkedIds.value.length)),C.zb(2),C.Gc(C.fc(9,22,"DELETE")),C.zb(2),C.jc("filterMenus",e.filterMenus)("datePickerDirection","right"),C.zb(2),C.jc("formGroup",e.formGroup),C.zb(1),C.jc("data",e.table.getData())("displayedColumns",e.displayedColumns)("currentPageIndex",e.currentPageIndex)("emptyEl",n),C.zb(1),C.jc("eTableCellFor","name"),C.zb(1),C.jc("eTableCellFor","size"),C.zb(1),C.jc("eTableCellFor","download"),C.zb(2),C.jc("last",e.table.getPageInfo().allPageCount)("sideButtonCount",1)("page",e.table.getPageInfo().currentIndex+1)("prevLabel",C.fc(19,24,"PREVIOUS"))("nextLabel",C.fc(20,26,"NEXT"))}},styles:[".split[_ngcontent-%COMP%]{width:1px;height:20px;background:#c8c8c8}span.basic[_ngcontent-%COMP%]{background-color:#035668}span.basic[_ngcontent-%COMP%], span.premium[_ngcontent-%COMP%]{border-radius:4px;padding:2px 16px;color:#fff}span.premium[_ngcontent-%COMP%]{background-color:#0cbc82}span.undefined[_ngcontent-%COMP%]{border-radius:4px;background-color:#6c6c6c;padding:2px 16px;color:#fff}sd-loading-toast[_ngcontent-%COMP%]{position:unset;top:0;left:0}header.dialog[_ngcontent-%COMP%]{margin:40px 0 0;font-size:16px;line-height:26px;font-family:NotoSans-Medium,sans-serif;color:#1e1e1e}header.dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-weight:400;margin:0}h1.regular[_ngcontent-%COMP%], h2.regular[_ngcontent-%COMP%], h3.regular[_ngcontent-%COMP%], h4.regular[_ngcontent-%COMP%], h5.regular[_ngcontent-%COMP%]{font-family:inherit}h1.light[_ngcontent-%COMP%], h2.light[_ngcontent-%COMP%], h3.light[_ngcontent-%COMP%], h4.light[_ngcontent-%COMP%], h5.light[_ngcontent-%COMP%]{color:#6c6c6c}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}h1[_ngcontent-%COMP%]{font-size:20px;line-height:28px}h2[_ngcontent-%COMP%]{font-size:16px;line-height:26px}h3[_ngcontent-%COMP%]{font-size:14px;line-height:24px}h4[_ngcontent-%COMP%]{font-size:13px;line-height:22px}h5[_ngcontent-%COMP%]{font-size:12px;line-height:20px}.papycon[_ngcontent-%COMP%], pu-icon[_ngcontent-%COMP%]{text-align:center}.papycon.bt[_ngcontent-%COMP%], pu-icon.bt[_ngcontent-%COMP%]{cursor:pointer}.dialog__header[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%], .dialog__header[_ngcontent-%COMP%]   pu-icon[_ngcontent-%COMP%]{-ms-flex-item-align:start;align-self:flex-start}textarea[_ngcontent-%COMP%]{font-size:13px;line-height:22px;font-family:NotoSans-Regular,sans-serif;border:1px solid #dadada;border-radius:2px;height:62px;resize:none;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px}textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f79f1a}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::-ms-input-placeholder{color:#6c6c6c;opacity:.7}textarea[_ngcontent-%COMP%]::placeholder{color:#6c6c6c;opacity:.7}textarea.fit[_ngcontent-%COMP%]{width:100%}pu-checkbox.custom[_ngcontent-%COMP%]{line-height:1!important;padding:3px 10px}pu-checkbox.box[_ngcontent-%COMP%]{font-size:20px;border:1px solid #dadada;background-color:#fff;border-radius:2px}pu-checkbox[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{vertical-align:initial}pu-toggle-button[_ngcontent-%COMP%]  input[type]{border:unset}.table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .thead[_ngcontent-%COMP%]{font-size:13px;line-height:22px;color:#6c6c6c;font-family:NotoSans-Medium,sans-serif;min-height:44px;border-bottom:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]{margin:0;padding:0}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{height:40px;background:#fff;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover, .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,85.5%,.1)}.table[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .tbody[_ngcontent-%COMP%]   .tr.selected[_ngcontent-%COMP%]{border-color:#f79f1a;background-color:rgba(255,248,237,.9)}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#6c6c6c}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head.papycon[_ngcontent-%COMP%]{margin:0 auto 12px;font-size:40px;line-height:40px;width:40px}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon), .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:not(.papycon){font-size:16px;line-height:26px;color:#1e1e1e}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif}.table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%], .table[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]   .dashed-hr[_ngcontent-%COMP%]{height:2px;width:170px;margin:11px auto;background:linear-gradient(90deg,#979797,#979797 4px,transparent 0,transparent 6px) 0/6px}.empty[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;flex-direction:column}.empty[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.empty[_ngcontent-%COMP%]   .notifier[_ngcontent-%COMP%]{flex-direction:column;width:170px;height:160px}.empty[_ngcontent-%COMP%]   .papycon[_ngcontent-%COMP%]{color:#6c6c6c;font-size:22px;margin:0 auto 12px}.empty[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:NotoSans-Regular}.empty[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:14px;font-weight:400;text-align:center;font-family:NotoSans-Regular;padding-top:12px}.empty[_ngcontent-%COMP%]   .dashed[_ngcontent-%COMP%]{width:170px;height:2px;border-bottom:2px dashed #979797}.notifier[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}[_nghost-%COMP%]:not(.loading){position:relative;width:100%;min-width:1120px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;font-family:NotoSans-Regular,sans-serif}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]{background:#f2f2f2}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%]{color:#6c6c6c}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{margin-top:14px;display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:12px}[_nghost-%COMP%]:not(.loading) > header[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}sd-card[_ngcontent-%COMP%]{padding:30px 24px 37px}.form-list-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.form-list-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:18px}.form-list-header[_ngcontent-%COMP%]   sd-filter-pop-up[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{width:307px}.form-list-header[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   pu-input.custom[_ngcontent-%COMP%]{margin-left:12px}.form-list-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;line-height:20px;font-family:NotoSans-Medium,sans-serif;color:#6c6c6c;border-radius:12px;border:1.2px solid #c8c8c8;padding:3px 12px;margin-left:8px}e-table[_ngcontent-%COMP%]{margin-top:20px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;overflow:auto}e-table[_ngcontent-%COMP%]     .column, e-table[_ngcontent-%COMP%]     td{-webkit-box-flex:1;-ms-flex:1;flex:1}e-table[_ngcontent-%COMP%]     td.download{-webkit-box-flex:0;-ms-flex:0 1 97px;flex:0 1 97px;margin-right:15px}e-table[_ngcontent-%COMP%]     td.name, e-table[_ngcontent-%COMP%]     th.name{font-size:14px;display:-webkit-box;display:-ms-flexbox;display:flex;white-space:nowrap;overflow:hidden}e-table[_ngcontent-%COMP%]     td.name>div, e-table[_ngcontent-%COMP%]     th.name>div{width:100%}e-table[_ngcontent-%COMP%]     .size{font-size:14px}e-table[_ngcontent-%COMP%]     .download{-webkit-box-flex:0;-ms-flex:0 1 97px;flex:0 1 97px;margin-right:15px}e-table[_ngcontent-%COMP%]     .download button i{margin-right:6px}footer[_ngcontent-%COMP%]{height:95px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}footer[_ngcontent-%COMP%]   sd-pagination[_ngcontent-%COMP%]{margin-top:38px}span.primary[_ngcontent-%COMP%]{color:#ff6100;text-decoration:underline}"],changeDetection:0}),si),pi=function(){function t(){u(this,t),this._usage=0,this._total=0}return g(t,[{key:"getUsagePercent",value:function(){return parseFloat((this.usage/this.total*100).toFixed(2))}},{key:"getUnusedPercent",value:function(){return parseFloat(((this.total-this.usage)/this.total*100).toFixed(2))}},{key:"usage",get:function(){return this._usage},set:function(t){this._usage=parseFloat(t.toFixed(2))}},{key:"total",get:function(){return this._total},set:function(t){this._total=parseFloat(t.toFixed(2))}}]),t}(),gi=((di=function(){function t(e,n,i,o,a){var r=this;u(this,t),this.subs=e,this.changeDetectorRef=n,this.statisticDataService=i,this.translatePipe=o,this.bytesPipe=a,this.cpuUsage=new pi,this.memoryUsage=new pi,this.storageUsage=new pi,this.cpuCore="-",this.chartResponsive=!1,this.chartLegend={display:!1},this.chartTooltips={xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:this.appendPercentageToTooltip}},this.chartType="pie",this.cpuChartLabels=[],this.cpuChartData=[0,0],this.memoryChartData=[0,0],this.memoryChartLabels=[],this.memoryChartColor=[{backgroundColor:["#FF6100","#DADADA"]}],this.memoryChartTooltips={xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:function(t,e){return r.appendDataToTooltip(t,e,r.memoryUsage)}}},this.storageChartLabels=[],this.storageChartData=[0,0],this.storageChartColor=[{backgroundColor:["#0C7489","#DADADA"]}],this.storageChartTooltips={xPadding:16,yPadding:14,bodySpacing:8,callbacks:{label:function(t,e){return r.appendDataToTooltip(t,e,r.storageUsage)}}}}return g(t,[{key:"ngOnInit",value:function(){this.initFields()}},{key:"ngAfterViewInit",value:function(){this.extractCapacityInfoList()}},{key:"extractCapacityInfoList",value:function(){var t=this;this.subs.set("fetchServerSummary",ae.a(5e3).pipe(ce.a(0)).subscribe({next:function(){t.statisticDataService.getServerSummaryList().subscribe({next:function(e){t.setCpuData(e),t.setMemoryData(e),t.setStorageData(e),t.changeDetectorRef.markForCheck()}})}}))}},{key:"setCpuData",value:function(t){this.cpuUsage.total=100,this.cpuUsage.usage=100*parseFloat(parseFloat(t.cpuUsage).toFixed(2)),this.cpuCore=t.cpuTotalCores,this.cpuChartData[0]=this.cpuUsage.usage,this.cpuChartData[1]=this.cpuUsage.total-this.cpuUsage.usage,this.charts.toArray()[0].update()}},{key:"setMemoryData",value:function(t){this.memoryUsage.total=parseFloat(parseFloat(t.memTotal).toFixed(2)),this.memoryUsage.usage=this.memoryUsage.total*parseFloat(t.memUsage),this.memoryChartData[0]=this.memoryUsage.getUsagePercent(),this.memoryChartData[1]=this.memoryUsage.getUnusedPercent(),this.charts.toArray()[1].update()}},{key:"setStorageData",value:function(t){this.storageUsage.total=1e3*parseFloat(t.diskTotal)*1e3*1e3,this.storageUsage.usage=this.storageUsage.total*parseFloat(t.diskUsage),this.storageChartData[0]=this.storageUsage.getUsagePercent(),this.storageChartData[1]=this.storageUsage.getUnusedPercent(),this.charts.toArray()[2].update()}},{key:"initFields",value:function(){this.cpuChartLabels=[this.translatePipe.transform("USAGE"),this.translatePipe.transform("NOT_USED")],this.memoryChartLabels=[this.translatePipe.transform("USAGE"),this.translatePipe.transform("NOT_USED")],this.storageChartLabels=[this.translatePipe.transform("USAGE"),this.translatePipe.transform("NOT_USED")],this.changeDetectorRef.markForCheck()}},{key:"appendPercentageToTooltip",value:function(t,e){return"".concat(e.labels[t.index],": ").concat(e.datasets[t.datasetIndex].data[t.index],"%")}},{key:"appendDataToTooltip",value:function(t,e,n){var i=e.labels[t.index],o=e.datasets[t.datasetIndex].data[t.index],a=n.usage,r=n.total-n.usage;return i===this.translatePipe.transform("NOT_USED")?"".concat(i,": ").concat(this.bytesPipe.transform(r)," (").concat(o,"%)"):"".concat(i,": ").concat(this.bytesPipe.transform(a)," (").concat(o,"%)")}}]),t}()).\u0275fac=function(t){return new(t||di)(C.Mb(f.G),C.Mb(C.h),C.Mb(be),C.Mb(U.d),C.Mb(_t.a))},di.\u0275cmp=C.Gb({type:di,selectors:[["sd-server-capacity"]],viewQuery:function(t,e){var n;1&t&&C.Lc(Me.a,!0),2&t&&C.sc(n=C.ac())&&(e.charts=n)},features:[C.yb([f.G,_t.a])],decls:59,vars:73,consts:[[1,"card-container"],[3,"title"],[3,"visibleBackground","data","labels","responsive","legend","type","tooltips"],[1,"data"],[1,"highlight"],[1,"split"],[3,"visibleBackground","data","labels","responsive","legend","type","color","tooltips"]],template:function(t,e){1&t&&(C.Sb(0,"div",0),C.Sb(1,"sd-card",1),C.ec(2,"translate"),C.Nb(3,"sd-chart",2),C.Sb(4,"article"),C.Sb(5,"div",3),C.Sb(6,"span",4),C.Fc(7),C.ec(8,"number"),C.Rb(),C.Sb(9,"p"),C.Fc(10),C.ec(11,"translate"),C.ec(12,"number"),C.Rb(),C.Rb(),C.Nb(13,"div",5),C.Sb(14,"div",3),C.Sb(15,"span"),C.Fc(16),C.Rb(),C.Sb(17,"p"),C.Fc(18),C.ec(19,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(20,"sd-card",1),C.ec(21,"translate"),C.Nb(22,"sd-chart",6),C.Sb(23,"article"),C.Sb(24,"div",3),C.Sb(25,"span",4),C.Fc(26),C.ec(27,"bytes"),C.Rb(),C.Sb(28,"p"),C.Fc(29),C.ec(30,"translate"),C.ec(31,"number"),C.Rb(),C.Rb(),C.Nb(32,"div",5),C.Sb(33,"div",3),C.Sb(34,"span"),C.Fc(35),C.ec(36,"bytes"),C.Rb(),C.Sb(37,"p"),C.Fc(38),C.ec(39,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Sb(40,"sd-card",1),C.ec(41,"translate"),C.Nb(42,"sd-chart",6),C.Sb(43,"article"),C.Sb(44,"div",3),C.Sb(45,"span",4),C.Fc(46),C.ec(47,"bytes"),C.Rb(),C.Sb(48,"p"),C.Fc(49),C.ec(50,"translate"),C.Rb(),C.Rb(),C.Nb(51,"div",5),C.Sb(52,"div",3),C.Sb(53,"span"),C.Fc(54),C.ec(55,"bytes"),C.Rb(),C.Sb(56,"p"),C.Fc(57),C.ec(58,"translate"),C.Rb(),C.Rb(),C.Rb(),C.Rb(),C.Rb()),2&t&&(C.zb(1),C.jc("title",C.fc(2,41,"CPU_USAGE")),C.zb(2),C.jc("visibleBackground",!0)("data",e.cpuChartData)("labels",e.cpuChartLabels)("responsive",e.chartResponsive)("legend",e.chartLegend)("type",e.chartType)("tooltips",e.chartTooltips),C.zb(4),C.Hc("",C.fc(8,43,e.cpuUsage.usage),"%"),C.zb(3),C.Ic("",C.fc(11,45,"USAGE")," : ",C.fc(12,47,e.cpuUsage.usage),"%"),C.zb(6),C.Hc("",e.cpuCore," Core"),C.zb(2),C.Gc(C.fc(19,49,"TOTAL_CORE")),C.zb(2),C.jc("title",C.fc(21,51,"MEMORY_USAGE")),C.zb(2),C.jc("visibleBackground",!0)("data",e.memoryChartData)("labels",e.memoryChartLabels)("responsive",e.chartResponsive)("legend",e.chartLegend)("type",e.chartType)("color",e.memoryChartColor)("tooltips",e.memoryChartTooltips),C.zb(4),C.Gc(C.fc(27,53,e.memoryUsage.usage)),C.zb(3),C.Ic("",C.fc(30,55,"USAGE")," : ",C.fc(31,57,e.memoryUsage.getUsagePercent()),"%"),C.zb(6),C.Gc(C.fc(36,59,e.memoryUsage.total)),C.zb(3),C.Gc(C.fc(39,61,"TOTAL_MEMORY")),C.zb(2),C.jc("title",C.fc(41,63,"STORAGE")),C.zb(2),C.jc("visibleBackground",!0)("data",e.storageChartData)("labels",e.storageChartLabels)("responsive",e.chartResponsive)("legend",e.chartLegend)("type",e.chartType)("color",e.storageChartColor)("tooltips",e.storageChartTooltips),C.zb(4),C.Gc(C.fc(47,65,e.storageUsage.usage)),C.zb(3),C.Ic("",C.fc(50,67,"USAGE")," : ",e.storageUsage.getUsagePercent(),"%"),C.zb(5),C.Gc(C.fc(55,69,e.storageUsage.total)),C.zb(3),C.Gc(C.fc(58,71,"TOTAL_DISK")))},styles:[".card-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:437px}sd-card[_ngcontent-%COMP%]   sd-chart[_ngcontent-%COMP%]{padding:30px 0}article[_ngcontent-%COMP%], sd-card[_ngcontent-%COMP%]   sd-chart[_ngcontent-%COMP%]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}article[_ngcontent-%COMP%], article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], sd-card[_ngcontent-%COMP%]   sd-chart[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;color:#6c6c6c;font-size:13px;line-height:normal;letter-spacing:-.5px;margin-top:6px}article[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:NotoSans-Bold,sans-serif;color:#6c6c6c;height:20px;font-size:20px;line-height:20px}article[_ngcontent-%COMP%]   span.highlight[_ngcontent-%COMP%]{color:#ff6100}.split[_ngcontent-%COMP%]{width:1px;height:20px;margin:0 35px;background-color:#c8c8c8}"],changeDetection:0}),di),bi=((li=function(){function t(e,n,i,o){var a=this;u(this,t),this.changeDetectorRef=e,this.subs=n,this.statisticDataService=i,this.translatePipe=o,this.chartDataSets=[{data:[],label:"",fill:"#ffffff"},{data:[],label:"",fill:"#ffffff"},{data:[],label:"",fill:"#ffffff"}],this.chartLabels=[],this.chartMaintainAspectRatio=!1,this.chartResponsive=!0,this.chartElements={line:{tension:0,fill:!1}},this.chartLegend={display:!1},this.chartScales={xAxes:[{ticks:{callback:function(t,e,n){var i=c(t.split(" "),3),o=i[0],r=i[1],s=i[2],l=0===e||e===n.length-1;return a.chartDateType===Q.j.YEAR?"".concat(l?o:""," ").concat(r):"".concat(l?r:""," ").concat(s)}}}],yAxes:[{ticks:{beginAtZero:!1,min:0,stepSize:20,callback:function(t){return 0===t?t+"\uac74":t}}}]},this.chartTooltips={mode:"index",intersect:!1,xPadding:16,yPadding:14,bodySpacing:8,callbacks:{labelColor:function(t){return{backgroundColor:a.chartColor[t.datasetIndex].borderColor}},title:function(){return null}}},this.chartColor=[{borderColor:"#f79f1a",backgroundColor:"#ffffff"},{borderColor:"#ff6600",backgroundColor:"#ffffff"},{borderColor:"#0C7489",backgroundColor:"#ffffff"}],this.chartType="line",this.chartDateType=Q.j.WEEK,this.chartDate={startDate:new Date,endDate:new Date}}return g(t,[{key:"ngOnInit",value:function(){this.changeDateType(this.chartDateType),this.initFields()}},{key:"changeDateType",value:function(t){var e;this.chartDateType=t,this.chartDateType===Q.j.CUSTOM&&(e=this.chartDate.endDate),this.dateInfo=Object(Q.I)(t,this.chartDate.startDate,e),this.getAccessorChart(t,this.dateInfo)}},{key:"changeDate",value:function(t){this.chartDate.startDate=t.startDate,this.chartDate.endDate=t.endDate,this.changeDateType(Q.j.CUSTOM)}},{key:"getAccessorChart",value:function(t,e){var n,i=this;n=t!==Q.j.YEAR?le.DAILY:le.MONTHLY,this.subs.push(this.statisticDataService.getSystemUsage(null==e?void 0:e.startDate.getTime(),null==e?void 0:e.endDate.getTime(),n).subscribe({next:function(t){i.initChartDate(),i.chartLabels=[],i.chartDataSets[0].data=[],i.chartDataSets[1].data=[],i.chartDataSets[2].data=[],t.forEach((function(t){var e="".concat(i.makeTwoDigits(t.year)).concat(i.translatePipe.transform("YEAR")),n="".concat(i.makeTwoDigits(t.month)).concat(i.translatePipe.transform("MONTH")),o="".concat(i.makeTwoDigits(t.date)).concat(i.translatePipe.transform("DAYS"));i.chartLabels.push("".concat(e," ").concat(n," ").concat(o)),i.chartDataSets[0].data.push(parseInt(t.cpuUsage)),i.chartDataSets[1].data.push(parseInt(t.ramUsage)),i.chartDataSets[2].data.push(parseInt(t.storageUsage))})),i.changeDetectorRef.markForCheck()}}))}},{key:"initChartDate",value:function(){this.chartDate.startDate=new Date,this.chartDate.endDate=new Date}},{key:"makeTwoDigits",value:function(t){return("0"+t).slice(-2)}},{key:"initFields",value:function(){this.chartDataSets[0].label=this.translatePipe.transform("CPU_USAGE"),this.chartDataSets[1].label=this.translatePipe.transform("MEMORY_USAGE"),this.chartDataSets[2].label=this.translatePipe.transform("STORAGE_USAGE"),this.changeDetectorRef.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||li)(C.Mb(C.h),C.Mb(f.G),C.Mb(be),C.Mb(U.d))},li.\u0275cmp=C.Gb({type:li,selectors:[["sd-server-monitoring"]],features:[C.yb([f.G])],decls:7,vars:18,consts:[[3,"type","title","chartDataSets","chartLabels","chartMaintainAspectRatio","chartResponsive","chartElements","chartLegend","chartScales","chartTooltips","chartColor","chartType","legendDate","dateTypeChange","customDateChange"]],template:function(t,e){1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"sd-card"),C.Nb(4,"sd-server-capacity"),C.Sb(5,"sd-statistic-card",0),C.Zb("dateTypeChange",(function(t){return e.changeDateType(t)}))("customDateChange",(function(t){return e.changeDate(t)})),C.ec(6,"translate"),C.Rb(),C.Rb()),2&t&&(C.zb(1),C.Gc(C.fc(2,14,"SERVER_MONITORING")),C.zb(4),C.jc("type","monitor")("title",C.fc(6,16,"HOURLY_USAGE"))("chartDataSets",e.chartDataSets)("chartLabels",e.chartLabels)("chartMaintainAspectRatio",e.chartMaintainAspectRatio)("chartResponsive",e.chartResponsive)("chartElements",e.chartElements)("chartLegend",e.chartLegend)("chartScales",e.chartScales)("chartTooltips",e.chartTooltips)("chartColor",e.chartColor)("chartType",e.chartType)("legendDate",e.dateInfo))},styles:["[_nghost-%COMP%]{min-width:1120px}.card-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.split[_ngcontent-%COMP%]{margin:5px 25px 0}sd-card[_ngcontent-%COMP%]{padding:0}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{margin:20px 0 40px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%], sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c6c6c;font-size:13px;line-height:22px}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;line-height:28px;font-family:NotoSans-Bold,sans-serif;color:#6c6c6c}sd-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   span.highlight[_ngcontent-%COMP%]{color:#ff6100}sd-server-capacity[_ngcontent-%COMP%]{margin:20px 0}sd-statistic-card[_ngcontent-%COMP%]    >sd-card{padding:30px 24px}"]}),li),fi=l("7HRe"),hi=l("LRne"),mi=1,Ci=Promise.resolve(),xi={};function Oi(t){return t in xi&&(delete xi[t],!0)}var yi,Mi=function(t){var e=mi++;return xi[e]=!0,Ci.then((function(){return Oi(e)&&t()})),e},_i=function(t){Oi(t)},Pi=function(n){e(r,n);var o=i(r);function r(t,e){var n;return u(this,r),(n=o.call(this,t,e)).scheduler=t,n.work=e,n}return g(r,[{key:"requestAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?t(a(r.prototype),"requestAsyncId",this).call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=Mi(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return t(a(r.prototype),"recycleAsyncId",this).call(this,e,n,i);0===e.actions.length&&(_i(n),e.scheduled=void 0)}}]),r}(l("3N8a").a),vi=new(function(t){e(o,t);var n=i(o);function o(){return u(this,o),n.apply(this,arguments)}return g(o,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,e){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw e}}}]),o}(l("IjjT").a))(Pi),ki=l("0EUg"),Si=((yi=function(){function t(e,n){u(this,t),this.baseHref=e,this.httpClient=n}return g(t,[{key:"getRemovedTempFileStatus",value:function(){return this.httpClient.get(this.baseHref+"v4/remove")}},{key:"deleteTempFileRemove",value:function(t,e){return this.httpClient.request("delete",this.baseHref+"v4/remove",{body:e,params:t,observe:"body",responseType:"arraybuffer"})}}]),t}()).\u0275fac=function(t){return new(t||yi)(C.Wb(d.a),C.Wb(p.b))},yi.\u0275prov=C.Ib({token:yi,factory:yi.\u0275fac}),yi);function Di(t,e){if(1&t&&(C.Sb(0,"div",13),C.Sb(1,"div",14),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Rb()),2&t){var n=C.dc();C.Eb("expanded-content",n.warningPhrase.formGroup.controls.expanded.value),C.jc("@children",n.warningPhrase.formGroup.controls.expanded.value?"expanded":"folded"),C.zb(2),C.Gc(C.fc(3,4,n.warningPhrase.description))}}function wi(t,e){if(1&t){var n=C.Tb();C.Sb(0,"sd-date-picker",29),C.Zb("dateSelect",(function(t){return C.uc(n),C.dc(4).dateSelect(t)})),C.Rb()}if(2&t){var i=C.dc(4);C.jc("size",i.DatePickerSize.TINY)("autoClosing",!0)}}function Ei(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",22),C.Nb(1,"pu-checkbox",23),C.ec(2,"translate"),C.Qb(3),C.Sb(4,"div",24),C.Zb("click",(function(){return C.uc(n),C.dc(3).onDateInputClick()})),C.Sb(5,"span",25),C.Fc(6),C.Rb(),C.Rb(),C.Dc(7,wi,1,2,"sd-date-picker",26),C.Sb(8,"div",27),C.Zb("click",(function(){return C.uc(n),C.dc(3).onDateInputClick()})),C.Nb(9,"i",28),C.Rb(),C.Pb(),C.Rb()}if(2&t){var i=C.dc(2).$implicit,o=C.dc();C.zb(1),C.jc("label",C.fc(2,7,"DELETE_DOCUMENT_BEFORE_SET_DATE")),C.zb(3),C.Eb("disabled",!i.formGroup.value.checked||!i.formGroup.value.isOption),C.zb(2),C.Gc(o.dateInputText),C.zb(1),C.jc("ngIf",o.isDatePickerVisible),C.zb(1),C.Eb("disabled",!i.formGroup.value.checked||!i.formGroup.value.isOption)}}function Ti(t,e){if(1&t&&(C.Sb(0,"div",20),C.Sb(1,"div",14),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Dc(4,Ei,10,9,"div",21),C.Rb()),2&t){var n=C.dc().$implicit,i=C.dc();C.Eb("expanded-content",n.formGroup.controls.expanded.value),C.jc("@children",n.formGroup.controls.expanded.value?"expanded":"folded"),C.zb(1),C.Eb("content-padding",n.type!==i.TempFileType.DELETED_PDF),C.zb(1),C.Gc(C.fc(3,7,n.description)),C.zb(2),C.jc("ngIf",n.type===i.TempFileType.DELETED_PDF)}}function Ii(t,e){if(1&t){var n=C.Tb();C.Sb(0,"article",15),C.Qb(1,2),C.Sb(2,"div",16),C.Nb(3,"pu-checkbox",17),C.Sb(4,"div",18),C.Zb("click",(function(){C.uc(n);var t=e.$implicit;return C.dc().onMenuClick(t)})),C.Sb(5,"span"),C.Fc(6),C.ec(7,"translate"),C.Rb(),C.Nb(8,"i",5),C.Rb(),C.Rb(),C.Dc(9,Ti,5,9,"div",19),C.Pb(),C.Rb()}if(2&t){var i=e.$implicit;C.zb(1),C.jc("formGroup",i.formGroup),C.zb(1),C.Eb("expanded-header",i.formGroup.controls.expanded.value),C.zb(1),C.jc("size","24px"),C.zb(3),C.Gc(C.fc(7,7,i.title)),C.zb(2),C.jc("@chevron",i.formGroup.controls.expanded.value),C.zb(1),C.jc("ngIf",i.formGroup.controls.expanded.value)}}var Ri,Ni,Ai=function(t){return t.SYSTEM_MANAGEMENT_WARNING_PHRASE="SYSTEM_MANAGEMENT_WARNING_PHRASE",t}({}),zi=function(t){return t.CACHE="CACHE",t.EXPIRED_PDF="EXPIRED_PDF",t.TEMPORARY="TEMPORARY",t.DELETED_PDF="DELETED_PDF",t.ORPHAN="ORPHAN",t.SIGN_CACHE="SIGN_CACHE",t.UNASSOCIATED="UNASSOCIATED",t}({}),Li=function(t){return t.NONE="NONE",t.AWAITING="AWAITING",t.PROGRESSING="PROGRESSING",t.SUCCESS="SUCCESS",t.FAILURE="FAILURE",t}({}),Fi=((Ri=function(){function t(e,n,i,o,a,r){u(this,t),this.translatePipe=e,this.datePickerService=n,this.systemManagementService=i,this.changeDetectorRef=o,this.toastService=a,this.subs=r,this.warningPhrase={title:"SYSTEM_MANAGEMENT_WARNING_PHRASE",description:"SYSTEM_MANAGEMENT_WARNING_PHRASE_DESCRIPTION",formGroup:this.buildMenuControls(Ai.SYSTEM_MANAGEMENT_WARNING_PHRASE)},this.tempFileMenus=[{type:zi.CACHE,title:"CACHE",description:"SYSTEM_MANAGEMENT_CACHE_DESCRIPTION",formGroup:this.buildMenuControls(zi.CACHE)},{type:zi.EXPIRED_PDF,title:"EXPIRED_DOCUMENT",description:"SYSTEM_MANAGEMENT_EXPIRED_DOCUMENT_DESCRIPTION",formGroup:this.buildMenuControls(zi.EXPIRED_PDF)},{type:zi.TEMPORARY,title:"TEMPORARY_DOCUMENT",description:"SYSTEM_MANAGEMENT_TEMPORARY_DOCUMENT_DESCRIPTION",formGroup:this.buildMenuControls(zi.TEMPORARY)},{type:zi.DELETED_PDF,title:"DELETED_DOCUMENT",description:"SYSTEM_MANAGEMENT_DELETED_DOCUMENT_DESCRIPTION",formGroup:this.buildMenuControls(zi.DELETED_PDF)},{type:zi.ORPHAN,title:"PREVIOUS_VERSION_FILE",description:"SYSTEM_MANAGEMENT_PREVIOUS_VERSION_FILE_DESCRIPTION",formGroup:this.buildMenuControls(zi.ORPHAN)},{type:zi.SIGN_CACHE,title:"SIGN_CACHE",description:"SYSTEM_MANAGEMENT_SIGN_CACHE_DESCRIPTION",formGroup:this.buildMenuControls(zi.SIGN_CACHE)},{type:zi.UNASSOCIATED,title:"UNASSOCIATED_FILE",description:"SYSTEM_MANAGEMENT_UNASSOCIATED_FILE_DESCRIPTION",formGroup:this.buildMenuControls(zi.UNASSOCIATED)}],this.isDatePickerVisible=!1}return g(t,[{key:"ngOnInit",value:function(){var t=this;this.subs.push(this.datePickerService.status$.pipe(Z.a((function(t){return!t.isVisible}))).subscribe({next:function(){t.isDatePickerVisible=!1}}),this.systemManagementService.getRemovedTempFileStatus().subscribe({next:function(e){return t.updateTempFileStatus(e)}}),this.getControl(zi.DELETED_PDF,"checked").valueChanges.subscribe({next:function(e){e?t.getControl(zi.DELETED_PDF,"isOption").enable():t.getControl(zi.DELETED_PDF,"isOption").disable()}}),this.getControl(zi.DELETED_PDF,"isOption").valueChanges.subscribe({next:function(e){e?t.getControl(zi.DELETED_PDF,"date").enable():t.getControl(zi.DELETED_PDF,"date").disable()}}))}},{key:"getControl",value:function(t,e){return this.tempFileMenus.find((function(e){return e.type===t})).formGroup.get(e)}},{key:"selectAll",value:function(){this.tempFileMenus.forEach((function(t){return t.formGroup.get("checked").setValue(!0)}))}},{key:"deselectAll",value:function(){this.tempFileMenus.forEach((function(t){return t.formGroup.get("checked").setValue(!1)}))}},{key:"removeTempFile",value:function(){var t=this;this.subs.push(fi.a([].concat(s(this.tempFileMenus.map((function(e){if(!e.formGroup.get("checked").value)return hi.a();var n={type:e.type},i={timestamp:""};if(e.type===zi.DELETED_PDF&&e.formGroup.get("isOption").value){var o=t.getControl(zi.DELETED_PDF,"date").value.value.type;return i.timestamp=new Date(o).setHours(0,0,0,0).toString(),t.systemManagementService.deleteTempFileRemove(n,i)}return t.systemManagementService.deleteTempFileRemove(n)}))),[this.systemManagementService.getRemovedTempFileStatus()]),vi).pipe(ki.a(),Z.a((function(t){return!(t instanceof ArrayBuffer)}))).subscribe({next:function(e){t.updateTempFileStatus(e),t.toastService.showToast({icon:"success",text:"DELETE_REQUEST_SEND"})},error:function(){t.toastService.showToast({icon:"failed",text:t.translatePipe.transform("DELETE_REQUEST_SEND_ERROR")})}}))}},{key:"onMenuClick",value:function(t){var e=t.formGroup.get("expanded");e.setValue(!e.value)}},{key:"onDateInputClick",value:function(){!this.isDatePickerVisible&&this.getControl(zi.DELETED_PDF,"isOption").value&&(this.isDatePickerVisible=!this.isDatePickerVisible)}},{key:"dateSelect",value:function(t){this.getControl(zi.DELETED_PDF,"date").setValue({label:this.translatePipe.transform("DATE_INPUT"),value:{type:new Date(t).getTime()}})}},{key:"updateTempFileStatus",value:function(t){this.tempFileMenus.forEach((function(e){Object.keys(t).includes(e.type)&&e.formGroup.get("status").setValue(t[e.type].removeStatus)})),this.changeDetectorRef.markForCheck()}},{key:"buildMenuControls",value:function(t){var e={status:new h.h(Li.NONE),checked:new h.h(!1),requester:new h.h(null),expanded:new h.h(!1),isOption:new h.h({value:!1,disabled:!0}),date:new h.h({label:this.translatePipe.transform("DATE_INPUT"),value:{type:(new Date).getTime()}})};return t!==zi.DELETED_PDF&&(delete e.isOption,delete e.date),new h.k(e)}},{key:"TempFileType",get:function(){return zi}},{key:"DatePickerSize",get:function(){return Q.i}},{key:"dateInputText",get:function(){return Object(Q.H)(new Date(this.getControl(zi.DELETED_PDF,"date").value.value.type))}},{key:"hasSelectedMenu",get:function(){return this.tempFileMenus.some((function(t){return t.formGroup.get("checked").value}))}},{key:"isSelectedAll",get:function(){return this.tempFileMenus.every((function(t){return t.formGroup.get("checked").value}))}}]),t}()).\u0275fac=function(t){return new(t||Ri)(C.Mb(U.d),C.Mb(vt.b),C.Mb(Si),C.Mb(C.h),C.Mb(tt.c),C.Mb(f.G))},Ri.\u0275cmp=C.Gb({type:Ri,selectors:[["sd-system-management"]],features:[C.yb([f.G])],decls:24,vars:19,consts:[[1,"warning-phrase"],[1,"warning-phrase-container"],[3,"formGroup"],[1,"warning-phrase-header-container",3,"click"],[1,"header"],[1,"papycon","papycon-chevron3-right","chevron"],["class","warning-phrase-content-container",3,"expanded-content",4,"ngIf"],[1,"button-container"],["size","small","color","primary",1,"ep-button",3,"click"],["size","small","color","grey",1,"ep-button",3,"disabled","click"],[1,"papycon","papycon-minus2"],[1,"menu"],["class","menu-container",4,"ngFor","ngForOf"],[1,"warning-phrase-content-container"],[1,"content"],[1,"menu-container"],[1,"menu-header-container"],["formControlName","checked",3,"size"],[1,"header",3,"click"],["class","menu-content-container",3,"expanded-content",4,"ngIf"],[1,"menu-content-container"],["class","menu-option",4,"ngIf"],[1,"menu-option"],["formControlName","isOption",3,"label"],[1,"expiry-date-input",3,"click"],[1,"date"],[3,"size","autoClosing","dateSelect",4,"ngIf"],[1,"icon-box",3,"click"],[1,"papycon","papycon-calendar"],[3,"size","autoClosing","dateSelect"]],template:function(t,e){1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"section",0),C.Sb(4,"article",1),C.Qb(5,2),C.Sb(6,"div",3),C.Zb("click",(function(){return e.onMenuClick(e.warningPhrase)})),C.Sb(7,"div",4),C.Sb(8,"span"),C.Fc(9),C.ec(10,"translate"),C.Rb(),C.Nb(11,"i",5),C.Rb(),C.Rb(),C.Dc(12,Di,4,6,"div",6),C.Pb(),C.Rb(),C.Rb(),C.Sb(13,"sd-card"),C.Sb(14,"article",7),C.Sb(15,"button",8),C.Zb("click",(function(){return e.isSelectedAll?e.deselectAll():e.selectAll()})),C.Fc(16),C.ec(17,"translate"),C.Rb(),C.Sb(18,"button",9),C.Zb("click",(function(){return e.removeTempFile()})),C.Nb(19,"i",10),C.Fc(20),C.ec(21,"translate"),C.Rb(),C.Rb(),C.Sb(22,"section",11),C.Dc(23,Ii,10,9,"article",12),C.Rb(),C.Rb()),2&t&&(C.zb(1),C.Gc(C.fc(2,11,"DELETE_TEMP_FILE")),C.zb(4),C.jc("formGroup",e.warningPhrase.formGroup),C.zb(1),C.Eb("expanded-header",e.warningPhrase.formGroup.controls.expanded.value),C.zb(3),C.Gc(C.fc(10,13,e.warningPhrase.title)),C.zb(2),C.jc("@chevron",e.warningPhrase.formGroup.controls.expanded.value),C.zb(1),C.jc("ngIf",e.warningPhrase.formGroup.controls.expanded.value),C.zb(4),C.Gc(C.fc(17,15,e.isSelectedAll?"DESELECT_ALL":"SELECT_ALL")),C.zb(2),C.jc("disabled",!e.hasSelectedMenu),C.zb(2),C.Gc(C.fc(21,17,"DELETE")),C.zb(3),C.jc("ngForOf",e.tempFileMenus))},styles:["[_nghost-%COMP%]{min-width:1180px}.warning-phrase[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff8ed}.warning-phrase-header-container[_ngcontent-%COMP%]{height:68px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:26px 54px 26px 24px;cursor:pointer}.warning-phrase-header-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#ff6100;width:100%;height:100%;font-size:16px;font-family:SourceHanSansKR}.warning-phrase-header-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}.warning-phrase-content-container[_ngcontent-%COMP%]{font-size:16px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#ff6100;padding:0 24px 26px}.warning-phrase[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px;white-space:pre-wrap;font-family:NotoSansCJKkr}sd-card[_ngcontent-%COMP%]{margin-top:20px;padding:30px 24px;line-height:1;font-family:SourceHanSansKR}article.button-container[_ngcontent-%COMP%]{margin-bottom:17px}article.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px;font-size:18px}article.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:12px}.menu-container[_ngcontent-%COMP%]{margin:0}.menu-header-container[_ngcontent-%COMP%]{height:60px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 24px 0}.menu-header-container[_ngcontent-%COMP%], .menu-header-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.menu-header-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#1e1e1e;margin-left:32px;width:100%;height:100%;cursor:pointer;font-size:16px}.menu-header-container[_ngcontent-%COMP%]   pu-checkbox[_ngcontent-%COMP%]{width:24px;height:24px}.menu-header-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px;margin-right:8px}.menu-content-container[_ngcontent-%COMP%]{font-size:14px;padding-left:80px;-webkit-box-sizing:border-box;box-sizing:border-box}.menu-content-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:8px;color:#6c6c6c}.menu-content-container[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px;padding:10px 0;margin:8px 0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.menu-content-container[_ngcontent-%COMP%]   sd-date-picker[_ngcontent-%COMP%]{z-index:1;top:44px;left:176px}.menu-container[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}.expiry-date-input[_ngcontent-%COMP%]{width:140px;height:30px;margin:0 8px;border-radius:2px;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer}.expiry-date-input[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:14px;line-height:24px;font-family:NotoSans-Regular;color:#6c6c6c;margin-left:10px}.icon-box[_ngcontent-%COMP%]{font-size:18px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-item-align:center;align-self:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.content-padding[_ngcontent-%COMP%]{padding-bottom:14px}"],data:{animation:[Q.a.rotate("chevron","90"),Q.a.expandHiddenChildren("children")]},changeDetection:0}),Ri),Gi=l("fw65"),Ui=((Ni=function t(){u(this,t)}).\u0275mod=C.Kb({type:Ni}),Ni.\u0275inj=C.Jb({factory:function(t){return new(t||Ni)},providers:[Zn,Si],imports:[[d.c,yt.a,Me.b,_t.b,h.B,V,f.f,h.n,f.j,Mt,f.t,Y.b,nn,U.b,vt.a]]}),Ni);C.xc(bi,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,nt.a,fn.a,Gi.a,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,F,f.e,h.u,h.v,h.t,f.i,lt,f.s,it.a,ot.a,en,Zt.a,bi,ui,ii,gi,Fi],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(ui,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,nt.a,fn.a,Gi.a,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,F,f.e,h.u,h.v,h.t,f.i,lt,f.s,it.a,ot.a,en,Zt.a,bi,ui,ii,gi,Fi],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(ii,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,nt.a,fn.a,Gi.a,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,F,f.e,h.u,h.v,h.t,f.i,lt,f.s,it.a,ot.a,en,Zt.a,bi,ui,ii,gi,Fi],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(gi,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,nt.a,fn.a,Gi.a,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,F,f.e,h.u,h.v,h.t,f.i,lt,f.s,it.a,ot.a,en,Zt.a,bi,ui,ii,gi,Fi],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(Fi,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,nt.a,fn.a,Gi.a,h.H,h.w,h.G,h.d,h.x,h.A,h.b,h.D,h.E,h.z,h.r,h.s,h.C,h.p,h.o,h.y,h.c,h.e,h.i,h.l,h.j,h.m,h.f,F,f.e,h.u,h.v,h.t,f.i,lt,f.s,it.a,ot.a,en,Zt.a,bi,ui,ii,gi,Fi],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]);var ji,Hi=((ji=function t(){u(this,t)}).\u0275mod=C.Kb({type:ji}),ji.\u0275inj=C.Jb({factory:function(t){return new(t||ji)},providers:[be],imports:[[d.c,f.x,yt.a,Me.b,_t.b,Ui,U.b,Mt,Y.b]]}),ji);C.xc(Pe,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,f.q,f.w,nt.a,fn.a,Gi.a,gi,lt,it.a,ot.a,ye,Pe,Yn,Wn],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(Yn,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,f.q,f.w,nt.a,fn.a,Gi.a,gi,lt,it.a,ot.a,ye,Pe,Yn,Wn],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]),C.xc(Wn,[d.q,d.r,d.s,d.t,d.A,d.w,d.x,d.y,d.z,d.u,d.v,f.q,f.w,nt.a,fn.a,Gi.a,gi,lt,it.a,ot.a,ye,Pe,Yn,Wn],[d.b,d.G,d.p,d.k,d.E,d.g,d.C,d.F,d.d,d.f,d.i,d.j,d.l,yn.a,Mn.a,_n.a,Pn.a,fe.a,H.a]);var Vi,Bi,Wi,Yi,Ki,$i,Zi,qi=((Bi=function t(){u(this,t)}).\u0275mod=C.Kb({type:Bi}),Bi.\u0275inj=C.Jb({factory:function(t){return new(t||Bi)},imports:[[d.c,Hi]]}),Bi),Ji=((Vi=function(){function t(e,n){u(this,t),this.authService=e,this.router=n}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.authService.sharedGetSession.pipe(y.a(1),J.a((function(t){return t?t.type===$.e.ADMIN||n.router.parseUrl("view/admin/dashboard"):n.router.parseUrl("view/admin/login")})))}}]),t}()).\u0275fac=function(t){return new(t||Vi)(C.Wb($.c),C.Wb(b.c))},Vi.\u0275prov=C.Ib({token:Vi,factory:Vi.\u0275fac}),Vi),Qi=l("JIr8"),Xi=((Wi=function(){function t(e,n){u(this,t),this.authService=e,this.router=n}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.authService.sharedGetSession.pipe(y.a(1),J.a((function(){return!0})),Qi.a((function(){return hi.a(n.router.parseUrl("view/admin/login?redirectTo="+t.routeConfig.path))})))}}]),t}()).\u0275fac=function(t){return new(t||Wi)(C.Wb($.c),C.Wb(b.c))},Wi.\u0275prov=C.Ib({token:Wi,factory:Wi.\u0275fac}),Wi),to=l("CqXF"),eo=l("MtjB"),no=(($i=function(){function t(e,n,i,o){u(this,t),this.authService=e,this.dialogService=n,this.formBuilder=i,this.translatePipe=o,this.passwordFormGroup=this.formBuilder.group({password:""})}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.passwordFormGroup.reset(""),this.dialogService.toggleDialogVisibility(m.c.CHECK_USER,!0,{title:this.translatePipe.transform("ACCOUNT_PAGE_PASSWORD_CHECK"),size:{width:452,height:282},formGroup:this.passwordFormGroup}),this.dialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.CHECK_USER})),Tt.a((function(){return n.authService.postCheckPassword(n.passwordFormGroup.controls.password.value)})),It.a((function(){return n.dialogService.closeCurrentActiveDialog()})),to.a(!0),eo.a((function(t){return t.pipe(It.a((function(){n.passwordFormGroup.get("password").setErrors({invalid:!0})})))})))}}]),t}()).\u0275fac=function(t){return new(t||$i)(C.Wb($.c),C.Wb(m.b),C.Wb(h.g),C.Wb(U.d))},$i.\u0275prov=C.Ib({token:$i,factory:$i.\u0275fac}),$i),io=((Ki=function(){function t(e,n){u(this,t),this.authService=e,this.router=n}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.authService.sharedGetSession.pipe(y.a(1),J.a((function(){return n.router.parseUrl("view/admin/dashboard")})),Qi.a((function(){return hi.a(!0)})))}}]),t}()).\u0275fac=function(t){return new(t||Ki)(C.Wb($.c),C.Wb(b.c))},Ki.\u0275prov=C.Ib({token:Ki,factory:Ki.\u0275fac}),Ki),oo=((Yi=function t(){u(this,t)}).\u0275mod=C.Kb({type:Yi}),Yi.\u0275inj=C.Jb({factory:function(t){return new(t||Yi)},providers:[Xi,io,Ji,no],imports:[[d.c]]}),Yi),ao=function(t){return t.DEMO="DEMO",t.REGULAR="REGULAR",t}({}),ro=((Zi=function(){function t(e,n){u(this,t),this.baseHref=e,this.httpClient=n,this._licenseInfo=null}return g(t,[{key:"getLicenseInfo",value:function(){var t=this;return this.httpClient.post(this.baseHref+"v4/license/info",{observe:"response",responseType:"json"}).pipe(It.a((function(e){return t._licenseInfo=e})))}},{key:"postLicense",value:function(t){return this.httpClient.post(this.baseHref+"v4/license/register",{license:t})}},{key:"deleteLicense",value:function(){return this.httpClient.post(this.baseHref+"v4/license/deactive",{observe:"response",responseType:"json"})}},{key:"licenseInfo",get:function(){return this._licenseInfo}}]),t}()).\u0275fac=function(t){return new(t||Zi)(C.Wb(d.a),C.Wb(p.b))},Zi.\u0275prov=C.Ib({token:Zi,factory:Zi.\u0275fac}),Zi);function co(t,e){if(1&t){var n=C.Tb();C.Sb(0,"button",7),C.Zb("click",(function(){return C.uc(n),C.dc().openDestroyLicenseDialog()})),C.Fc(1),C.ec(2,"translate"),C.Rb()}2&t&&(C.zb(1),C.Gc(C.fc(2,1,"LICENSE_DESTROY")))}function so(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",8),C.Sb(1,"span",2),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Nb(4,"pu-input",9),C.ec(5,"translate"),C.Sb(6,"button",10),C.Zb("click",(function(){return C.uc(n),C.dc().registerLicense()})),C.Fc(7),C.ec(8,"translate"),C.Rb(),C.Rb()}if(2&t){var i=C.dc();C.zb(2),C.Gc(C.fc(3,5,"LICENSE_KEY")),C.zb(2),C.jc("placeholder",C.fc(5,7,"LICENSE_INPUT_PLACEHOLDER"))("formControl",i.licenseKeyInputFormControl),C.zb(2),C.jc("disabled",!i.licenseKeyInputFormControl.value),C.zb(1),C.Gc(C.fc(8,9,"REGISTER"))}}function lo(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",11),C.Sb(1,"span",2),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Sb(4,"div",12),C.Sb(5,"span"),C.Fc(6),C.Rb(),C.Sb(7,"i",13),C.Zb("click",(function(){C.uc(n);var t=C.dc();return t.copyToken(null==t.licenseInfo?null:t.licenseInfo.register)})),C.Rb(),C.Sb(8,"i",14),C.Zb("click",(function(){C.uc(n);var t=C.dc();return t.downloadToken(null==t.licenseInfo?null:t.licenseInfo.register,"streamdocs-license-issue-token")})),C.Rb(),C.Rb(),C.Rb()}if(2&t){var i=C.dc();C.zb(2),C.Gc(C.fc(3,4,"REGISTER_TOKEN")),C.zb(3),C.Eb("error",i.registerTokenInputFormControl.getError("fail")),C.zb(1),C.Gc(i.registerTokenInputFormControl.value)}}function uo(t,e){if(1&t){var n=C.Tb();C.Sb(0,"div",8),C.Sb(1,"span",2),C.Fc(2),C.ec(3,"translate"),C.Rb(),C.Sb(4,"div",12),C.Sb(5,"span"),C.Fc(6),C.Rb(),C.Sb(7,"i",13),C.Zb("click",(function(){C.uc(n);var t=C.dc();return t.copyToken(null==t.licenseInfo?null:t.licenseInfo.deactivate)})),C.Rb(),C.Sb(8,"i",14),C.Zb("click",(function(){C.uc(n);var t=C.dc();return t.downloadToken(null==t.licenseInfo?null:t.licenseInfo.deactivate,"streamdocs-license-deregistration-code")})),C.Rb(),C.Rb(),C.Rb()}if(2&t){var i=C.dc();C.zb(2),C.Gc(C.fc(3,2,"DEACTIVATE_CODE")),C.zb(4),C.Gc(i.destroyTokenInputFormControl.value)}}var po,go,bo,fo,ho,mo,Co,xo,Oo,yo,Mo=((fo=function(){function t(e,n,i,o,a,r){u(this,t),this.licenseService=e,this.toastService=n,this.changeDetectorRef=i,this.adminDialogService=o,this.subscription=a,this.translatePipe=r,this.registerTokenInputFormControl=new h.h(""),this.destroyTokenInputFormControl=new h.h(""),this.licenseKeyInputFormControl=new h.h(""),this.isLoading=!0,this.Status=ao}return g(t,[{key:"ngOnInit",value:function(){this.getLicenseInfo(),this.subscribe()}},{key:"subscribe",value:function(){var t=this;this.subscription.push(this.adminDialogService.dialogEvent$.pipe(Z.a((function(t){return"confirm"===t.action&&t.dialogType===m.c.ASK_BEFORE_DESTROY_LICENSE}))).subscribe({next:function(e){t.adminDialogService.closeCurrentActiveDialog(),t.destroyLicense()}}))}},{key:"openDestroyLicenseDialog",value:function(){this.adminDialogService.toggleDialogVisibility(m.c.ASK_BEFORE_DESTROY_LICENSE,!0,{size:{width:336,height:280}})}},{key:"registerLicense",value:function(){var t=this;this.licenseKeyInputFormControl.value&&(this.isLoading=!0,this.licenseService.postLicense(this.licenseKeyInputFormControl.value).pipe(q.a((function(){t.isLoading=!1,t.changeDetectorRef.markForCheck()}))).subscribe({next:function(e){t.toastService.showToast({text:t.translatePipe.transform("SUCCEED_TO_REGISTER_LICENSE"),icon:"success"}),t.getLicenseInfo(),t.licenseKeyInputFormControl.reset(),t.changeDetectorRef.markForCheck()},error:function(e){t.toastService.showToast({text:t.translatePipe.transform("FAILED_TO_ADD_LICENSE"),icon:"success"})}}))}},{key:"destroyLicense",value:function(){var t=this;this.licenseService.deleteLicense().subscribe({next:function(e){t.toastService.showToast({text:t.translatePipe.transform("SUCCEED_TO_DESTROY_LICENSE"),icon:"success"}),t.getLicenseInfo()}})}},{key:"copyToken",value:function(t){Q.F.copyToClipboard(t),this.toastService.showToast({icon:"success",text:this.translatePipe.transform("COPY_TOKEN")})}},{key:"downloadToken",value:function(t,e){var n=new Blob([t],{type:"octet/stream;"});Q.l.downloadBlob(n,e)}},{key:"getLicenseInfo",value:function(){var t=this;this.licenseService.getLicenseInfo().pipe(q.a((function(){t.isLoading=!1,t.changeDetectorRef.markForCheck()}))).subscribe({next:function(e){t.licenseInfo=e,e.register&&t.registerTokenInputFormControl.setValue(e.register),e.deactivate&&t.destroyTokenInputFormControl.setValue(e.deactivate)},error:function(e){var n=t.translatePipe.transform("FETCH_TOKEN_ERROR");t.registerTokenInputFormControl.setValue(n),t.registerTokenInputFormControl.setErrors({fail:!0})}})}},{key:"licenseStatusText",get:function(){if(!this.licenseInfo)return"";if(!this.licenseInfo.tier)return this.translatePipe.transform("FAIL_TO_FETCH_LICENSE");var t=this.licenseInfo.deactivate?"(".concat(this.translatePipe.transform("DESTROYED"),")"):"";return"".concat(this.translatePipe.transform(this.licenseInfo.tier)," ").concat(t)}}]),t}()).\u0275fac=function(t){return new(t||fo)(C.Mb(ro),C.Mb(tt.c),C.Mb(C.h),C.Mb(m.b),C.Mb(f.G),C.Mb(U.d))},fo.\u0275cmp=C.Gb({type:fo,selectors:[["sd-license"]],features:[C.yb([f.G])],decls:15,vars:14,consts:[[3,"isLoading"],[1,"row","status"],[1,"label"],[1,"license-status"],["class","ep-button","size","tiny","color","danger",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["class","row register",4,"ngIf"],["size","tiny","color","danger",1,"ep-button",3,"click"],[1,"row"],["size","tiny",1,"register-input",3,"placeholder","formControl"],["size","tiny","color","white",1,"ep-button",3,"disabled","click"],[1,"row","register"],[1,"token"],[1,"papycon","papycon-copy",3,"click"],[1,"papycon","papycon-download",3,"click"]],template:function(t,e){1&t&&(C.Sb(0,"h1"),C.Fc(1),C.ec(2,"translate"),C.Rb(),C.Sb(3,"div"),C.Sb(4,"sd-card",0),C.Sb(5,"div",1),C.Sb(6,"span",2),C.Fc(7),C.ec(8,"translate"),C.Rb(),C.Sb(9,"span",3),C.Fc(10),C.Rb(),C.Dc(11,co,3,3,"button",4),C.Rb(),C.Dc(12,so,9,11,"div",5),C.Dc(13,lo,9,6,"div",6),C.Dc(14,uo,9,4,"div",5),C.Rb(),C.Rb()),2&t&&(C.zb(1),C.Gc(C.fc(2,10,"LICENSE_MANAGEMENT")),C.zb(3),C.jc("isLoading",e.isLoading),C.zb(3),C.Gc(C.fc(8,12,"LICENSE_STATUS")),C.zb(2),C.Eb("error",!(null!=e.licenseInfo&&e.licenseInfo.tier)),C.zb(1),C.Gc(e.licenseStatusText),C.zb(1),C.jc("ngIf",(null==e.licenseInfo?null:e.licenseInfo.tier)===e.Status.REGULAR),C.zb(1),C.jc("ngIf",(null==e.licenseInfo?null:e.licenseInfo.tier)===e.Status.DEMO),C.zb(1),C.jc("ngIf",(null==e.licenseInfo?null:e.licenseInfo.tier)===e.Status.DEMO),C.zb(1),C.jc("ngIf",null==e.licenseInfo?null:e.licenseInfo.deactivate))},directives:[nt.a,d.t,f.s,h.r,h.i],pipes:[H.a],styles:["[_nghost-%COMP%]{min-width:814px}sd-card[_ngcontent-%COMP%]{max-width:754px;min-height:200px;padding:30px}.row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:64px}.row[_ngcontent-%COMP%]:not(.status):not(.license){border-top:1px solid #dadada}.border[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#dadada}.label[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 100px;flex:0 0 100px;color:#838383}.label[_ngcontent-%COMP%], .license-status[_ngcontent-%COMP%]{font-family:NotoSans-Medium;font-size:14px;height:14px;line-height:14px;font-weight:500}.license-status[_ngcontent-%COMP%]{letter-spacing:-.5px;color:#1e1e1e}.license-status.error[_ngcontent-%COMP%]{color:#e4002b;font-size:14px;margin-left:4px}.token[_ngcontent-%COMP%]{font-family:Consolas,Monaco,DejaVu Sans Mono,sans-serif;font-size:14px;height:14px;line-height:14px;font-weight:500;letter-spacing:-.5px;color:#1e1e1e;position:relative}.token[_ngcontent-%COMP%]   .papycon-copy[_ngcontent-%COMP%], .token[_ngcontent-%COMP%]   .papycon-download[_ngcontent-%COMP%]{color:#363636;font-size:16px;margin-left:14px;cursor:pointer}.token[_ngcontent-%COMP%]   .papycon-copy[_ngcontent-%COMP%]:hover, .token[_ngcontent-%COMP%]   .papycon-download[_ngcontent-%COMP%]:hover{color:#f79f1a}.token[_ngcontent-%COMP%]   .papycon-copy.error[_ngcontent-%COMP%], .token[_ngcontent-%COMP%]   .papycon-download.error[_ngcontent-%COMP%]{color:#e4002b;font-size:14px;margin-left:4px}.register-input[_ngcontent-%COMP%]{width:250px}button[_ngcontent-%COMP%]{margin-left:20px}"],changeDetection:0}),fo),_o=((bo=function t(){u(this,t)}).\u0275mod=C.Kb({type:bo}),bo.\u0275inj=C.Jb({factory:function(t){return new(t||bo)},providers:[ro],imports:[[d.c,f.t,h.B,yt.a,U.b]]}),bo),Po=((go=function(){function t(e,n,i,o,a,r,c,s,l){u(this,t),this.subs=e,this.authService=n,this.toastService=i,this.router=o,this.activatedRoute=a,this.translatePipe=r,this.formBuilder=c,this.productService=s,this.changeDetectorRef=l,this.EMAIL_ITEM_KEY="userEmail",this.packageVersion="",this.formGroup=this.formBuilder.group({email:"",password:"",checkbox:!1})}return g(t,[{key:"ngOnInit",value:function(){this.setEmailFromStorage(),this.initSubscriptions()}},{key:"login",value:function(){var t=this;this.subs.set("login",this.authService.login(this.formGroup.get("email").value,this.formGroup.get("password").value).pipe(Tt.a((function(){return t.authService.sharedGetSession}))).subscribe({next:function(e){t.activatedRoute.queryParams.subscribe({next:function(e){var n=e.redirectTo;t.router.navigate([null!=n?n:"dashboard"],{relativeTo:t.activatedRoute.parent})},error:function(){t.router.navigate(["dashboard"],{relativeTo:t.activatedRoute.parent})}})},error:function(e){t.toastService.showToast(e.status===K.b.UNAUTHORIZED?{icon:tt.a.FAILED,text:t.translatePipe.transform("LOGIN_FAILURE_ACCOUNT_ERROR"),spanStyle:{width:"320px",fontSize:"16px",lineHeight:"26px",whiteSpace:"pre-line"}}:e.message&&e.message===$.d.UNAUTHORIZED?{icon:tt.a.FAILED,text:t.translatePipe.transform("LOGIN_ERROR_UNAUTHORIZED")}:{icon:tt.a.FAILED,text:t.translatePipe.transform("LOGIN_FAILURE")})}}))}},{key:"initSubscriptions",value:function(){var t=this;this.subs.push(this.formGroup.controls.checkbox.valueChanges.subscribe({next:function(e){e?t.setStorageItem(t.EMAIL_ITEM_KEY,t.formGroup.controls.email.value):t.removeStorageItem(t.EMAIL_ITEM_KEY)}}),this.formGroup.controls.email.valueChanges.subscribe({next:function(e){t.formGroup.controls.checkbox.value&&t.setStorageItem(t.EMAIL_ITEM_KEY,e)}}),this.productService.getPackageVersion().subscribe({next:function(e){t.packageVersion="v"+e,t.changeDetectorRef.markForCheck()}}))}},{key:"setEmailFromStorage",value:function(){this.getStorageItem(this.EMAIL_ITEM_KEY)&&(this.formGroup.controls.checkbox.setValue(!0),this.formGroup.controls.email.setValue(this.getStorageItem(this.EMAIL_ITEM_KEY)))}},{key:"getStorageItem",value:function(t){return window.localStorage.getItem(t)||""}},{key:"setStorageItem",value:function(t,e){window.localStorage.setItem(t,e)}},{key:"removeStorageItem",value:function(t){window.localStorage.removeItem(t)}},{key:"currentYear",get:function(){return(new Date).getFullYear()}},{key:"logoUrl",get:function(){return this.productService.getLoginLogo()}},{key:"description",get:function(){return this.productService.getText()}}]),t}()).\u0275fac=function(t){return new(t||go)(C.Mb(f.G),C.Mb($.c),C.Mb(tt.c),C.Mb(b.c),C.Mb(b.a),C.Mb(U.d),C.Mb(h.g),C.Mb(Rt.b),C.Mb(C.h))},go.\u0275cmp=C.Gb({type:go,selectors:[["e-login"]],features:[C.yb([f.G])],decls:26,vars:21,consts:[[1,"login-container"],[1,"login-form",3,"formGroup"],[1,"header"],[1,"logo",3,"src"],[1,"package-version"],[1,"title"],["formControlName","email","size","small",3,"placeholder","autofocus","keydown.enter"],["formControlName","password","size","small","type","password",3,"placeholder","keydown.enter"],["size","small","color","primary",1,"ep-button",3,"click"],[1,"tools"],["formControlName","checkbox",3,"label"],[1,"copy-right"],[1,"text-container"],[1,"admin-text"]],template:function(t,e){1&t&&(C.Sb(0,"section",0),C.Sb(1,"form",1),C.Sb(2,"div",2),C.Nb(3,"img",3),C.Sb(4,"span",4),C.Fc(5),C.Rb(),C.Rb(),C.Sb(6,"span",5),C.Fc(7),C.ec(8,"translate"),C.Rb(),C.Sb(9,"pu-input",6),C.Zb("keydown.enter",(function(){return e.login()})),C.ec(10,"translate"),C.Rb(),C.Sb(11,"pu-input",7),C.Zb("keydown.enter",(function(){return e.login()})),C.ec(12,"translate"),C.Rb(),C.Sb(13,"button",8),C.Zb("click",(function(){return e.login()})),C.Fc(14),C.ec(15,"translate"),C.Rb(),C.Sb(16,"div",9),C.Nb(17,"pu-checkbox",10),C.ec(18,"translate"),C.Rb(),C.Rb(),C.Sb(19,"span",11),C.Fc(20),C.Rb(),C.Rb(),C.Sb(21,"div",12),C.Sb(22,"span",13),C.Fc(23,"PDF Streaming Server,"),C.Nb(24,"br"),C.Fc(25),C.Rb(),C.Rb()),2&t&&(C.zb(1),C.jc("formGroup",e.formGroup),C.zb(2),C.jc("src",e.logoUrl,C.wc),C.zb(2),C.Gc(e.packageVersion),C.zb(2),C.Gc(C.fc(8,11,"LOGIN")),C.zb(2),C.jc("placeholder",C.fc(10,13,"E_MAIL"))("autofocus",!0),C.zb(2),C.jc("placeholder",C.fc(12,15,"PASSWORD")),C.zb(3),C.Gc(C.fc(15,17,"LOGIN")),C.zb(3),C.jc("label",C.fc(18,19,"SAVE_E_MAIL")),C.zb(3),C.Hc("\xa92004\u2013",e.currentYear," ePapyrus Inc.\xa0\xa0All rights reserved."),C.zb(5),C.Gc(e.description))},directives:[h.H,h.s,h.l,f.s,h.r,h.j,f.e],pipes:[H.a],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;position:fixed;top:0;background-color:#f7f1e8;background-image:url(background.6a9686395df992dec729.png);background-size:contain;background-position:100%;background-repeat:no-repeat}.text-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0;margin-top:calc(88vh - 14px + 2px);margin-left:116px}.text-container[_ngcontent-%COMP%]   span.admin-text[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-size:12px;line-height:20px;color:#1e1e1e}.header[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{width:168px;height:29px;vertical-align:bottom}.header[_ngcontent-%COMP%]   span.package-version[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-size:14px;line-height:24px;color:#1e1e1e;width:56px;height:14px;margin:0 0 0 7.6px}.login-container[_ngcontent-%COMP%]{background-color:#fff;-webkit-box-flex:0;-ms-flex:0 0 610px;flex:0 0 610px;padding-top:185px;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.login-container[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.login-form[_ngcontent-%COMP%]{flex-direction:column;width:338px;height:518px;margin-left:15px}.login-form[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;font-size:16px;line-height:26px;color:#1e1e1e;margin:24px 0}.login-form[_ngcontent-%COMP%]   pu-input[_ngcontent-%COMP%]{margin-bottom:20px}.login-form[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{margin-top:22px}span.copy-right[_ngcontent-%COMP%]{font-family:NotoSans-Regular,sans-serif;font-size:12px;line-height:20px;color:#6c6c6c;width:338px;padding-left:18px}"],changeDetection:0}),go),vo=((po=function t(){u(this,t)}).\u0275mod=C.Kb({type:po}),po.\u0275inj=C.Jb({factory:function(t){return new(t||po)},imports:[[d.c,h.B,f.t,f.f,U.b]]}),po),ko=l("YWXW"),So=[{path:"",component:oe,children:[{path:"login",component:Po,canActivate:[io]},{path:"document-list",component:$e,canActivate:[Xi]},{path:"removed-document-list",component:bn,canActivate:[Xi]},{path:"account",component:Ot,canActivate:[Xi,Ji,no]},{path:"settings/view",component:ko.b,canActivate:[Xi,Ji],canDeactivate:[ko.c]},{path:"settings/watermark",loadChildren:function(){return l.e(7).then(l.bind(null,"Jzxn")).then((function(t){return t.WatermarkSettingsModule}))},canActivate:[Xi,Ji]},{path:"dashboard",component:ve,canActivate:[Xi]},{path:"statistic-period",component:Yn,canActivate:[Xi]},{path:"statistic-document",component:Wn,canActivate:[Xi]},{path:"server-monitoring",component:bi,canActivate:[Xi,Ji]},{path:"server-log",component:ui,canActivate:[Xi,Ji]},{path:"document-log",component:ii,canActivate:[Xi,Ji]},{path:"system-management",component:Fi,canActivate:[Xi,Ji]},{path:"license",component:Mo,canActivate:[Xi,Ji]},{path:"**",redirectTo:"dashboard"}]}],Do=((Co=function t(){u(this,t)}).\u0275mod=C.Kb({type:Co}),Co.\u0275inj=C.Jb({factory:function(t){return new(t||Co)},imports:[[b.g.forChild(So)],b.g]}),Co),wo=((mo=function t(){u(this,t)}).\u0275mod=C.Kb({type:mo}),mo.\u0275inj=C.Jb({factory:function(t){return new(t||mo)},imports:[[d.c]]}),mo),Eo=((ho=function t(){u(this,t)}).\u0275mod=C.Kb({type:ho}),ho.\u0275inj=C.Jb({factory:function(t){return new(t||ho)},imports:[[d.c,f.x]]}),ho),To=l("LkYz"),Io=((xo=function t(){u(this,t)}).\u0275mod=C.Kb({type:xo}),xo.\u0275inj=C.Jb({factory:function(t){return new(t||xo)},imports:[[d.c,f.x,To.a,b.g,U.b]]}),xo),Ro=l("z6cu"),No=((yo=function(){function t(e,n,i,o){u(this,t),this.authService=e,this.router=n,this.toastService=i,this.translatePipe=o}return g(t,[{key:"intercept",value:function(t,e){var n=this,i=Ee.e;return t.headers.keys().forEach((function(e){i=i.set(e,t.headers.get(e))})),Q.o.token&&(i=i.append("authorization",Q.o.authorization)),e.handle(t.clone({headers:i})).pipe(Qi.a((function(i){return n.handleError(i,t,e)})))}},{key:"handleError",value:function(t,e,n){if(t.status===K.b.UNAUTHORIZED){var i=null!=Q.o.token,o=e.url.includes("v4/auth/refresh/admin"),a=!i||o;return this.authService.deleteCookie("accessToken"),a?(this.router.navigateByUrl("view/admin/login"),Q.o.token=null,Ro.a(t)):this.authService.sharedRefreshToken$.pipe(Tt.a((function(t){return Q.o.token={accessToken:t.accessToken,refreshToken:Q.o.token.refreshToken},n.handle(e.clone({setHeaders:{Authorization:"Bearer "+t.accessToken}}))})))}return t.status===K.b.INTERNAL_SERVER_ERROR&&this.toastService.showToast({text:this.translatePipe.transform("FAILED"),icon:"failed"}),Ro.a(t)}}]),t}()).\u0275fac=function(t){return new(t||yo)(C.Wb($.c),C.Wb(b.c),C.Wb(tt.c),C.Wb(U.d))},yo.\u0275prov=C.Ib({token:yo,factory:yo.\u0275fac}),yo),Ao=((Oo=function t(){u(this,t)}).\u0275mod=C.Kb({type:Oo}),Oo.\u0275inj=C.Jb({factory:function(t){return new(t||Oo)},providers:[{provide:p.a,useClass:No,multi:!0}],imports:[[]]}),Oo),zo=l("xghl");l("4YnD"),l("GPPu");var Lo,Fo=((Lo=function t(){u(this,t)}).\u0275mod=C.Kb({type:Lo}),Lo.\u0275inj=C.Jb({factory:function(t){return new(t||Lo)},imports:[[b.g,p.c,zo.a,d.c,Eo,wo,Io,$.b,qi,vo,Do,vn,V,tt.b,f.j,oo,Pt,vt.a,_o,Hi,Ui,ko.d.forRoot(),Ao,St.b.forRoot()]]}),Lo)}}])}();