!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Jzxn:function(n,i,r){"use strict";r.r(i),r.d(i,"WatermarkSettingsComponent",(function(){return Ce})),r.d(i,"WatermarkSettingsGuard",(function(){return ke})),r.d(i,"WatermarkSettingsModule",(function(){return ye})),r.d(i,"WatermarkSettingsService",(function(){return R})),r.d(i,"WatermarkSettingsRoutingModule",(function(){return _e}));var c,l=r("3vOV"),s=r("BNhx"),b=r("B93E"),u=r("Cojq"),f=r("akkN"),g=r("1uah"),p=r("NXyV"),d=r("LRne"),m=r("xgIS"),x=r("PqYM"),v=r("vkgz"),h=r("pLZG"),C=r("Kj3r"),k=r("eIep"),w=r("lJxs"),M=r("CqXF"),S=r("0lfv"),_=r("8Y7J"),y=r("s7LF"),O=r("ey9i"),P=r("ZMf9"),R=((c=function(){function e(t,n){o(this,e),this.watermarkService=t,this.fb=n}return a(e,[{key:"createControl",value:function(e,n){var i=[],o=n||this.fb.group({type:e,renderTarget:null,name:null,opacity:100,align:0,rotate:0,x:0,y:0,allowView:!0,allowPrint:!0,range:"all",placeOverContent:!0,_repeatWidth:{value:250,disabled:!0},_repeatHeight:{value:250,disabled:!0},text:"",size:null,color:"#000000",fontName:null,bold:!1,italic:!1,textAlignment:"center",scale:100,imageData:null,_repeat:!1,opacityInput:[100,{updateOn:"blur"}],rotateInput:[0,{updateOn:"blur"}]}),r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.map((function(t){return o.get(t).valueChanges.subscribe({next:function(t){var i=Math.min(Math.max(t,e.min),e.max);n.forEach((function(e){o.get(e).setValue(i,{emitEvent:!1})}))}})}))};return i.push.apply(i,t(r({min:0,max:100},"opacity","opacityInput")).concat(t(r({min:0,max:9999},"scale")),t(r({min:0,max:360},"rotate","rotateInput")),t(r({min:1,max:1e3},"_repeatWidth")),t(r({min:1,max:1e3},"_repeatHeight")),[o.get("_repeat").valueChanges.subscribe({next:function(e){["_repeatHeight","_repeatWidth"].forEach((function(t){return o.get(t)[e?"enable":"disable"]()}))}})])),[o,i]}},{key:"generateName",value:function(e,n){var i=("Text"===e?"TXT":"IMG")+"_Watermark_",o=new RegExp("^".concat(i,"(\\d+)"));return"".concat(i).concat(Math.max.apply(Math,[0].concat(t(n.map((function(e){return Number((o.exec(e)||[])[1])||0})))))+1)}},{key:"exportWatermarkChanges",value:function(e){var t=this;return e.map((function(e){return t.mapControlToWatermark(e)})).reduce((function(e,n){return t.watermarkService.mergeWatermarkChanges(e,n)}),[])}},{key:"importWatermarkChanges",value:function(e){var n=this;return e.reduce((function(e,n){return e.concat.apply(e,t(n.text).concat(t(n.image)))}),[]).map((function(e){return n.watermarkService.mapWatermarkToControl(e)}))}},{key:"mapControlToWatermark",value:function(e){var t,n,i,o=e.getRawValue(),r=(null===(t=o.fontName)||void 0===t?void 0:t.value)||null,a=(null===(n=o.size)||void 0===n?void 0:n.value)||null,c=o._repeat,l=o._repeatWidth,s=o._repeatHeight;return S.D.isText(o)?i={id:void 0,type:o.type,renderTarget:o.renderTarget,name:o.name,_repeat:c,_repeatWidth:l,_repeatHeight:s,opacity:Number((o.opacity/100).toFixed(2)),align:c?1:o.align,rotate:o.rotate,x:o.x,y:o.y,allowView:o.allowView,allowPrint:o.allowPrint,range:o.range,placeOverContent:o.placeOverContent,repeatWidth:c?l:0,repeatHeight:c?s:0,text:o.text,size:a,color:o.color,fontName:r,bold:o.bold,italic:o.italic,textAlignment:o.textAlignment}:S.D.isImage(o)&&(i={id:void 0,type:o.type,renderTarget:o.renderTarget,name:o.name,_repeat:c,_repeatWidth:l,_repeatHeight:s,opacity:Number((o.opacity/100).toFixed(2)),align:c?1:o.align,rotate:o.rotate,x:o.x,y:o.y,allowView:o.allowView,allowPrint:o.allowPrint,range:o.range,placeOverContent:o.placeOverContent,repeatWidth:c?l:0,repeatHeight:c?s:0,scale:Number((o.scale/100).toFixed(2)),imageData:o.imageData}),i}}]),e}()).\u0275fac=function(e){return new(e||c)(_.Wb(P.c),_.Wb(y.g))},c.\u0275prov=_.Ib({token:c,factory:c.\u0275fac}),c),E=r("+Cyk"),z=r("Ads2"),T=r("Vbab"),N=r("Yoju"),I=r("SVse"),W=r("vUdp"),A=r("DKVU"),F=r("524M"),D=r("V2Em"),j=r("gNdQ"),V=["textAreaElement"];function G(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",25),_.Zb("click",(function(){_.uc(n);var e=t.$implicit;return _.dc().selectTab(e)})),_.Fc(1),_.ec(2,"translate"),_.Rb()}if(2&e){var i=t.$implicit,o=_.dc();_.Eb("selected",i===o.selectedTab),_.zb(1),_.Gc(_.fc(2,3,o.WatermarkUtils.isFileWatermark(i)?"FILE_WATERMARK":"SCREEN_AND_PRINT_WATERMARK"))}}function L(e,t){1&e&&(_.Sb(0,"section",26),_.Sb(1,"div",27),_.Nb(2,"pu-toggle-button",28),_.Sb(3,"span",29),_.Fc(4),_.ec(5,"translate"),_.Rb(),_.Rb(),_.Rb()),2&e&&(_.zb(4),_.Gc(_.fc(5,1,"FILE_WATERMARK_ENABLED_DESCRIPTION")))}function K(e,t){if(1&e){var n=_.Tb();_.Sb(0,"button",10),_.Zb("click",(function(){return _.uc(n),_.dc().onMoreMenuClick()})),_.Nb(1,"i",30),_.Rb()}if(2&e){var i=_.dc();_.jc("disabled",!i.selectedControl),_.Ab("color",i.previewMenuVisible?"primary":"dark")}}function U(e,t){if(1&e&&(_.Sb(0,"div",31),_.Sb(1,"div",32),_.Sb(2,"div",33),_.Sb(3,"h3"),_.Fc(4),_.ec(5,"translate"),_.Nb(6,"pu-toggle-button",34),_.Rb(),_.Rb(),_.Sb(7,"div",33),_.Sb(8,"h3"),_.Fc(9),_.ec(10,"translate"),_.Nb(11,"pu-toggle-button",35),_.Rb(),_.Rb(),_.Rb(),_.Rb()),2&e){var n=_.dc();_.jc("formGroup",n.previewMenuControls),_.zb(2),_.Eb("disabled",!n.previewMenuControls.value.view),_.zb(2),_.Hc(" ",_.fc(5,7,"PREVIEW_SCREEN_WATERMARK")," "),_.zb(3),_.Eb("disabled",!n.previewMenuControls.value.print),_.zb(2),_.Hc(" ",_.fc(10,9,"PREVIEW_WATERMARK_IN_PRINT")," ")}}function H(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",36),_.Zb("click",(function(){_.uc(n);var e=t.$implicit;return _.dc().selectWatermark(e)})),_.Nb(1,"i"),_.Sb(2,"span"),_.Fc(3),_.Rb(),_.Sb(4,"i",37),_.Zb("click",(function(e){_.uc(n);var i=t.$implicit;return _.dc().openDeleteWatermarkDialog(i,e)})),_.Rb(),_.Rb()}if(2&e){var i=t.$implicit,o=_.dc();_.Eb("selected",i===o.selectedControl),_.zb(1),_.Cb("papycon papycon-",o.WatermarkUtils.isText(i.value)?"textbox":"image",""),_.zb(2),_.Gc(i.value.name)}}function Z(e,t){if(1&e&&_.Nb(0,"div",41),2&e){var n=_.dc().$implicit,i=_.dc(2);_.jc("watermarkControl",n)("pageSize",i.pageSize)}}function $(e,t){if(1&e&&(_.Qb(0),_.Dc(1,Z,1,2,"div",40),_.Pb()),2&e){var n=t.$implicit,i=_.dc(2);_.zb(1),_.jc("ngIf",i.previewMenuControls.value.view&&n.value.allowView||i.previewMenuControls.value.print&&n.value.allowPrint)}}function B(e,t){if(1&e&&(_.Sb(0,"div",38),_.Dc(1,$,2,1,"ng-container",39),_.Rb()),2&e){var n=_.dc();_.jc("ngStyle",n.previewWatermarkSizeStyles),_.zb(1),_.jc("ngForOf",n.currentControls)}}function J(e,t){if(1&e&&(_.Sb(0,"div",42),_.Nb(1,"img",43),_.Rb()),2&e){var n=_.dc();_.zb(1),_.jc("sdImage",n.previewImage)}}function X(e,t){1&e&&_.Nb(0,"div",44)}function Y(e,t){if(1&e&&(_.Sb(0,"div",33),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Nb(4,"i",60),_.ec(5,"translate"),_.Nb(6,"pu-toggle-button",67),_.Rb(),_.Rb()),2&e){var n=_.dc(2);_.Eb("disabled",!n.selectedControl.value.allowView),_.zb(2),_.Hc(" ",_.fc(3,4,"DISPLAY_SCREEN_WATERMARK")," "),_.zb(2),_.jc("sdTooltip",_.fc(5,6,"DISPLAY_SCREEN_WATERMARK_TOOLTIP"))}}function q(e,t){if(1&e&&(_.Sb(0,"div",33),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Nb(4,"i",60),_.ec(5,"translate"),_.Nb(6,"pu-toggle-button",68),_.Rb(),_.Rb()),2&e){var n=_.dc(2);_.Eb("disabled",!n.selectedControl.value.allowPrint),_.zb(2),_.Hc(" ",_.fc(3,4,"INCLUDE_WATERMARK_IN_PRINT")," "),_.zb(2),_.jc("sdTooltip",_.fc(5,6,"INCLUDE_WATERMARK_IN_PRINT_TOOLTIP"))}}function Q(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",69),_.Zb("click",(function(){_.uc(n);var e=t.$implicit;return _.dc(2).selectedControl.patchValue({align:e})})),_.Rb()}if(2&e){var i=t.$implicit,o=_.dc(2);_.Eb("selected",o.selectedControl.value._repeat||i===o.selectedControl.value.align)}}function ee(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",76),_.Zb("mousedown",(function(e){_.uc(n);var i=t.$implicit;return _.dc(4).onKeywordMousedown(e,i)})),_.Fc(1),_.Rb()}if(2&e){var i=t.$implicit;_.zb(1),_.Gc(i)}}function te(e,t){if(1&e&&(_.Sb(0,"section",74),_.Dc(1,ee,2,1,"div",75),_.Rb()),2&e){var n=_.dc(3);_.zb(1),_.jc("ngForOf",n.TextKeywords)}}function ne(e,t){if(1&e&&(_.Sb(0,"div",70),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Rb(),_.Nb(4,"textarea",71,72),_.ec(6,"translate"),_.Dc(7,te,2,1,"section",73),_.Rb()),2&e){var n=_.dc(2);_.zb(2),_.Gc(_.fc(3,3,"ENTER_TEXT")),_.zb(2),_.jc("placeholder",_.fc(6,5,"TEXT_WATERMARK_SETTINGS_PLACEHOLDER")),_.zb(3),_.jc("ngIf",n.WatermarkUtils.isScreenWatermark(n.selectedTab))}}var ie=function(){return{standalone:!0}};function oe(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",77),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Rb(),_.Sb(4,"section",78),_.Sb(5,"button",79),_.Zb("click",(function(){return _.uc(n),_.tc(12).click()})),_.Fc(6),_.ec(7,"translate"),_.Rb(),_.Nb(8,"pu-input",80,81),_.ec(10,"translate"),_.Sb(11,"input",82,83),_.Zb("change",(function(){_.uc(n);var e=_.tc(12),t=_.tc(9);return _.dc(2).onFileChange(e,t)})),_.Rb(),_.Rb(),_.Rb()}2&e&&(_.zb(2),_.Gc(_.fc(3,4,"ADD_IMAGE")),_.zb(4),_.Gc(_.fc(7,6,"SEARCH_FILE")),_.zb(2),_.jc("ngModelOptions",_.mc(10,ie))("placeholder",_.fc(10,8,"IMAGE_WATERMARK_SETTINGS_PLACEHOLDER")))}function re(e,t){1&e&&(_.Sb(0,"div",33),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Rb(),_.Sb(4,"section",63),_.Sb(5,"span",64),_.Fc(6),_.ec(7,"translate"),_.Rb(),_.Nb(8,"pu-input-value",84),_.Rb(),_.Rb()),2&e&&(_.zb(2),_.Gc(_.fc(3,6,"IMAGE_SIZE")),_.zb(4),_.Gc(_.fc(7,8,"IMAGE_SCALE")),_.zb(2),_.jc("max",9999)("min",1)("width",119)("height",30))}function ae(e,t){if(1&e){var n=_.Tb();_.Sb(0,"i",96),_.Zb("click",(function(){_.uc(n);var e=t.$implicit;return _.dc(3).selectedControl.patchValue({textAlignment:e})})),_.Rb()}if(2&e){var i=t.$implicit,o=_.dc(3);_.Bb("papycon-text-align-"+i),_.Eb("selected",o.selectedControl.value.textAlignment===i)}}function ce(e,t){1&e&&(_.Nb(0,"pu-color-palette",97),_.ec(1,"translate"),_.ec(2,"translate")),2&e&&_.jc("customColorLabel",_.fc(1,3,"CUSTOM_COLOR"))("defaultColorLabel",_.fc(2,5,"DEFAULT_COLOR"))("defaultColorPanelExpandedd",!0)}var le=function(){return["left","center","right"]};function se(e,t){if(1&e){var n=_.Tb();_.Sb(0,"div",85),_.Sb(1,"h3"),_.Fc(2),_.ec(3,"translate"),_.Rb(),_.Sb(4,"section",86),_.Nb(5,"pu-dropdown",87),_.Sb(6,"div",88),_.Zb("click",(function(){_.uc(n);var e=_.dc(2);return e.paletteVisible=!e.paletteVisible})),_.Nb(7,"div",89),_.Rb(),_.Rb(),_.Sb(8,"section",90),_.Dc(9,ae,1,4,"i",91),_.Nb(10,"div",92),_.Sb(11,"img",93),_.Zb("click",(function(){_.uc(n);var e=_.dc(2);return e.selectedControl.patchValue({bold:!e.selectedControl.value.bold})})),_.Rb(),_.Sb(12,"img",94),_.Zb("click",(function(){_.uc(n);var e=_.dc(2);return e.selectedControl.patchValue({italic:!e.selectedControl.value.italic})})),_.Rb(),_.Rb(),_.Dc(13,ce,3,7,"pu-color-palette",95),_.Rb()}if(2&e){var i=_.dc(2);_.zb(2),_.Gc(_.fc(3,10,"FONT")),_.zb(3),_.jc("options",i.FontSizeOptions),_.zb(2),_.Bc("background-color",i.selectedControl.value.color),_.zb(2),_.jc("ngForOf",_.mc(12,le)),_.zb(2),_.Eb("selected",i.selectedControl.value.bold),_.zb(1),_.Eb("selected",i.selectedControl.value.italic),_.zb(1),_.jc("ngIf",i.paletteVisible)}}function be(e,t){if(1&e){var n=_.Tb();_.Sb(0,"section",45),_.Sb(1,"h2"),_.Fc(2),_.ec(3,"translate"),_.Rb(),_.Dc(4,Y,7,8,"div",46),_.Dc(5,q,7,8,"div",46),_.Sb(6,"div",47),_.Sb(7,"h3"),_.Fc(8),_.ec(9,"translate"),_.Rb(),_.Sb(10,"section",48),_.Dc(11,Q,1,2,"div",49),_.Rb(),_.Rb(),_.Dc(12,ne,8,7,"div",50),_.Dc(13,oe,13,11,"div",51),_.Sb(14,"div",52),_.Sb(15,"h3"),_.Fc(16),_.ec(17,"translate"),_.Rb(),_.Sb(18,"section",53),_.Nb(19,"pu-slider",54),_.Sb(20,"pu-input",55),_.Zb("keydown.enter",(function(e){return _.uc(n),e.target.blur()})),_.Rb(),_.Rb(),_.Rb(),_.Dc(21,re,9,10,"div",56),_.Sb(22,"div",52),_.Sb(23,"h3"),_.Fc(24),_.ec(25,"translate"),_.Rb(),_.Sb(26,"section",53),_.Nb(27,"pu-slider",57),_.Sb(28,"pu-input",58),_.Zb("keydown.enter",(function(e){return _.uc(n),e.target.blur()})),_.Rb(),_.Rb(),_.Rb(),_.Dc(29,se,14,13,"div",59),_.Sb(30,"div",33),_.Sb(31,"h3"),_.Fc(32),_.ec(33,"translate"),_.Nb(34,"i",60),_.ec(35,"translate"),_.Nb(36,"pu-toggle-button",61),_.Rb(),_.Sb(37,"div",62),_.Sb(38,"section",63),_.Sb(39,"span",64),_.Fc(40),_.ec(41,"translate"),_.Rb(),_.Sb(42,"pu-input-value",65),_.Zb("keyup.enter",(function(e){return _.uc(n),e.target.blur()})),_.Rb(),_.Rb(),_.Sb(43,"section",63),_.Sb(44,"span",64),_.Fc(45),_.ec(46,"translate"),_.Rb(),_.Sb(47,"pu-input-value",66),_.Zb("keyup.enter",(function(e){return _.uc(n),e.target.blur()})),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Rb()}if(2&e){var i=_.dc();_.jc("formGroup",i.selectedControl),_.zb(2),_.Gc(_.fc(3,30,i.WatermarkUtils.isText(i.selectedControl.value)?"TEXT_WATERMARK":"IMAGE_WATERMARK")),_.zb(2),_.jc("ngIf",i.WatermarkUtils.isScreenWatermark(i.selectedTab)),_.zb(1),_.jc("ngIf",i.WatermarkUtils.isScreenWatermark(i.selectedTab)),_.zb(3),_.Gc(_.fc(9,32,"WATERMARK_POSITION")),_.zb(3),_.jc("ngForOf",i.WatermarkAlignments),_.zb(1),_.jc("ngIf",i.WatermarkUtils.isText(i.selectedControl.value)),_.zb(1),_.jc("ngIf",i.WatermarkUtils.isImage(i.selectedControl.value)),_.zb(3),_.Gc(_.fc(17,34,"OPACITY")),_.zb(3),_.jc("max",100)("min",0),_.zb(2),_.jc("ngIf",i.WatermarkUtils.isImage(i.selectedControl.value)),_.zb(3),_.Gc(_.fc(25,36,"ROTATION")),_.zb(3),_.jc("max",360)("min",0),_.zb(2),_.jc("ngIf",i.WatermarkUtils.isText(i.selectedControl.value)),_.zb(1),_.Eb("disabled",!i.selectedControl.value._repeat),_.zb(2),_.Hc(" ",_.fc(33,38,"REPEAT")," "),_.zb(2),_.jc("sdTooltip",_.fc(35,40,i.WatermarkUtils.isText(i.selectedControl.value)?"TEXT_WATERMARK_REPEAT_DESCRIPTION":"IMAGE_WATERMARK_REPEAT_DESCRIPTION")),_.zb(6),_.Gc(_.fc(41,42,"HEIGHT_INTERVAL")),_.zb(2),_.jc("max",1e3)("min",1)("width",127)("height",30),_.zb(3),_.Gc(_.fc(46,44,"WIDTH_INTERVAL")),_.zb(2),_.jc("max",1e3)("min",1)("width",127)("height",30)}}function ue(e,t){if(1&e&&(_.Sb(0,"div",98),_.Fc(1),_.Rb()),2&e){var n=t.$implicit,i=t.rect;_.Bc("top",i.top-50,"px")("left",i.left-100,"px"),_.zb(1),_.Gc(n)}}var fe,ge,pe,de,me=[1,2,3,4,0,5,6,7,8],xe=["SCREEN","FILE"],ve=["{{date}}","{{ip-address}}"],he=[{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"20",value:20},{label:"22",value:22},{label:"24",value:24},{label:"26",value:26},{label:"28",value:28},{label:"36",value:36},{label:"48",value:48},{label:"72",value:72}],Ce=((ge=function(){function n(e,t,i,r,a,c,l,s,b,u,f,g){o(this,n),this.fb=e,this.subscriptionService=t,this.contentService=i,this.changeDetectorRef=r,this.watermarkService=a,this.watermarkSettingsService=c,this.renderingService=l,this.dialogService=s,this.toastService=b,this.translatePipe=u,this.tooltipService=f,this.localStorageService=g,this.fontNameOptions=[],this.globalForm=this.fb.group({fileEnabled:!0}),this.watermarkControls=this.fb.array([]),this.selectedTab="SCREEN",this.selectedControl=null,this.controlSubscriptionMap=new Map,this.renderingSubscription=null,this.beforeunloadSubscription=null,this.paletteVisible=!1,this.configPanelVisible=!1,this.previewImage=null,this.previewMenuVisible=!1,this.previewMenuControls=this.fb.group({view:!0,print:!0})}return a(n,[{key:"ngOnInit",value:function(){var e=this;this.localStorageService.get(f.c.watermarkStorage)&&this.previewMenuControls.setValue(JSON.parse(this.localStorageService.get(f.c.watermarkStorage)),{emitEvent:!1}),this.subscriptionService.push(S.F.windowResize$.subscribe({next:function(){e.changeDetectorRef.markForCheck()}}),this.contentService.fontsResponse$.pipe(v.a({next:function(t){e.fontNameOptions=t.fontList.map((function(e){return{label:e.label[1042]||e.label[0]||e.name,value:e.name,available:!0}}))}})).subscribe({next:function(){return e.initWatermarks()}}),this.dialogService.dialogEvent$.pipe(h.a((function(e){return e.dialogType===s.c.DELETE})),h.a((function(e){return"confirm"===e.action}))).subscribe({next:function(t){e.deleteWatermark(t.data),e.dialogService.closeCurrentActiveDialog()}}),this.previewMenuControls.valueChanges.subscribe({next:function(t){e.localStorageService.set(f.c.watermarkStorage,JSON.stringify(t))}}))}},{key:"ngAfterViewInit",value:function(){this.tooltipService.registerContainer(this.tooltipContainerDirective)}},{key:"onKeywordMousedown",value:function(e,t){e.preventDefault();var n=this.textAreaElement.nativeElement===document.activeElement,i=this.textAreaElement.nativeElement.selectionStart,o=this.textAreaElement.nativeElement.selectionEnd;if(n){var r=this.selectedControl.value.text,a=r.slice(0,i),c=i!==r.length?r.slice(i-r.length):"";this.selectedControl.patchValue({text:"".concat(a).concat(t).concat(c)}),this.textAreaElement.nativeElement.setSelectionRange(i+t.length,o+t.length)}else this.selectedControl.patchValue({text:"".concat(this.selectedControl.value.text).concat(t)})}},{key:"togglePanelVisible",value:function(){0!==this.currentControls.length&&(this.configPanelVisible=!this.configPanelVisible,this.previewMenuVisible=!1)}},{key:"selectTab",value:function(e){this.selectedControl&&!this.validateImageWatermark([this.selectedControl.value])||(this.selectedTab=e,this.selectWatermark(this.currentControls[0]||null),this.subscriptionService.push(this.renderPreview().subscribe()))}},{key:"createWatermark",value:function(t){if(!this.selectedControl||this.validateImageWatermark([this.selectedControl.value])){var n=e(this.watermarkSettingsService.createControl(t),2),i=n[0],o=n[1];i.patchValue({renderTarget:this.selectedTab,name:this.watermarkSettingsService.generateName(t,this.currentControls.map((function(e){return e.value.name}))),size:this.FontSizeOptions.find((function(e){return 16===e.value})),fontName:this.fontNameOptions[0]},{emitEvent:!1}),this.watermarkControls.push(i),this.controlSubscriptionMap.set(i,o),this.selectWatermark(i,!0),this.subscribeBeforeunload()}}},{key:"openDeleteWatermarkDialog",value:function(e,t){t.stopPropagation(),this.dialogService.toggleDialogVisibility(s.c.DELETE,!0,{title:this.translatePipe.transform("WATERMARK_DELETE_TITLE"),description:this.translatePipe.transform("WATERMARK_DELETE_DESCRIPTION"),size:{width:336,height:280},data:e})}},{key:"deleteWatermark",value:function(e){var t=this.watermarkControls.controls.indexOf(e);this.watermarkControls.removeAt(t),this.controlSubscriptionMap.get(e).forEach((function(e){return e.unsubscribe()})),this.controlSubscriptionMap.delete(e),e===this.selectedControl&&(this.selectWatermark(this.currentControls[this.currentControls.length-1],!0),this.configPanelVisible=!1),this.subscriptionService.push(this.renderPreview().subscribe()),this.subscribeBeforeunload()}},{key:"selectWatermark",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i||!this.selectedControl||this.validateImageWatermark([this.selectedControl.value])){if(this.renderingSubscription&&this.renderingSubscription.unsubscribe(),e){var o=e.value;this.renderingSubscription=e.valueChanges.pipe(h.a((function(e,t){return Number.isNaN(e)?Number.isNaN(o):0!==Object.keys(S.g.diff(e,o)).length})),v.a({next:function(){return n.subscribeBeforeunload()}}),C.a(500),h.a((function(e){return n.validateImageWatermark([e])})),k.a((function(){return n.renderPreview()}))).subscribe(),this.subscriptionService.push(this.renderingSubscription)}this.selectedControl=e,this.forceUpdateFormGroupStatus(null===(t=this.selectedControl)||void 0===t?void 0:t.get("_repeat").value,["_repeatWidth","_repeatHeight"]),this.configPanelVisible=Boolean(e),this.paletteVisible=!1,this.previewMenuVisible=!1,this.changeDetectorRef.markForCheck()}}},{key:"saveWatermarks",value:function(){var e=this,t=this.watermarkSettingsService.exportWatermarkChanges(this.filterControls("SCREEN")),n=this.watermarkSettingsService.exportWatermarkChanges(this.filterControls("FILE"));this.validateImageWatermark(this.currentControls.map((function(e){return e.value})))&&this.subscriptionService.push(g.a(this.watermarkService.saveChanges("SCREEN",!0,t),this.watermarkService.saveChanges("FILE",this.globalForm.get("fileEnabled").value,n)).subscribe({next:function(){e.initWatermarks(),e.toastService.showToast({icon:"success",text:"CHANGES_SAVED"})},error:function(){e.toastService.showToast({icon:"failed",text:"ERROR_PAGES_500"})}}))}},{key:"clearWatermarks",value:function(){var e=this;this.dialogService.toggleDialogVisibility(s.c.WARNING,!0,{size:{width:336,height:280},title:this.translatePipe.transform("CANCEL"),description:this.translatePipe.transform("WATERMARK_CANCEL_DESCRIPTION")}),this.subscriptionService.push(this.dialogService.dialogEvent$.pipe(h.a((function(e){return"confirm"===e.action&&e.dialogType===s.c.WARNING}))).subscribe({next:function(){e.dialogService.closeCurrentActiveDialog(),e.initWatermarks()}}))}},{key:"initWatermarks",value:function(){var n=this;this.subscriptionService.push(g.a(this.watermarkService.fetchChanges("SCREEN"),this.watermarkService.fetchChanges("FILE")).pipe(w.a((function(e){return e.map((function(e){return{enabled:e.enabled,controls:n.watermarkSettingsService.importWatermarkChanges(e.changes)}}))}))).subscribe({next:function(i){var o,r=e(i,2),a=r[0],c=r[1];n.globalForm=n.fb.group({fileEnabled:c.enabled}),n.subscriptionService.push(n.globalForm.valueChanges.subscribe({next:function(){return n.subscribeBeforeunload()}})),n.selectedControl=null,n.watermarkControls.controls.forEach((function(e){var t;return null===(t=n.controlSubscriptionMap.get(e))||void 0===t?void 0:t.forEach((function(e){return e.unsubscribe()}))})),n.watermarkControls=n.fb.array([]),n.controlSubscriptionMap=new Map,null===(o=n.beforeunloadSubscription)||void 0===o||o.unsubscribe(),n.beforeunloadSubscription=null,[].concat(t(a.controls),t(c.controls)).forEach((function(t){var i=e(n.watermarkSettingsService.createControl(t.value.type,t),2),o=(i[0],i[1]);t.patchValue({size:n.FontSizeOptions.find((function(e){return e.value===t.value.size})),fontName:n.fontNameOptions.find((function(e){return e.value===t.value.fontName}))},{emitEvent:!1}),n.watermarkControls.push(t),n.controlSubscriptionMap.set(t,o)})),n.selectWatermark(n.watermarkControls.controls.filter((function(e){return e.value.renderTarget===n.selectedTab}))[0]||null),n.changeDetectorRef.markForCheck(),n.subscriptionService.push(n.renderPreview().subscribe())}}))}},{key:"onFileChange",value:function(e,t){var n=this,i=Array.from(e.files||[])[0];e.value="",i&&this.subscriptionService.push(u.b.fromFile(i).pipe(k.a((function(e){return n.watermarkService.renderAppearance(e)}))).subscribe({next:function(e){n.selectedControl.get("imageData").setValue(e),t.writeValue(i.name||"")},error:function(){n.toastService.showToast({icon:"failed",text:"FORMAT_ERROR"})}}))}},{key:"onMoreMenuClick",value:function(){this.previewMenuVisible=!this.previewMenuVisible}},{key:"filterControls",value:function(e){return this.watermarkControls.controls.filter((function(t){return t.value.renderTarget===e}))}},{key:"renderPreview",value:function(){var e=this;return p.a((function(){return e.previewImage=null,e.changeDetectorRef.markForCheck(),d.a(e.watermarkSettingsService.exportWatermarkChanges(e.currentControls))})).pipe(k.a((function(t){return e.renderingService.renderWatermarks(t,100)})),v.a({next:function(t){e.previewImage=t,e.changeDetectorRef.markForCheck()}}),M.a(void 0))}},{key:"subscribeBeforeunload",value:function(){this.beforeunloadSubscription||(this.beforeunloadSubscription=m.a(window,"beforeunload").subscribe({next:function(e){e.preventDefault(),e.returnValue=!1}}),this.subscriptionService.push(this.beforeunloadSubscription))}},{key:"validateImageWatermark",value:function(e){var t=e.some((function(e){return S.D.isImage(e)&&!e.imageData}));return t&&this.toastService.showToast({icon:"failed",text:"WATERMARK_NEED_IMAGE"}),!t}},{key:"forceUpdateFormGroupStatus",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?"enable":"disable";x.a(0).subscribe({next:function(){return t.forEach((function(e){var t;return null===(t=n.selectedControl)||void 0===t?void 0:t.get(e)[o]({emitEvent:i})}))}})}},{key:"WatermarkUtils",get:function(){return S.D}},{key:"WatermarkAlignments",get:function(){return me}},{key:"WatermarkRenderingTypes",get:function(){return xe}},{key:"TextKeywords",get:function(){return ve}},{key:"FontSizeOptions",get:function(){return he}},{key:"pageSize",get:function(){return{x:0,y:0,h:842*(S.F.width>1480?1:.9),w:595*(S.F.width>1480?1:.9)}}},{key:"previewWatermarkSizeStyles",get:function(){return S.D.getPreviewWatermarkSizeStyles(this.pageSize)}},{key:"currentControls",get:function(){return this.filterControls(this.selectedTab)}},{key:"formChanged",get:function(){return null!==this.beforeunloadSubscription}}]),n}()).\u0275fac=function(e){return new(e||ge)(_.Mb(y.g),_.Mb(l.G),_.Mb(O.f),_.Mb(_.h),_.Mb(P.c),_.Mb(R),_.Mb(E.e),_.Mb(s.b),_.Mb(z.c),_.Mb(T.d),_.Mb(b.d),_.Mb(N.b))},ge.\u0275cmp=_.Gb({type:ge,selectors:[["sd-watermark-settings"]],viewQuery:function(e,t){var n;1&e&&(_.Lc(b.b,!0),_.Lc(V,!0)),2&e&&(_.sc(n=_.ac())&&(t.tooltipContainerDirective=n.first),_.sc(n=_.ac())&&(t.textAreaElement=n.first))},features:[_.yb([l.G,{provide:b.a,useValue:0}])],decls:41,vars:34,consts:[[1,"tabview"],[1,"tabview-header"],["class","tabview-header-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"tabview-body","config",3,"formGroup"],["class","config-global",4,"ngIf"],[1,"config-toolbar"],["size","tiny","color","dark",1,"ep-button",3,"click"],[1,"papycon","papycon-plus3"],[1,"right-button"],["class","ep-text-button",3,"disabled","click",4,"ngIf"],[1,"ep-text-button",3,"disabled","click"],[1,"papycon","papycon-show-panel"],["class","more-menu-container",3,"formGroup",4,"ngIf"],[1,"config-view"],[1,"config-list"],["class","config-list-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"config-preview"],["class","preview-watermark",3,"ngStyle",4,"ngIf"],["class","preview-watermark",4,"ngIf"],["class","spin-loader",4,"ngIf"],["class","config-panel",3,"formGroup",4,"ngIf"],[1,"config-footer"],["size","small","color","white",1,"ep-button",3,"disabled","click"],["color","primary","size","small",1,"ep-button",3,"disabled","click"],["class","tooltip",3,"top","left",4,"sdTooltipContainer"],[1,"tabview-header-item",3,"click"],[1,"config-global"],[1,"config-global-item"],["formControlName","fileEnabled"],[1,"config-global-item-content"],[1,"papycon","papycon-more-symbol4"],[1,"more-menu-container",3,"formGroup"],[1,"more-menu"],[1,"config-panel-item","input"],["formControlName","view"],["formControlName","print"],[1,"config-list-item",3,"click"],[1,"config-list-item-button","papycon","papycon-minus2",3,"click"],[1,"preview-watermark",3,"ngStyle"],[4,"ngFor","ngForOf"],["sdWatermark","","ondragstart","return false","class","watermark-view",3,"watermarkControl","pageSize",4,"ngIf"],["sdWatermark","","ondragstart","return false",1,"watermark-view",3,"watermarkControl","pageSize"],[1,"preview-watermark"],[3,"sdImage"],[1,"spin-loader"],[1,"config-panel",3,"formGroup"],["class","config-panel-item input",3,"disabled",4,"ngIf"],[1,"config-panel-item","align"],[1,"align-display"],["class","align-display-item",3,"selected","click",4,"ngFor","ngForOf"],["class","config-panel-item text",4,"ngIf"],["class","config-panel-item image",4,"ngIf"],[1,"config-panel-item","slider"],[1,"slider-container"],["formControlName","opacity",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","opacityInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item input",4,"ngIf"],["formControlName","rotate",1,"slider-slider",3,"max","min"],["size","tiny","formControlName","rotateInput",1,"slider-input",3,"keydown.enter"],["class","config-panel-item font",4,"ngIf"],[1,"papycon","papycon-questionmark",3,"sdTooltip"],["formControlName","_repeat"],[1,"input-section"],[1,"input-container"],[1,"input-title"],["formControlName","_repeatHeight",1,"input-input-value",3,"max","min","width","height","keyup.enter"],["formControlName","_repeatWidth",1,"input-input-value",3,"max","min","width","height","keyup.enter"],["formControlName","allowView"],["formControlName","allowPrint"],[1,"align-display-item",3,"click"],[1,"config-panel-item","text"],["formControlName","text",1,"text-input",3,"placeholder"],["textAreaElement",""],["class","text-button-container",4,"ngIf"],[1,"text-button-container"],["class","text-button",3,"mousedown",4,"ngFor","ngForOf"],[1,"text-button",3,"mousedown"],[1,"config-panel-item","image"],[1,"image-container"],["color","white","size","tiny",1,"ep-button",3,"click"],["disabled","","ngModel","",1,"image-input",3,"ngModelOptions","placeholder"],["fileNameForm",""],["type","file","hidden","",3,"change"],["fileForm",""],["formControlName","scale",1,"input-input-value",3,"max","min","width","height"],[1,"config-panel-item","font"],[1,"font-basic"],["formControlName","size",1,"font-basic-size",3,"options"],[1,"font-basic-color-container",3,"click"],[1,"font-basic-color"],[1,"font-more"],["class","papycon",3,"selected","class","click",4,"ngFor","ngForOf"],[1,"font-divider"],["src","assets/icons/bold-text.svg",3,"click"],["src","assets/icons/italic-text.svg",3,"click"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd",4,"ngIf"],[1,"papycon",3,"click"],["formControlName","color",3,"customColorLabel","defaultColorLabel","defaultColorPanelExpandedd"],[1,"tooltip"]],template:function(e,t){1&e&&(_.Sb(0,"h1"),_.Fc(1),_.ec(2,"translate"),_.Rb(),_.Sb(3,"main",0),_.Sb(4,"header",1),_.Dc(5,G,3,5,"div",2),_.Rb(),_.Sb(6,"main",3),_.Dc(7,L,6,3,"section",4),_.Sb(8,"section",5),_.Sb(9,"button",6),_.Zb("click",(function(){return t.createWatermark("Image")})),_.Nb(10,"i",7),_.Fc(11),_.ec(12,"translate"),_.Rb(),_.Sb(13,"button",6),_.Zb("click",(function(){return t.createWatermark("Text")})),_.Nb(14,"i",7),_.Fc(15),_.ec(16,"translate"),_.Rb(),_.Sb(17,"div",8),_.Dc(18,K,2,2,"button",9),_.Sb(19,"button",10),_.Zb("click",(function(){return t.togglePanelVisible()})),_.Nb(20,"i",11),_.Rb(),_.Rb(),_.Dc(21,U,12,11,"div",12),_.Rb(),_.Sb(22,"section",13),_.Sb(23,"section",14),_.Sb(24,"h2"),_.Fc(25),_.ec(26,"translate"),_.Rb(),_.Dc(27,H,5,6,"div",15),_.Rb(),_.Sb(28,"section",16),_.Dc(29,B,2,2,"div",17),_.Dc(30,J,2,1,"div",18),_.Dc(31,X,1,0,"div",19),_.Rb(),_.Dc(32,be,48,46,"section",20),_.Rb(),_.Sb(33,"footer",21),_.Sb(34,"button",22),_.Zb("click",(function(){return t.clearWatermarks()})),_.Fc(35),_.ec(36,"translate"),_.Rb(),_.Sb(37,"button",23),_.Zb("click",(function(){return t.saveWatermarks()})),_.Fc(38),_.ec(39,"translate"),_.Rb(),_.Rb(),_.Rb(),_.Rb(),_.Dc(40,ue,2,5,"div",24)),2&e&&(_.zb(1),_.Gc(_.fc(2,22,"WATERMARK")),_.zb(4),_.jc("ngForOf",t.WatermarkRenderingTypes),_.zb(1),_.jc("formGroup",t.globalForm),_.zb(1),_.jc("ngIf",t.WatermarkUtils.isFileWatermark(t.selectedTab)),_.zb(1),_.Eb("border-top",t.WatermarkUtils.isFileWatermark(t.selectedTab)),_.zb(3),_.Hc(" ",_.fc(12,24,"IMAGE_WATERMARK")," "),_.zb(4),_.Hc(" ",_.fc(16,26,"TEXT_WATERMARK")," "),_.zb(3),_.jc("ngIf",t.WatermarkUtils.isScreenWatermark(t.selectedTab)),_.zb(1),_.jc("disabled",!t.selectedControl),_.Ab("color",t.configPanelVisible?"primary":"dark"),_.zb(2),_.jc("ngIf",t.previewMenuVisible&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),_.zb(4),_.Gc(_.fc(26,28,"LIST")),_.zb(2),_.jc("ngForOf",t.currentControls),_.zb(2),_.jc("ngIf",t.selectedControl&&t.WatermarkUtils.isScreenWatermark(t.selectedTab)),_.zb(1),_.jc("ngIf",t.previewImage&&t.WatermarkUtils.isFileWatermark(t.selectedTab)),_.zb(1),_.jc("ngIf",!t.previewImage&&!t.selectedControl),_.zb(1),_.jc("ngIf",t.selectedControl&&t.configPanelVisible),_.zb(2),_.jc("disabled",!t.formChanged),_.zb(1),_.Gc(_.fc(36,30,"CANCEL")),_.zb(2),_.jc("disabled",!t.formChanged),_.zb(1),_.Gc(_.fc(39,32,"SAVE_CHANGES")))},directives:[I.s,y.s,y.l,I.t,W.a,l.L,y.r,y.j,I.w,A.a,F.a,l.E,l.s,D.b,l.u,y.d,y.u,l.k,l.g],pipes:[j.a],styles:["[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:1165px}h1[_ngcontent-%COMP%]{font-family:NotoSans-Medium,sans-serif;margin-bottom:30px;font-size:28px}h1[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.tabview[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tabview-header[_ngcontent-%COMP%]{z-index:2;-webkit-box-flex:0;-ms-flex:0 0 40px;flex:0 0 40px}.tabview-header-item[_ngcontent-%COMP%]{display:inline-block;height:100%;padding:13px 40px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #dadada;border-top-left-radius:4px;border-top-right-radius:4px;color:#6c6c6c;font-family:NotoSans-Medium;font-size:14px;line-height:14px;cursor:pointer}.tabview-header-item.selected[_ngcontent-%COMP%]{border-bottom:1px solid transparent;color:#ff6100;background-color:#fff}.tabview-header-item[_ngcontent-%COMP%]:not(.selected){border-top:1px solid transparent;border-right:1px solid transparent;border-left:1px solid transparent}.tabview-body[_ngcontent-%COMP%]{z-index:1;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-top:-1px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #dadada;background-color:#fff}.config[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.config-global[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:20px 30px}.config-global-item[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:44px}.config-global-item[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-right:16px}.config-global-item-title[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 127px;flex:0 0 127px;color:#1e1e1e;font-family:NotoSans-Regular;font-size:16px}.config-global-item-content[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#6c6c6c;font-family:NotoSans-Regular;font-size:14px}.config-toolbar[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:12px 16px;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #dadada}.config-toolbar[_ngcontent-%COMP%]   .ep-button[_ngcontent-%COMP%] + .ep-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:auto}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{-webkit-box-align:normal;-ms-flex-align:normal;align-items:normal;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:4px}.config-toolbar[_ngcontent-%COMP%]   .right-button[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%] + .ep-text-button[_ngcontent-%COMP%]{margin-left:12px}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]{position:relative;height:100%}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]{z-index:1;width:223px;height:65px;position:absolute;padding:20px 16px;top:27px;right:-17px;background-color:#fff;border:1px solid #dadada}.config-toolbar[_ngcontent-%COMP%]   .more-menu-container[_ngcontent-%COMP%]   .more-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:25px}.config-toolbar[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:auto;font-size:20px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.config-toolbar[_ngcontent-%COMP%]   .ep-text-button[_ngcontent-%COMP%], .config-view[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.config-view[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}.config-list[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 240px;flex:0 0 240px;-webkit-box-sizing:border-box;box-sizing:border-box;border-right:1px solid #dadada;color:#1e1e1e}.config-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:38px 16px 22px}.config-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 16px;cursor:pointer}.config-list-item.selected[_ngcontent-%COMP%], .config-list-item[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}.config-list-item[_ngcontent-%COMP%]:hover   .config-list-item-button[_ngcontent-%COMP%]{display:block}.config-list-item[_ngcontent-%COMP%]   .config-list-item-button[_ngcontent-%COMP%]{display:none;font-size:14px}.config-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;font-size:20px}.config-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-left:6px;font-family:NotoSans-Regular;font-size:13px}.config-preview[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:535px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:11px 12px;background-color:#f7f8f9}.config-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#fff}.config-preview[_ngcontent-%COMP%]   .preview-watermark[_ngcontent-%COMP%]{position:relative;background-color:#fff}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]{position:absolute;color:#1e1e1e;top:0;width:100%;height:100%;overflow:hidden}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;font-family:NotoSans-Regular}.config-preview[_ngcontent-%COMP%]   .watermark-view[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute}.config-preview[_ngcontent-%COMP%]   .spin-loader[_ngcontent-%COMP%]{width:56px;height:56px;border-style:solid;border-radius:50%;border-color:#ff6100 rgba(255,97,0,.2) rgba(255,97,0,.2);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:spin 1s ease-in-out infinite;animation:spin 1s ease-in-out infinite}@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.config-panel[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 300px;flex:0 0 300px;padding:28px 16px;-webkit-box-sizing:border-box;box-sizing:border-box;border-left:1px solid #dadada;color:#1e1e1e}.config-panel[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:28px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;font-family:NotoSans-Medium;font-size:13px;line-height:13px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:3px 0 0 2px;cursor:pointer}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:12px}.config-panel-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   pu-toggle-button[_ngcontent-%COMP%]{margin-left:auto}.config-footer[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding:15px;-webkit-box-sizing:border-box;box-sizing:border-box;border-top:1px solid #dadada}.config-footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:auto}.config-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.align-display[_ngcontent-%COMP%]{width:122px;height:102px;padding:8px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #dadada;border-radius:2px}.align-display-item[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-left:27px;border-radius:2px;background-color:#dadada;cursor:pointer}.align-display-item[_ngcontent-%COMP%]:nth-child(3n+1){margin-left:0}.align-display-item[_ngcontent-%COMP%]:nth-child(n+4){margin-top:18px}.align-display-item[_ngcontent-%COMP%]:hover{background-color:#e65800}.align-display-item[_ngcontent-%COMP%]:active{background-color:#d95300}.align-display-item.selected[_ngcontent-%COMP%]{background-color:#ff6100}.text-input[_ngcontent-%COMP%]{width:100%;height:80px;overflow:auto}.text-button[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #ffdda8;border-radius:10px;color:#6c6c6c;background-color:#fff8ed;font-family:NotoSans-Regular;font-size:13px;line-height:13px;cursor:pointer}.text-button[_ngcontent-%COMP%]:hover{border-color:#f79f1a;color:#ff6100}.text-button[_ngcontent-%COMP%]:active{color:#d95300}.text-button-container[_ngcontent-%COMP%]{margin-top:10px}.text-button-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.image-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.image-input[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;margin-left:10px}.slider-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.slider-title[_ngcontent-%COMP%]{color:#1e1e1e;font-family:NotoSans-Regular;font-size:13px}.slider-slider[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 170px;flex:0 0 170px}*[_ngcontent-%COMP%] + .slider-slider[_ngcontent-%COMP%]{margin-left:12px}.slider-input[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 40px;flex:0 0 40px;margin-left:8px}.slider.disabled[_ngcontent-%COMP%]   .slider-title[_ngcontent-%COMP%]{color:#c4c4c4}.input-section[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.input-container[_ngcontent-%COMP%] + .input-container[_ngcontent-%COMP%]{margin-left:14px}.input-title[_ngcontent-%COMP%]{color:#6c6c6c;font-family:NotoSans-Regular;font-size:12px}.input-input-value[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 170px;flex:0 0 170px;margin-top:6px}.input-input[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 40px;flex:0 0 40px;margin-left:8px}.input.disabled[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{color:#6c6c6c;opacity:.5}.font[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(n+2){margin-top:20px}.font-basic[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.font-basic[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:12px}.font-basic-name[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 140px;flex:0 0 140px}.font-basic-size[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 60px;flex:0 0 60px}.font-basic-color[_ngcontent-%COMP%]{width:100%;height:100%}.font-basic-color-container[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 30px;flex:0 0 30px;padding:4px;border:1px solid #dadada;border-radius:2px}.font-more[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.font-more[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 28px;flex:0 0 28px;height:28px;border-radius:2px;font-size:20px;line-height:28px;cursor:pointer}.font-more[_ngcontent-%COMP%]   i.selected[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .font-more[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%], .font-more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background-color:#dadada}.font-more[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:14px}.font-divider[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 1px;flex:0 0 1px;height:28px;background-color:#dadada}.tooltip[_ngcontent-%COMP%]{background-color:#363636;color:#fff;position:fixed;font-size:14px;font-family:NotoSans-Regular;z-index:1;padding:12px 22px 12px 15px;border-radius:2px;white-space:pre}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dadada}"],changeDetection:0}),ge),ke=((fe=function(){function e(t,n){o(this,e),this.dialogService=t,this.translatePipe=n}return a(e,[{key:"canDeactivate",value:function(e){var t=this;return!e.formChanged||(this.dialogService.toggleDialogVisibility(s.c.WARNING,!0,{size:{width:336,height:280},title:this.translatePipe.transform("CANCEL"),description:this.translatePipe.transform("WATERMARK_CANCEL_DESCRIPTION")}),this.dialogService.dialogEvent$.pipe(h.a((function(e){return e.dialogType===s.c.WARNING&&"confirm"===e.action})),w.a((function(){return t.dialogService.closeCurrentActiveDialog(),!0}))))}}]),e}()).\u0275fac=function(e){return new(e||fe)(_.Wb(s.b),_.Wb(T.d))},fe.\u0275prov=_.Ib({token:fe,factory:fe.\u0275fac}),fe),we=r("ICc5"),Me=r("iInd"),Se=[{path:"",component:Ce,canDeactivate:[ke]}],_e=((de=function e(){o(this,e)}).\u0275mod=_.Kb({type:de}),de.\u0275inj=_.Jb({factory:function(e){return new(e||de)},imports:[[Me.g.forChild(Se)],Me.g]}),de),ye=((pe=function e(){o(this,e)}).\u0275mod=_.Kb({type:pe}),pe.\u0275inj=_.Jb({factory:function(e){return new(e||pe)},providers:[R,ke],imports:[[I.c,y.n,_e,l.M,y.B,l.t,l.v,l.F,l.l,l.h,T.b,E.d,we.a,b.c,l.x]]}),pe)}}])}();